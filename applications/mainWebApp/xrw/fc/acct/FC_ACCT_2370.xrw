<?xml version="1.0" encoding="EUC-KR"?>
<?xml-stylesheet href="../../../css/style_sheet.css" type="text/css" ?>
<xhtml:html xmlns:ex="http://www.comsquare.co.kr/xforms/excel" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:ms="urn:schemas-microsoft-com:xslt" xmlns:my="http://www.comsquare.co.kr/example" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://www.w3.org/2002/01/xforms" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:cs="http://www.comsquare.co.kr/xforms">
	<xhtml:head>
		<xhtml:title>일반전표(수입결의)승인 및 승인취소 처리(FC_ACCT_2370)</xhtml:title>
		<model id="model1">
			<instance id="instance1">
				<root xmlns="">
					<initData>
						<!-- 화면 로딩시의 초기 데이터 -->
						<session/>
						<!-- 서버의 세션 정보 -->
						<comboSet>
							<!-- 선택계열(콤보박스,체크박스,리스트박스,라디오버튼)의 정보 -->
							<fc_acct_2340_m>
								<dataSet>
									<CURLIST1>
										<record>
											<cd_nm/>
											<cd/>
										</record>
									</CURLIST1>
									<CURLIST2>
										<record>
											<cd_nm/>
											<cd/>
										</record>
									</CURLIST2>
								</dataSet>
							</fc_acct_2340_m>
							<!--2012.01.11
							<CURLIST>
								<record>
									<cd_nm/>
									<cd/>
								</record>
								<record>
									<cd_nm>001100 현금</cd_nm>
									<cd>001100</cd>
								</record>
								<record>
									<cd_nm>011400 보통예금</cd_nm>
									<cd>011400</cd>
								</record>
								<record>
									<cd_nm>017500 기업자유예금</cd_nm>
									<cd>017500</cd>
								</record>
								<record>
									<cd_nm>472302 미지급비용(일반)</cd_nm>
									<cd>472302</cd>
								</record>
							</CURLIST>
							 -->
							<dataSet>
								<CURLIST>
									<record>
										<cd_nm/>
										<cd/>
									</record>
								</CURLIST>
								<CURLIST2>
									<record>
										<budg_cd/>
										<budg_abrv_nm/>
									</record>
								</CURLIST2>
								<xx_srch_slip_clsf_cd_61/>
								<xx_mang_clsf_cd1/>
								<xx_budg_cd1_010/>
								<xx_budg_cd2_020/>
								<xx_srch_slip_clsf_cd_30/>
								<xx_slip_clsf_cd_30/>
								<xx_slip_clsf_cd_62/>
							</dataSet>
						</comboSet>
						<!-- 콤보리스트와 같은 선택게열의 데이터는 <item>을 반복함으로써 list를 구성한다. -->
						<pageInfo/>
						<!-- 해당 화면의 필요한 기타 정보들을 추가운영시 사용(화면ID등) -->
					</initData>
					<reqData>
						<!-- 서버에 전달하고자 하는 데이터 (submit시 처리) -->
						<fwdData/>
						<!-- popup등의 페이지전환시 데이타 입출력에 사용 -->
						<searchData>
							<slip_occr_dt/>
							<slip_occr_dt2/>
							<slip_clsf_cd/>
							<slip_seq_fr/>
							<slip_seq_to/>
							<slip_aprv_yn>1</slip_aprv_yn>
							<slip_aprv/>
							<incmg_emp_no/>
						</searchData>
						<!-- 검색조건 처리 -->
						<reqForm>
							<chk1/>
							<fisc_dt/>
							<incmg_dt/>
							<incmg_emp_no/>
							<incmg_emp_nm/>
							<draft_doc_no/>
							<draft_doc_dept_cd/>
							<draft_expn_amt/>
							<draft_impt_amt/>
						</reqForm>
						<!-- 입력처리 formData 복수사용시 하위노드로 1,2,3으로 정의-->
						<multiUpdate>
							<multiUpdateData/>
							<fisc_dt/>
							<incmg_dt/>
							<budg_cd/>
							<mang_clsf_cd/>
						</multiUpdate>
						<!-- Grid의 MultiUpDate유형 사용시 처리 -->
					</reqData>
					<resData>
						<!-- 서버로부터 전달 받은 데이터 (submit의 결과) -->
						<resForm>
							<!-- (submit의 결과) formData 복수사용시 하위노드로 1,2,3으로 정의 -->
						</resForm>
						<gridData>
							<fc_acct_2372_l>
								<dataSet>
									<CURLIST>
										<record>
											<check1/>
											<slip_occr_dt/>
											<slip_clsf_cd/>
											<slip_seq/>
											<slip_sub_seq/>
											<fisc_dt/>
											<clam_dept_cd/>
											<rmks1/>
											<sum_cbamt/>
											<sum_dbamt/>
											<incmg_emp_no/>
											<chrg_emp_no/>
											<incmg_dt/>
											<slip_no/>
											<tax_stmt_no/>
											<draft_doc_no/>
											<draft_expn_amt/>
											<draft_impt_amt/>
											<draft_doc_dept_cd/>
										</record>
									</CURLIST>
									<note_yn/>
								</dataSet>
							</fc_acct_2372_l>
						</gridData>
						<!-- (submit의 결과) gridData 복수사용시 하위노드로 1,2,3으로 정의 -->
						<MsgData/>
						<!-- (submit의 결과) 전달 받은 MsgData -->
					</resData>
					<tempData>
						<!-- 데이터를 가공할 임시저장소 -->
						<keyData/>
						<!-- 해당화면의 키값등의 데이터의 저장소 -->
					</tempData>
					<!-- 저장소 -->
				</root>
			</instance>
			<script type="javascript" src="/js/CIISComm.js"/>
			<script type="javascript" src="/js/TFCommon.js"/>
			<script type="javascript" src="/js/fcmc_common.js"/>
			<submission id="fc_acct_2340_m" action="/fc/acct2000/2340" mediatype="application/x-www-form-urlencoded" method="post" resultref="/root/initData/comboSet/fc_acct_2340_m/dataSet"/>
			<submission id="fc_acct_2370_m" action="/fc/acct2000/2370" mediatype="application/x-www-form-urlencoded" method="post" resultref="/root/initData/comboSet/dataSet"/>
			<submission id="fc_acct_2371_i" action="/fc/acct2000/2371" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/reqData/multiUpdate" resultref="/root/resData/MsgData/dataSet"/>
			<submission id="fc_acct_2372_l" action="/fc/acct2000/2372" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/reqData/searchData" resultref="/root/resData/gridData/fc_acct_2372_l/dataSet"/>
			<submission id="fc_acct_2373_l" action="/fc/acct2000/2373" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/reqData/searchData" resultref="/root/resData/gridData/fc_acct_2372_l/dataSet"/>
			<submission id="fc_acct_2374_d" action="/fc/acct2000/2374" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/reqData/multiUpdate" resultref="/root/resData/MsgData/dataSet"/>
			<submission id="fc_acct_2375_l" action="/fc/acct2000/2375" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/reqData/searchData" resultref="/root/resData/gridData/fc_acct_2372_l/dataSet"/>
			<submission id="fc_acct_2376_l" action="/fc/acct2000/2376" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/reqData/searchData" resultref="/root/resData/gridData/fc_acct_2372_l/dataSet"/>
			<submission id="fc_co_8050_a" action="/fc/co8000/8050" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/reqData/reqForm" resultref="/root/resData/MsgData/dataSet"/>
			<submission id="hd_com_1002" action="/hd/com/1002" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/reqData/fwdData" resultref="/root/tempData"/>
			<script type="javascript" ev:event="xforms-ready">
				<![CDATA[
					send_fc_acct_2340_m();
					
					send_fc_acct_2370_m();
					
					model.setValue("/root/reqData/reqForm/fisc_dt",commCurDate());
					model.setValue("/root/reqData/reqForm/incmg_dt",commCurDate());
					model.setValue("/root/reqData/searchData/slip_aprv","1");

					incmg_emp_no.value = getProperty("ss_emp_no");
					incmg_emp_nm.value = getProperty("ss_emp_nm");
					
					group_scr.refresh();
					
					if (model.property("FC_ACCT_2370_popup_flag") == "Y" ) {

						srch_slip_occr_dt.value = model.property("FC_ACCT_2370_srch_slip_occr_dt");
						srch_slip_occr_dt2.value = model.property("FC_ACCT_2370_srch_slip_occr_dt2");
						srch_slip_clsf_cd.value = model.property("FC_ACCT_2370_srch_slip_clsf_cd");
						srch_slip_seq_fr.value = model.property("FC_ACCT_2370_srch_slip_seq_fr");
						srch_slip_seq_to.value = model.property("FC_ACCT_2370_srch_slip_seq_to");						
						
						model.property("FC_ACCT_2370_srch_slip_occr_dt")  = "";
						model.property("FC_ACCT_2370_srch_slip_occr_dt2") = "";
						model.property("FC_ACCT_2370_srch_slip_clsf_cd") = "";
						model.property("FC_ACCT_2370_srch_slip_seq_fr") = "";
						model.property("FC_ACCT_2370_srch_slip_seq_to") = "";												
						
						model.property("FC_ACCT_2370_popup_flag") = "";
						
						btn_select.dispatch("onclick");
					}					
				]]>
			</script>
			<script type="javascript" ev:event="xforms-model-construct-done">
				<![CDATA[
					init_controls();

					if(getProperty("ss_cmpycd") == "332"){ 	//조선일보의 경우 상대예산 콤보 현금으로 고정
//						budg_cd1.value = "011400";
						budg_cd1.visible = true;
						mang_clsf_cd1.visible = true;					
//						caption6.visible = true;
						caption18.visible = true;
						caption16.visible = true;
//						mang_clsf_cd1.value = "3201";

					}else{
						budg_cd1.value = "";
						mang_clsf_cd1.value = "";
						budg_cd1.visible = false;
						mang_clsf_cd1.visible = false;	
//						caption6.visible = false;
						caption18.visible = false;
						caption16.visible = false;						
					}		
					
					budg_cd1.disabled = true;
					mang_clsf_cd1.disabled = true;						
				]]>
			</script>
		</model>
		<script type="javascript">
			<![CDATA[
				var	_oth_clsf = "1";
				
				var var_save_check = false;
				
				function init_controls(){
					set_default(datagrid1);										//datagrid
					set_default(srch_slip_occr_dt, srch_slip_occr_dt2,fisc_dt,incmg_dt);		//input date
					set_default(srch_slip_clsf_cd);									//combo
					set_default(srch_slip_seq_fr,srch_slip_seq_to,incmg_emp_nm);			//input
					set_default(incmg_emp_no);									//input button

					set_format(
						"code"
					,	incmg_emp_no
					);
															
					set_format(
						"string_l"
					,	datagrid1			,"5"						
					,	incmg_emp_nm
					);
					set_format(
						"string_c"
					,	datagrid1			,"4,8"
					,	srch_slip_seq_fr
					,	srch_slip_seq_to
					);
					set_format(
						"date_1"
					,	datagrid1			,"3,9"	
					,	srch_slip_occr_dt	
					,	srch_slip_occr_dt2
					,	fisc_dt
					, 	incmg_dt
					);
					set_format(
						"number0"
					,	datagrid1			,"6,7"
					);					
				}			

				function send_fc_acct_2340_m(){
					model.send("fc_acct_2340_m");
					makeComboGubun("","/root/initData/comboSet/fc_acct_2340_m/dataSet/CURLIST2","record","cd_nm", "cd");
				}				
				
				function send_fc_acct_2370_m(){
					model.send("fc_acct_2370_m");
					makeComboGubun("","/root/initData/comboSet/dataSet/CURLIST","record","cd_nm", "cd");
					makeComboGubun("","/root/initData/comboSet/dataSet/CURLIST2","record","budg_abrv_nm", "budg_cd");
				}
				function setEmp_no(emp_no, nm_korn){

					incmg_emp_no.value = emp_no;
					incmg_emp_nm.value = nm_korn;
				}
				function open_fc_acct_2470(p_where,p_mode,p_title,p_readonly) {
					var need_popup = true;										
					
					var popid = "fc_acct_2470";
					var subid = "fc_acct_2471_l";
	
					set_popup_send_data(popid		,"mode"			,p_mode			);
					set_popup_send_data(popid		,"title"			,p_title			);
					set_popup_send_data(popid		,"readonly"		,p_readonly		);
					set_popup_send_data(popid		,"slip_occr_dt"		,get_refvalue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record["+datagrid1.row+"]/slip_no").substring(0,8));
					set_popup_send_data(popid		,"slip_clsf_cd"		,get_refvalue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record["+datagrid1.row+"]/slip_no").substring(9,11));
					set_popup_send_data(popid		,"slip_seq"			,get_refvalue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record["+datagrid1.row+"]/slip_no").substring(12,15));
					set_popup_send_data(popid		,"slip_sub_seq"		,get_refvalue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record["+datagrid1.row+"]/slip_no").substring(16,17));

					//포커스에서 호출 한 경우 직접 서블릿을 실행시켜서 데이터를 확인한다.
					if (p_where == "FOCUS") {
						//포커스로 검색이 시작되는 경우 무조껀 검색 결과에 해당하는 노드를 삭제하고 시작한다.
						//버튼의 경우는 검색결과가 "" 이면 지우도록 설정되어있음
						model.removenode(get_popup_rcvs_ref(popid));
						//인스턴스 구조가 없으면 copynode 동작이 되지 않으므로 기본 구조는 만들어준다.
						model.makeNode(get_popup_rcvs_ref(popid));
						
						//받는위치 분리를 위해서 receive 위치를 popid가 아닌 subid 기준으로 설정
						send_submission(
								"auto_" + subid
							,	get_popup_send_ref(popid)
							,	get_popup_rcvs_ref(subid) + "/dataSet"
							,	"/fc/acct2000/2471"
							,	"urlencoded-post"
							,	"application/x-www-form-urlencoded"
						);
						
						totalcnt = model.getValue(get_popup_rcvs_ref(subid) + "/dataSet" + "/CURLIST/totalcnt");
				
						if (totalcnt == 1) {
							//데이터가 1건이고 focus out에서 호출한 경우
							//데이터를 설정하고 나간다.
	
	//						model.duplicate(get_popup_rcvs_ref(popid) , get_popup_rcvs_ref(subid) + "/dataSet/CURLIST1/record");
							model.copyNode(get_popup_rcvs_ref(popid) , get_popup_rcvs_ref(subid) + "/dataSet/CURLIST/record");
	//						return;
							need_popup = false;
						}
						else if (totalcnt == 0) {
							show_message("검색결과가 없습니다.");
	//						return;
							need_popup = false;						
						}
						else {
							//포커스에서 호출 한 경우 1건이 아니면 무조건 종료
							//만약 1건 이상인 경우 popup을 호출해 달라고 하면
							//return을 지우면 됨
							//show_message("[거래처코드]의 검색결과가 2건 이상입니다.");
							//return;
							need_popup = true;
						}
					}					
					if (need_popup) {
						open_popup(popid,"");
					}
				}
				function rcvs_from_fc_co_9010() {
					draft_doc_no.value = arguments[0][0];
				}				
			]]>
		</script>
	</xhtml:head>
	<xhtml:body class="main" pagewidth="946" pageheight="765" guideline="2,34;2,39;2,40;2,50;2,71;2,78;2,81;2,134;2,133;2,157;2,158;2,366;2,377;2,376;2,393;2,408;2,409;1,936;1,927;1,926;1,459;1,449;2,718;1,716;">
		<group id="group_line" class="gro_line" style="left:10px; top:135px; width:926px; height:5px; "/>
		<import id="iv_Title" src="/common/xrw/iv_TitleBar.xrw" style="left:10px; top:5px; width:926px; height:29px; "/>
		<group id="group_scr" class="gro_sel" style="left:10px; top:50px; width:926px; height:77px; ">
			<caption id="caption8" class="list_cap02" style="left:214px; top:25px; width:712px; height:26px; "/>
			<caption id="caption3" class="list_cap03" style="left:105px; top:25px; width:110px; height:26px; ">회계일자</caption>
			<caption id="caption6" class="list_cap02" style="left:105px; top:50px; width:821px; height:26px; "/>
			<caption id="caption4" class="list_cap02" style="left:0px; top:0px; width:106px; height:76px; "/>
			<caption id="caption1" class="list_cap03" style="left:105px; top:0px; width:110px; height:26px; ">전표번호</caption>
			<caption id="caption2" class="list_cap02" style="left:214px; top:0px; width:712px; height:26px; "/>
			<caption id="caption5" class="list_cap03" style="left:629px; top:25px; width:110px; height:26px; ">입력사번</caption>
			<caption id="caption7" class="list_cap03" style="left:389px; top:25px; width:110px; height:26px; ">입력일자</caption>
			<caption id="caption9" style="left:627px; top:5px; width:20px; height:15px; ">~</caption>
			<caption id="caption11" style="left:702px; top:1px; width:184px; height:25px; font-weight:bold; ">(발생일자-전표구분-일련번호)</caption>
			<caption id="caption10" style="left:325px; top:5px; width:20px; height:15px; ">~</caption>
			<select1 id="srch_slip_clsf_cd" ref="/root/reqData/searchData/slip_clsf_cd" class="req" navindex="3" appearance="minimal" editmode="inputsearch" style="left:445px; top:4px; width:127px; height:18px; ">
				<choices>
					<itemset nodeset="/root/initData/comboSet/dataSet/CURLIST/record">
						<label ref="cd_nm"/>
						<value ref="cd"/>
					</itemset>
				</choices>
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
						if(combo_data_contains(srch_slip_clsf_cd, srch_slip_clsf_cd.value) == -1){
							show_message("정확한 값을 선택해 주세요.");
							set_refvalue(srch_slip_clsf_cd,"");
							return;
						}
						var cmpycd = getProperty("ss_cmpycd");

						//if(srch_slip_clsf_cd.value != "61")){ //2012.01.12
						var orgStr1 = model.getValue("/root/initData/comboSet/dataSet/xx_srch_slip_clsf_cd_61");
						if(! instr_yn(orgStr1, srch_slip_clsf_cd.value)){
							mang_clsf_cd1.value = "";
							budg_cd1.value = "";							
							mang_clsf_cd1.disabled = true;
							budg_cd1.disabled = true;
						}
						else{
							mang_clsf_cd1.value = model.getValue("/root/initData/comboSet/dataSet/xx_mang_clsf_cd1"); //"3201"
							budg_cd1.value = model.getValue("/root/initData/comboSet/dataSet/xx_budg_cd1_010"); //"011400"								
							mang_clsf_cd1.disabled = false;
							budg_cd1.disabled =false;	
						}						
						
					]]>
				</script>
			</select1>
			<select1 id="srch_slip_aprv" ref="/root/reqData/searchData/slip_aprv" appearance="full" cellspacing="10" vcellspacing="4" overflow="visible" style="left:15px; top:15px; width:70px; height:40px; text-align:left; border-style:none; ">
				<choices>
					<item>
						<label>승인</label>
						<value>1</value>
					</item>
					<item>
						<label>승인취소</label>
						<value>2</value>
					</item>
				</choices>
			</select1>
			<input id="fisc_dt" ref="/root/reqData/reqForm/fisc_dt" class="req" navindex="6" inputtype="date" style="left:220px; top:29px; width:100px; height:18px; "/>
			<input id="incmg_dt" ref="/root/reqData/reqForm/incmg_dt" class="req" navindex="8" inputtype="date" style="left:503px; top:29px; width:101px; height:18px; "/>
			<input id="incmg_emp_no" ref="/root/reqData/reqForm/incmg_emp_no" class="req" navindex="7" inputtype="button" maxlength="6" style="left:749px; top:29px; width:80px; height:18px; ">
				<script type="javascript" ev:event="onbuttonclick">
					<![CDATA[
						model.removeNodeset("/root/reqData/fwdData");  
						model.makeNode("/root/reqData/fwdData/func_nm");
						model.setValue("/root/reqData/fwdData/func_nm", "setEmp_no");
						window.load("/xrw/hd/com/HD_COM_1000.xrw","mdichild", "hd_com_1000", "align:center; caption:hidden;", "/root/reqData/fwdData", "/root/reqData/fwdData");								
					]]>
				</script>
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
						if (incmg_emp_no.value.length== 6) {
/*
							model.removeNodeset("/root/reqData/reqForm");  
							model.makeNode("/root/reqData/reqForm/emp_no");
							model.setValue("/root/reqData/reqForm/incmg_emp_no", incmg_emp_no.value);
							model.setValue("/root/reqData/reqForm/incmg_emp_nm", "");
							model.send("hd_com_1002");
							incmg_emp_nm.value = model.getValue("/root/tempData/record/nm_korn");
*/

							model.removeNodeset("/root/reqData/fwdData");  
							model.makeNode("/root/reqData/fwdData/emp_no");
							model.setValue("/root/reqData/fwdData/emp_no", incmg_emp_no.value);
							model.send("hd_com_1002");
							
							if (model.getValue("/root/tempData/record/emp_no") != "") {
								incmg_emp_nm.value = model.getValue("/root/tempData/record/nm_korn");
							}
							else {
								incmg_emp_no.value = "";
								incmg_emp_nm.value = "";
							}
							
						}		
						else {
							incmg_emp_nm.value = "";
						}
					]]>
				</script>
			</input>
			<input id="incmg_emp_nm" ref="/root/reqData/reqForm/incmg_emp_nm" class="input_80" editable="false" style="left:835px; top:29px; width:80px; height:18px; "/>
			<input id="srch_slip_seq_to" ref="/root/reqData/searchData/slip_seq_to" class="req" navindex="5" maxlength="3" style="left:642px; top:4px; width:40px; height:18px; ">
				<script type="javascript" ev:event="DOMFocusOut">
					<![CDATA[
						if(model.getValue("/root/reqData/searchData/slip_seq_to") == ""){
							model.setValue("/root/reqData/searchData/slip_seq_to",model.getValue("/root/reqData/searchData/slip_seq_fr"));
							srch_slip_seq_to.refresh();
						}					
					]]>
				</script>
			</input>
			<input id="srch_slip_seq_fr" ref="/root/reqData/searchData/slip_seq_fr" class="req" navindex="4" maxlength="3" style="left:582px; top:4px; width:40px; height:18px; ">
				<script type="javascript" ev:event="DOMFocusOut">
					<![CDATA[
						if(model.getValue("/root/reqData/searchData/slip_seq_fr") == ""){
							model.setValue("/root/reqData/searchData/slip_seq_fr","001");
							srch_slip_seq_fr.refresh();
						}
					]]>
				</script>
			</input>
			<input id="srch_slip_occr_dt" ref="/root/reqData/searchData/slip_occr_dt" class="req" navindex="1" inputtype="date" style="left:220px; top:4px; width:100px; height:18px; "/>
			<input id="srch_slip_occr_dt2" ref="/root/reqData/searchData/slip_occr_dt2" class="req" navindex="2" inputtype="date" style="left:342px; top:4px; width:97px; height:18px; "/>
			<select1 id="budg_cd1" ref="/root/reqData/multiUpdate/budg_cd" appearance="minimal" style="left:219px; top:54px; width:161px; height:18px; ">
				<choices>
					<itemset nodeset="/root/initData/comboSet/dataSet/CURLIST2/record">
						<label ref="budg_abrv_nm"/>
						<value ref="budg_cd"/>
					</itemset>
				</choices>
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
						//if(budg_cd1.value == "001100"){ //2012.01.12
						var orgStr = model.getValue("/root/initData/comboSet/dataSet/xx_budg_cd2_020");
						if(instr_yn(orgStr, budg_cd1.value)){
							mang_clsf_cd1.value = "";
							mang_clsf_cd1.disabled = true;
						}
						else{
							mang_clsf_cd1.disabled = false;
						}
					]]>
				</script>
			</select1>
			<select1 id="mang_clsf_cd1" ref="/root/reqData/multiUpdate/mang_clsf_cd" appearance="minimal" editmode="inputsearch" style="left:503px; top:54px; width:239px; height:18px; ">
				<choices>
					<itemset nodeset="/root/initData/comboSet/fc_acct_2340_m/dataSet/CURLIST2/record">
						<label ref="cd_nm"/>
						<value ref="cd"/>
					</itemset>
				</choices>
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
						if(combo_data_contains(mang_clsf_cd1, mang_clsf_cd1.value) == -1){
							show_message("정확한 값을 선택해 주세요.");
							set_refvalue(mang_clsf_cd1,"");
							return;
						}					
					]]>
				</script>
			</select1>
			<caption id="caption16" class="list_cap03" style="left:105px; top:50px; width:110px; height:26px; text-align:center; ">상대예산</caption>
			<caption id="caption18" class="list_cap03" style="left:389px; top:50px; width:110px; height:26px; text-align:center; ">관리구분</caption>
		</group>
		<caption id="subtitle" class="tit02" style="left:10px; top:155px; width:926px; height:20px; ">승인처리내역</caption>
		<datagrid id="datagrid1" nodeset="/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record" caption="선택^전표번호^회계일자^청구부서^적요^차변합계^대변합계^담당자^입력일자^slip_occr_dt^slip_clsf_cd^slip_seq^slip_sub_seq^세금계산서번호^draft_doc_no^draft_expn_amt^draft_impt_amt^draft_doc_dept_cd" colsep="#" colwidth="35, 140, 90, 140, 299, 100, 100, 100, 100, 100, 100, 137, 100, 140, 100, 100, 100, 100" extendlastcol="false" mergecellsfixedrows="bycolrec" rowheader="update" rowsep="|" navindex="10" style="left:10px; top:181px; width:926px; height:502px; ">
			<col checkvalue="1,0" ref="check1" type="checkbox"/>
			<col ref="slip_no" type="output" format="99999999-99-999-9"/>
			<col ref="fisc_dt" format="yyyy-mm-dd"/>
			<col ref="clam_dept_cd" type="output" style="text-align:left; "/>
			<col ref="rmks1" type="output" style="text-align:left; "/>
			<col ref="sum_cbamt" type="output" format="(-)#,###" style="text-align:right; "/>
			<col ref="sum_dbamt" type="output" format="(-)#,###" style="text-align:right; "/>
			<col ref="incmg_emp_no"/>
			<col ref="incmg_dt" format="yyyy-mm-dd"/>
			<col ref="slip_occr_dt" visibility="hidden"/>
			<col ref="slip_clsf_cd" visibility="hidden"/>
			<col ref="slip_seq" visibility="hidden"/>
			<col ref="slip_sub_seq" visibility="hidden" format="yyyy-mm-dd" style="text-align:center; "/>
			<col ref="tax_stmt_no" visibility="hidden" format="99-99-99999999-9999"/>
			<col ref="draft_doc_no" visibility="hidden"/>
			<col ref="draft_expn_amt" visibility="hidden"/>
			<col ref="draft_impt_amt" visibility="hidden"/>
			<col ref="draft_doc_dept_cd" visibility="hidden"/>
			<script type="javascript" ev:event="xforms-value-changed">
				<![CDATA[
					     if (model.getValue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record["+datagrid1.row+"]/check1") == "1") {						
						      datagrid1.addStatus(datagrid1.row, "update");
					     }
					     else {
						      datagrid1.removeStatus(datagrid1.row, "update");
					     }
					     
					     datagrid1.refresh();
				]]>
			</script>
			<script type="javascript" ev:event="onclick">
				<![CDATA[
					//그리드 스크롤바 클릭, 더블클릭 방지 소스
					if (-1 != event.target.lastIndexOf("scroll.thumb")) {
						return;
					}     
					
					var grid = eval(event.currentTarget);
					var rowid = grid.row;
					var colid = grid.col;
				     
					if (rowid < grid.fixedRows || colid < grid.fixedCols) {
						return;
					}

					var ch_var = datagrid1.valueMatrix(datagrid1.row,datagrid1.colRef("draft_doc_no"));
					if(ch_var != ""){
						set_refvalue(draft_doc_no, ch_var);
						set_refvalue(draft_doc_dept_cd, datagrid1.valueMatrix(datagrid1.row, datagrid1.colRef("draft_doc_dept_cd")));
						set_refvalue(draft_expn_amt, datagrid1.valueMatrix(datagrid1.row, datagrid1.colRef("draft_expn_amt")));
						set_refvalue(draft_impt_amt, datagrid1.valueMatrix(datagrid1.row, datagrid1.colRef("draft_impt_amt")));
					}
					else{
						set_refvalue(draft_doc_no, "");
						set_refvalue(draft_doc_dept_cd, "");
						set_refvalue(draft_expn_amt, "");
						set_refvalue(draft_impt_amt, "");
					}				
				]]>
			</script>
		</datagrid>
		<group id="grp_buttons" class="gro_sel" style="left:10px; top:734px; width:926px; height:21px; ">
			<button id="btn_update_aprv" class="btn02" crud="U" style="left:55px; top:0px; width:52px; height:21px; ">
				<caption>승인</caption>
				<script type="javascript" ev:event="onclick">
					<![CDATA[
						if(model.getValue("/root/reqData/searchData/slip_aprv") == "2"){
							show_message("승인취소내역은 승인처리할 수 없습니다.");
							return;
						}
						if(!datagrid_data_check("datagrid1")){
							show_message("처리대상이 없습니다.");
							return false;
						}
						if(model.getValue("/root/reqData/reqForm/fisc_dt") == "" || model.getValue("/root/reqData/reqForm/fisc_dt").length != 8){
							show_message("회계일자는 필수입력 항목입니다.");
							model.setFocus("fisc_dt");
							return;
						}				
						if(model.getValue("/root/reqData/reqForm/incmg_emp_no") == "" || model.getValue("/root/reqData/reqForm/incmg_emp_no").length != 6){
							show_message("입력사번은 필수입력 항목입니다.");
							model.setFocus("incmg_emp_no");
							return;
						}
						if(model.getValue("/root/reqData/reqForm/incmg_dt") <
						   model.getValue("/root/reqData/reqForm/fisc_dt")) {
							if (show_message("회계일이 입력일보다 늦습니다. 계속진행하시겠습니까?","저장 확인",MB_YESNO) != IDYES) {
							return false;
							}
						}
						/*20180409 어음계정알림추가*/
						if(getProperty("ss_cmpycd") == "100"){
							if(model.getValue("/root/resData/gridData/fc_acct_2372_l/dataSet/note_yn") > 0){
								if (show_message("어음 계정이 존재하는 전표입니다. \n금액과 만기일자를 자금팀 담당자에게 확인하세요. 계속 진행하시겠습니까?","저장 확인",MB_YESNO) != IDYES) {
								return false;
								}
							}
						}
						    
						model.setValue("/root/reqData/multiUpdate/multiUpdateData",datagrid1.getUpdateData());
						model.setValue("/root/reqData/multiUpdate/fisc_dt",model.getValue("/root/reqData/reqForm/fisc_dt"));
						model.setValue("/root/reqData/multiUpdate/incmg_dt",model.getValue("/root/reqData/reqForm/incmg_dt"));
						
						if (show_message("저장하시겠습니까?","저장 확인",MB_YESNO) != IDYES) {
							return;
						}
						model.send("fc_acct_2371_i");
						
						if(submit_completed()){
							var_save_check = true;
//							btn_select.dispatch("onclick");
							var_save_check = false;
							show_message("저장되었습니다.");
						}

					]]>
				</script>
			</button>
			<button id="btn_select" class="btn02" crud="R" style="left:0px; top:0px; width:52px; height:21px; ">
				<caption>조회</caption>
				<script type="javascript" ev:event="onclick">
					<![CDATA[
						if(model.getValue("/root/reqData/searchData/slip_occr_dt") == "" || model.getValue("/root/reqData/searchData/slip_occr_dt").length != 8){
							show_message("발생일자는 필수입력 항목입니다.");
							model.setFocus("srch_slip_occr_dt");
							return;
						}
						if(model.getValue("/root/reqData/searchData/slip_clsf_cd") == "" || model.getValue("/root/reqData/searchData/slip_clsf_cd").length != 2){
							show_message("전표구분코드는 필수입력 항목입니다.");
							model.setFocus("srch_slip_clsf_cd");
							return;
						}
						if(model.getValue("/root/reqData/searchData/slip_seq_fr") == "" || model.getValue("/root/reqData/searchData/slip_seq_fr").length != 3){
							show_message("일련번호는 필수입력 항목입니다.");
							model.setFocus("srch_slip_seq_fr");
							return;
						}	
						if(model.getValue("/root/reqData/searchData/slip_occr_dt2") ==""){
							model.setValue("/root/reqData/searchData/slip_occr_dt2", model.getValue("/root/reqData/searchData/slip_occr_dt"));
						}
						if(model.getValue("/root/reqData/searchData/slip_seq_fr") == ""){
							model.setValue("/root/reqData/searchData/slip_seq_fr","001");
							srch_slip_seq_fr.refresh();
						}					
						if(model.getValue("/root/reqData/searchData/slip_seq_to") == ""){
							model.setValue("/root/reqData/searchData/slip_seq_to",model.getValue("/root/reqData/searchData/slip_seq_fr"));
							srch_slip_seq_to.refresh();
						}									
						if(model.getValue("/root/reqData/searchData/slip_occr_dt") > model.getValue("/root/reqData/searchData/slip_occr_dt2")){
							show_message("전표 발생일자를 확인하십시오.(from ~ to)");
							return;							
						}
						
						if(model.getValue("/root/reqData/searchData/slip_aprv") == "1"	){	
							if(model.getValue("/root/reqData/searchData/slip_occr_dt") == model.getValue("/root/reqData/searchData/slip_occr_dt2")){
								model.send("fc_acct_2372_l");
								datagrid1.colHidden(3) = true;
								datagrid1.colHidden(8) = true;
								datagrid1.colHidden(9) = true;
								datagrid1.refresh();
							}
							else{
								model.setValue("/root/reqData/searchData/slip_seq_fr","001");
								model.setValue("/root/reqData/searchData/slip_seq_to","999");
								srch_slip_seq_fr.refresh();
								srch_slip_seq_to.refresh();
								
								model.send("fc_acct_2373_l");
								datagrid1.colHidden(3) = true;
								datagrid1.colHidden(8) = true;
								datagrid1.colHidden(9) = true;
								datagrid1.refresh();
							}
						}
						else{
							if(model.getValue("/root/reqData/searchData/slip_occr_dt") == model.getValue("/root/reqData/searchData/slip_occr_dt2")){
								set_refvalue("/root/reqData/searchData/incmg_emp_no",incmg_emp_no.value);
								model.send("fc_acct_2375_l");
								datagrid1.colHidden(3) = false;
								datagrid1.colHidden(8) = false;
								datagrid1.colHidden(9) = false;
								datagrid1.refresh();
							}
							else{
//								show_message(model.getValue("/root/reqData/searchData/slip_occr_dt"));
								model.setValue("/root/reqData/searchData/slip_seq_fr","001");
								model.setValue("/root/reqData/searchData/slip_seq_to","999");
								srch_slip_seq_fr.refresh();
								srch_slip_seq_to.refresh();
								
								model.send("fc_acct_2376_l");
								datagrid1.colHidden(3) = false;
								datagrid1.colHidden(8) = false;
								datagrid1.colHidden(9) = false;
								datagrid1.refresh();								
							}
						}
						//if(srch_slip_clsf_cd.value == "30"){ //2012.01.12
						var orgStr = model.getValue("/root/initData/comboSet/dataSet/xx_srch_slip_clsf_cd_30");
						if(instr_yn(orgStr, srch_slip_clsf_cd.value)){
							datagrid1.colHidden(14) = false;	
						}
						else{
							datagrid1.colHidden(14) = true;	
						}
						if(model.getValue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/totalcnt") == "0"){
							if (var_save_check == false) { show_message("검색결과가 없습니다.");  }
							return;
						}
						commGroupInit(group2);
					]]>
				</script>
			</button>
			<button id="btn_help" class="btn02" crud="R" style="left:335px; top:0px; width:52px; height:21px; ">
				<caption>엑셀</caption>
				<script type="javascript" ev:event="onclick">
					<![CDATA[
					var grid = null;
					
					if(_oth_clsf == "1"){			
						grid = datagrid1;
					}
					
					var filename = window.fileDialog("save", ",", false, "", "xls", "Excel File(*.xls)|*.xls");
					if(filename!=""){
						grid.saveExcel(filename, "sheetname: ");
					}
					]]>
				</script>
			</button>
			<button id="btnClose" class="btn02" style="left:390px; top:0px; width:52px; height:21px; ">
				<caption>종료</caption>
				<script type="javascript" ev:event="onclick">
					<![CDATA[
						formClose();		
					]]>
				</script>
			</button>
			<button id="btn_select1" class="btn02" crud="R" style="left:165px; top:0px; width:52px; height:21px; ">
				<caption>건별조회</caption>
				<script type="javascript" ev:event="onclick">
					<![CDATA[
//						if(get_refvalue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record["+datagrid1.row+"]/slip_no") !=""){
//							open_fc_acct_2470("button","s","","0");	
//						}											

						var slip_no; 
						if(get_refvalue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record["+datagrid1.row+"]/slip_no") !=""){	
							slip_no = get_refvalue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record["+datagrid1.row+"]/slip_no");
							model.property("FC_ACCT_2470_srch_slip_occr_dt")  = slip_no.substring(0,8);
							model.property("FC_ACCT_2470_srch_slip_clsf_cd") =  slip_no.substring(8,10);
							model.property("FC_ACCT_2470_srch_slip_seq") = slip_no.substring(10,13);
							model.property("FC_ACCT_2470_srch_slip_sub_seq") = slip_no.substring(13,14);
							model.property("FC_ACCT_2470_popup_flag")  = "Y";
	
//							viewer("mainFrame").window.javaScript.onLoadExPopupPage("FC_ACCT_2470");
							if(getProperty("ss_cmpycd") != "500"){
							viewer("mainFrame").window.javaScript.onLoadExMDIPage("FC_ACCT_2470");
							}else{
							viewer("mainFrame").window.javaScript.onLoadExMDIPage("FC_ACCT_2470_500");
							}
						}						


					]]>
				</script>
			</button>
			<button id="btn_delete_aprv" class="btn02" crud="D" style="left:110px; top:0px; width:52px; height:21px; ">
				<caption>승인취소</caption>
				<script type="javascript" ev:event="onclick">
					<![CDATA[
						if(model.getValue("/root/reqData/searchData/slip_aprv") == "1"){
							show_message("승인내역은 승인취소처리할 수 없습니다.");
							return;
						}
						if(!datagrid_data_check("datagrid1")){
							show_message("처리대상이 없습니다.");
							return false;
						}
						if(model.getValue("/root/reqData/reqForm/incmg_emp_no") == "" || model.getValue("/root/reqData/reqForm/incmg_emp_no").length != 6){
							show_message("입력사번은 필수입력 항목입니다.");
							model.setFocus("incmg_emp_no");
							return;
						}

						model.setValue("/root/reqData/multiUpdate/multiUpdateData",datagrid1.getUpdateData());
						model.setValue("/root/reqData/multiUpdate/fisc_dt",model.getValue("/root/reqData/reqForm/fisc_dt"));
						model.setValue("/root/reqData/multiUpdate/incmg_dt",model.getValue("/root/reqData/reqForm/incmg_dt"));
						
						if (show_message("삭제하시겠습니까?","삭제 확인",MB_YESNO) != IDYES) {
							return;
						}

						model.setValue("/root/reqData/multiUpdate/multiUpdateData",datagrid1.getUpdateData());

						model.send("fc_acct_2374_d");
						if(submit_completed()){			
							var_save_check = true;
//							btn_select.dispatch("onclick");			
							var_save_check = false;
							show_message("삭제되었습니다.");
						}
					]]>
				</script>
			</button>
			<button id="btn_select1-2" class="btn05" crud="U" style="left:220px; top:0px; width:112px; height:21px; ">
				<caption>
					<![CDATA[발생화면건별조회]]>
				</caption>
				<script type="javascript" ev:event="onclick">
					<![CDATA[
						//if(get_refvalue("/root/reqData/searchData/slip_clsf_cd") == "30"){ //2012.01.12
						var orgStr1 = model.getValue("/root/initData/comboSet/dataSet/xx_slip_clsf_cd_30");
						var orgStr2 = model.getValue("/root/initData/comboSet/dataSet/xx_slip_clsf_cd_62");
						if(instr_yn(orgStr1, get_refvalue("/root/reqData/searchData/slip_clsf_cd"))){
							if(get_refvalue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record["+datagrid1.row+"]/slip_clsf_cd") == "61"){
								show_message("전표구분이 지출(인사경유)이면 발생화면 건별조회 화면으로 연결할 수 없습니다.");
								return false;
							}							
							var tax_stmt_no;
							tax_stmt_no = get_refvalue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record["+datagrid1.row+"]/tax_stmt_no");
							
							model.property("FC_ACCT_2120_srch_tax_stmt_no")  = tax_stmt_no.substring(2,16);
							model.property("FC_ACCT_2120_popup_flag")  = "Y";
	
							viewer("mainFrame").window.javaScript.onLoadExMDIPage("FC_ACCT_2120");									
						}
						//else if(get_refvalue("/root/reqData/searchData/slip_clsf_cd") == "62"){ //2012.01.12
						else if(instr_yn(orgStr2, get_refvalue("/root/reqData/searchData/slip_clsf_cd"))){
							if(get_refvalue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record["+datagrid1.row+"]/slip_clsf_cd") == "61"){
								show_message("전표구분이 지출(인사경유)이면 발생화면 건별조회 화면으로 연결할 수 없습니다.");
								return false;
							}
							model.property("FC_ACCT_2020_srch_slip_occr_dt")  = get_refvalue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record["+datagrid1.row+"]/slip_occr_dt");
							model.property("FC_ACCT_2020_srch_slip_clsf_cd")  = get_refvalue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record["+datagrid1.row+"]/slip_clsf_cd");
							model.property("FC_ACCT_2020_srch_slip_seq")  = get_refvalue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record["+datagrid1.row+"]/slip_seq");
							model.property("FC_ACCT_2020_popup_flag")  = "Y";
	
							viewer("mainFrame").window.javaScript.onLoadExMDIPage("FC_ACCT_2020");
						}
						else if(get_refvalue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record["+datagrid1.row+"]/slip_clsf_cd") == "61"){
							show_message("전표구분이 지출(인사경유)이면 발생화면 건별조회 화면으로 연결할 수 없습니다.");
							return false;
						}
					]]>
				</script>
			</button>
		</group>
		<group id="group2" class="gro_tab1" style="left:10px; top:695px; width:926px; height:26px; ">
			<caption id="caption12" class="list_cap02" style="left:0px; top:0px; width:925px; height:26px; "/>
			<caption id="caption13" class="list_cap03" style="left:0px; top:0px; width:110px; height:26px; ">기안번호</caption>
			<caption id="caption14" class="list_cap03" style="left:280px; top:0px; width:110px; height:26px; ">기안지출금액</caption>
			<caption id="caption15" class="list_cap03" style="left:540px; top:0px; width:110px; height:26px; ">기안수입금액</caption>
			<input id="draft_doc_dept_cd" ref="/root/reqData/reqForm/draft_doc_dept_cd" visibility="hidden" editable="false" style="left:845px; top:4px; width:73px; height:18px; "/>
			<button id="btn_update_draft" class="btn02" crud="U" style="left:797px; top:2px; width:52px; height:21px; ">
				<caption>수정</caption>
				<script type="javascript" ev:event="onclick">
					<![CDATA[
						//필수항목체크(검색)
						if(get_refvalue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record["+datagrid1.row+"]/slip_no")==""){
							show_message("수정할 전표번호가 없습니다.");
							return false;
						}
						
						if(draft_doc_no.value ==""){
							show_message("기안번호는 필수입력항목입니다.");
							model.setFocus("dragt_doc_no");
							return false;
						}
//						if(Number(draft_expn_amt.value) ==0 && Number(draft_impt_amt.value) ==0){
//							show_message("기안금액은 필수입력항목입니다.");
//							return false;
//						}

						if (show_message("수정하시겠습니까?","수정 확인",MB_YESNO) != IDYES) {
							return false;
						}
						
						if(Number(draft_expn_amt.value) ==0 && Number(draft_impt_amt.value) ==0){
							if (show_message("기안지출금액, 기안수입금액이 모두 0입니다.\n그래도 수정하시겠습니까?","저장 확인",MB_YESNO) != IDYES) {
								return false;
							}
						}						
										
						set_refvalue("/root/reqData/reqForm/slip_occr_dt",get_refvalue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record["+datagrid1.row+"]/slip_occr_dt"));
						set_refvalue("/root/reqData/reqForm/slip_clsf_cd",get_refvalue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record["+datagrid1.row+"]/slip_clsf_cd"));
						set_refvalue("/root/reqData/reqForm/slip_seq",get_refvalue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record["+datagrid1.row+"]/slip_seq"));
						set_refvalue("/root/reqData/reqForm/slip_sub_seq",get_refvalue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record["+datagrid1.row+"]/slip_sub_seq"));

						model.send("fc_co_8050_a");

						return check_submit_completed("수정되었습니다.","");

					]]>
				</script>
			</button>
			<input id="draft_doc_no" ref="/root/reqData/reqForm/draft_doc_no" editable="false" inputtype="button" style="left:113px; top:4px; width:160px; height:18px; ">
				<script type="javascript" ev:event="onbuttonclick">
					<![CDATA[
						if (draft_doc_no.value != "") { return; }
						set_refvalue(draft_doc_no,"");
						set_refvalue("/root/reqData/reqForm/draft_doc_dept_cd","");
						set_refvalue("/root/reqData/fwdData/url",XFORMS_EP_WEB_ADDRESS + "/nanum/flow/ihtml/ecab/ecab_list_chosun_f.jsp?deptid=" + ((getProperty("ss_cmpycd") == "100") ? getProperty("ss_deptcd") : getProperty("ss_cmpycd") + "_" + getProperty("ss_deptcd")));
						window.load("/xrw/fc/co/FC_CO_9010.xrw","modal","FC_CO_9010","width:790; height:728; sysmenu:visible; min:hidden; max:hidden; resize:false; caption:visible; align:center;","/root/reqData/fwdData","/root/reqData/fwdData");
												
						if (draft_doc_no.value != "") {
							var var_draft_doc_no = draft_doc_no.value.split("^");
							draft_doc_no.value = var_draft_doc_no[0];

							model.setValue("/root/reqData/reqForm/draft_doc_dept_cd", var_draft_doc_no[1]);
							
							model.setValue("/root/reqData/reqForm/draft_doc_no", var_draft_doc_no[0]);
							
							model.send("fc_acct_2013_s");
							
							if(get_refvalue("/root/resData/resForm/fc_acct_2013_s/dataSet/CURLIST/record/clsf_yn") == "Y"){
								draft_expn_amt.value = get_refvalue("/root/resData/resForm/fc_acct_2013_s/dataSet/CURLIST/record/draft_expn_amt");
								draft_impt_amt.value = get_refvalue("/root/resData/resForm/fc_acct_2013_s/dataSet/CURLIST/record/draft_impt_amt");
							}
							else{
								draft_expn_amt.value = "";
								draft_impt_amt.value = "";
							}					
						}					
					]]>
				</script>
			</input>
			<input id="draft_expn_amt" ref="/root/reqData/reqForm/draft_expn_amt" format="(-)#,###" style="left:393px; top:4px; width:140px; height:18px; text-align:right; "/>
			<input id="draft_impt_amt" ref="/root/reqData/reqForm/draft_impt_amt" format="(-)#,###" style="left:653px; top:4px; width:140px; height:18px; text-align:right; "/>
		</group>
		<select id="chk1" ref="/root/reqData/reqForm/chk1" navindex="9" overflow="visible" appearance="full" style="left:113px; top:157px; width:80px; height:15px; border-style:none; ">
			<choices>
				<item>
					<label>전체선택</label>
					<value>1</value>
				</item>
			</choices>
			<script type="javascript" ev:event="onclick">
				<![CDATA[							
					
						if(model.getValue("/root/reqData/reqForm/chk1") == "1"){
							for(i=1; i<datagrid1.rows;i++){
								model.setValue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record["+i+"]/check1","1");
								datagrid1.addStatus(i, "update");								
							}
							datagrid1.refresh();
						}
						else{
							for(i=1; i<datagrid1.rows;i++){
								model.setValue("/root/resData/gridData/fc_acct_2372_l/dataSet/CURLIST/record["+i+"]/check1","0");
								datagrid1.clearStatus();
							}
							datagrid1.refresh();							
						}
					]]>
			</script>
		</select>
	</xhtml:body>
</xhtml:html>
