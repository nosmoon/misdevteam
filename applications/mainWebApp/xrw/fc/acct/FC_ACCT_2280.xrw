<?xml version="1.0" encoding="EUC-KR"?>
<?xml-stylesheet type="text/css" href="../../../css/style_sheet.css" ?>
<xhtml:html xmlns:ex="http://www.comsquare.co.kr/xforms/excel" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:my="http://www.comsquare.co.kr/example" xmlns:ms="urn:schemas-microsoft-com:xslt" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://www.w3.org/2002/01/xforms" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:cs="http://www.comsquare.co.kr/xforms">
	<xhtml:head>
		<xhtml:title/>
		<model id="model1">
			<instance id="instance1">
				<root xmlns="">
					<initData>
						<!-- 화면 로딩시의 초기 데이터 -->
						<session/>
						<!-- 서버의 세션 정보 -->
						<comboSet>
							<!-- 선택계열(콤보박스,체크박스,리스트박스,라디오버튼)의 정보 -->
							<fc_acct_2280_m>
								<dataSet>
									<xx_slip_clsf_cd/>
									<xx_budg_cd_010/>
									<xx_budg_cd_020/>
									<xx_budg_cd_030/>
									<xx_dlco_clsf_cd/>
									<xx_budg_cd_040/>
									<xx_budg_cd_050/>
									<xx_mang_clsf_cd_010/>
									<xx_mang_clsf_cd_020/>
									<xx_mang_clsf_cd_030/>
									<xx_dlco_cd/>
									<xx_dlco_nm_010/>
									<xx_dlco_nm_020/>
									<xx_budg_cd_070/>
									<XX_BUDG_CD_LIST>
										<record>
											<budg_abrv_nm/>
											<budg_cd/>
										</record>
									</XX_BUDG_CD_LIST>
									<XX_MANG_CLSF_CD_LIST>
										<record>
											<cd_nm/>
											<cd/>
										</record>
									</XX_MANG_CLSF_CD_LIST>
									<CURLIST1>
										<record>
											<cd/>
											<cdnm/>
											<cd_abrv_nm/>
											<cdnm_cd/>
											<cdabrvnm_cd/>
										</record>
									</CURLIST1>
									<CURLIST2>
										<record>
											<cd/>
											<cdnm/>
											<cd_abrv_nm/>
											<cdnm_cd/>
											<cdabrvnm_cd/>
										</record>
									</CURLIST2>
									<CURLIST3>
										<record>
											<cd/>
											<cdnm/>
											<cd_abrv_nm/>
											<cdnm_cd/>
											<cdabrvnm_cd/>
										</record>
									</CURLIST3>
								</dataSet>
							</fc_acct_2280_m>
						</comboSet>
						<!-- 콤보리스트와 같은 선택게열의 데이터는 <item>을 반복함으로써 list를 구성한다. -->
						<pageInfo/>
						<!-- 해당 화면의 필요한 기타 정보들을 추가운영시 사용(화면ID등) -->
					</initData>
					<reqData>
						<!-- 서버에 전달하고자 하는 데이터 (submit시 처리) -->
						<fwdData>
						</fwdData>
						<!-- popup등의 페이지전환시 데이타 입출력에 사용 -->
						<searchData>
							<incmg_dt/>
							<slip_occr_dt/>
							<slip_clsf_cd/>
							<slip_seq/>
							<slip_flag/>
							<vipasetdebt_incmg_dt/>
							<ddbal_incmg_dt/>
							<incmg_emp_no/>
							<incmg_emp_nm/>
							<rmks1/>
							<fc_acct_2281_l>
								<incmg_dt/>
								<slip_occr_dt/>
								<slip_clsf_cd/>
								<slip_seq/>
								<slip_flag/>
								<sli_sub_seq/>
							</fc_acct_2281_l>
						</searchData>
						<!-- 검색조건 처리 -->
						<reqform/>
						<!-- 입력처리 formData 복수사용시 하위노드로 1,2,3으로 정의-->
						<multiUpDate/>
						<!-- Grid의 MultiUpDate유형 사용시 처리 -->
					</reqData>
					<resData>
						<!-- 서버로부터 전달 받은 데이터 (submit의 결과) -->
						<resform>
							<fc_acct_2281_l>
								<dr_amt_tot/>
								<curdd_bal_tot/>
								<withdarw_tot/>
							</fc_acct_2281_l>
							<fc_acct_2282_s>
								<dataSet>
									<CURLIST1>
										<record>
											<cmpy_cd/>
											<incmg_dt/>
											<vipasetdebt_incmg_dt1/>
											<vipasetdebt_incmg_dt2/>
											<ddbal_incmg_dt1/>
											<ddbal_incmg_dt2/>
										</record>
									</CURLIST1>
								</dataSet>
							</fc_acct_2282_s>
							<fc_acct_2283_i>
								<dataSet/>
							</fc_acct_2283_i>
							<fc_acct_2284_d>
								<dataSet/>
							</fc_acct_2284_d>
							<fc_acct_2285_a>
								<dataSet/>
							</fc_acct_2285_a>
						</resform>
						<!-- (submit의 결과) formData 복수사용시 하위노드로 1,2,3으로 정의 -->
						<gridData>
							<fc_acct_2281_l>
								<dataSet>
									<CURLIST1>
										<record>
											<cmpy_cd/>
											<incmg_dt/>
											<acct_cd/>
											<mang_clsf_cd/>
											<mang_clsf_cdnm/>
											<prvdd_bal/>
											<dr_amt/>
											<crdt_amt/>
											<curdd_bal/>
											<withdraw/>
											<check/>
										</record>
									</CURLIST1>
									<CURLIST2>
										<record>
											<cmpy_cd/>
											<slip_occr_dt/>
											<slip_clsf_cd/>
											<slip_seq/>
											<slip_sub_seq/>
											<slip_arow_no/>
											<incmg_emp_no/>
											<incmg_emp_nm/>
											<rmks1/>
											<budg_cd/>
											<budg_nm/>
											<mang_clsf_cd/>
											<mang_clsf_nm/>
											<drcr_clsf/>
											<dr_amt/>
											<crdt_amt/>
											<boks_dlco_nm/>
											<rmks2/>
											<dlco_clsf_cd/>
											<dlco_cd/>
											<dlco_nm/>
										</record>
									</CURLIST2>
								</dataSet>
							</fc_acct_2281_l>
						</gridData>
						<!-- (submit의 결과) gridData 복수사용시 하위노드로 1,2,3으로 정의 -->
						<MsgData/>
						<!-- (submit의 결과) 전달 받은 MsgData -->
						<rcvData>
						</rcvData>
					</resData>
					<tempData>
						<!-- 데이터를 가공할 임시저장소 -->
						<!-- 해당화면의 키값등의 데이터의 저장소 -->
						<keyData/>
						<temp_nodeset/>
						<savegrid>
							<record>
								<drcr_clsf_cd/>
								<budg_cd/>
								<dr_amt/>
								<crdt_amt/>
								<rmks2/>
								<dlco_clsf_cd/>
								<dlco_cd/>
								<dlco_nm/>
								<boks_dlco_nm/>
								<mang_clsf_cd/>
							</record>
						</savegrid>
					</tempData>
					<!-- 저장소 -->
				</root>
			</instance>
			<script type="javascript" ev:event="xforms-model-construct-done">
				<![CDATA[
				//컨트롤 초기화
				init_controls();
				
				//datagrid 컬럼 재 설정
				set_column_visibility();
				]]>
			</script>
			<script type="javascript" ev:event="xforms-ready">
				<![CDATA[
				
				//콤보데이터 조회
				send_fc_acct_2280_m();
			/*	
				alert(model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_slip_clsf_cd"));
				alert(model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_budg_cd_010"));
				alert(model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_budg_cd_020"));
				alert(model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_budg_cd_030"));
				alert(model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_dlco_clsf_cd"));
				alert(model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_budg_cd_040"));
				alert(model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_budg_cd_050"));
				alert(model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_mang_clsf_cd_010"));
				alert(model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_mang_clsf_cd_020"));
				alert(model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_mang_clsf_cd_030"));
				alert(model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_dlco_cd"));
				alert(model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_dlco_nm_010"));
				alert(model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_dlco_nm_020"));
				alert(model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_budg_cd_070"));
			*/
				model.refresh();
				]]>
			</script>
			<submission id="fc_acct_2280_m" action="/fc/acct2000/2280" mediatype="application/x-www-form-urlencoded" method="urlencoded-post" resultref="/root/initData/comboSet/fc_acct_2280_m/dataSet"/>
			<submission id="fc_acct_2281_l" action="/fc/acct2000/2281" mediatype="application/x-www-form-urlencoded" method="urlencoded-post" ref="/root/reqData/searchData/fc_acct_2281_l" resultref="/root/resData/gridData/fc_acct_2281_l/dataSet"/>
			<submission id="fc_acct_2282_s" action="/fc/acct2000/2282" mediatype="application/x-www-form-urlencoded" method="urlencoded-post" ref="/root/reqData/searchData" resultref="/root/resData/resform/fc_acct_2282_s/dataSet"/>
			<submission id="fc_acct_2283_i" action="/fc/acct2000/2283" mediatype="application/x-www-form-urlencoded" method="urlencoded-post" ref="/root/reqData/searchData" resultref="/root/resData/resform/fc_acct_2283_i/dataSet"/>
			<submission id="fc_acct_2284_d" action="/fc/acct2000/2284" mediatype="application/x-www-form-urlencoded" method="urlencoded-post" ref="/root/reqData/searchData" resultref="/root/resData/MsgData/dataSet"/>
			<submission id="fc_acct_2285_a" action="/fc/acct2000/2285" mediatype="application/x-www-form-urlencoded" method="urlencoded-post" ref="/root/reqData/searchData" resultref="/root/resData/MsgData/dataSet"/>
			<submission id="hd_com_1002" action="/hd/com/1002" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/reqData/fwdData" resultref="/root/tempData"/>
		</model>
		<script type="javascript" src="../../../js/TFCommon.js"/>
		<script type="javascript" src="../../../js/CIISComm.js"/>
		<script type="javascript" src="../../../js/fcmc_common.js"/>
		<script type="javascript">
			<![CDATA[
			var	_oth_clsf = "2";
			
			//폼 초기화 관련 데이터 조회
			function send_fc_acct_2280_m() {
				model.send("fc_acct_2280_m");
				model.refresh();
				//srch_slip_clsf_cd.value = "95";
				srch_slip_clsf_cd.value = model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_slip_clsf_cd");
				makeComboGubun("", "/root/initData/comboSet/fc_acct_2280_m/dataSet/CURLIST2", "record", "cdabrvnm_cd", "cd");
				makeComboGubun("", "/root/initData/comboSet/fc_acct_2280_m/dataSet/CURLIST1", "record", "cdabrvnm_cd", "cd");
			}
			
			//-------------------------------------------------------------------------------
			//	컨트롤의 기본 설정 적용 및 컨트롤 별 포맷 적용
			//-------------------------------------------------------------------------------
			function init_controls() {
				//control의 기본 설정 적용
				
				//datagrid init
				set_default(
						"it was comment field"
					,	datagrid1						//설명
					,	datagrid2
					,	savegrid
				);
		
				//combo init
				set_default(
						"it was comment field"
					,	srch_slip_clsf_cd
				);
				//input init
				set_default(
						"it was comment field"
					,	srch_slip_seq
					,	dr_amt_tot
					,	curdd_bal_tot
					,	withdraw_tot
					,	srch_vipasetdebt_incmg_dt
					,	srch_ddbal_incmg_dt
					,	srch_incmg_emp_nm
					,	srch_rmks1
				);
				//input button init
				set_default(
						"it was comment field"
					,	srch_incmg_emp_no
				);
				//input date init
				set_default(
						"it was comment field"
					,	srch_incmg_dt
					,	srch_slip_occr_dt
				);
				//radio init
				set_default(
						"it was comment field"
					,	srch_slip_flag
				);

				//control format 설정 적용
				set_format(
						"code"						//코드포맷,중간정렬,중간정렬
					,	srch_slip_seq
					,	datagrid1	,"check"
					,	datagrid2	,"dlco_clsf_cd,dlco_cd"
					,	srch_incmg_emp_no
				);
				set_format(
						"number4"						//양수음수 금액,우측정렬,중간정렬
					,	datagrid1	,"curdd_bal,withdraw"
					,	datagrid2	,"dr_amt"
					,	dr_amt_tot
					,	curdd_bal_tot
					,	withdraw_tot
				);
				set_format(
						"number5"						//양수 금액,우측정렬,중간정렬
				);
				set_format(
						"rate_1"						//비율포맷,우측정렬,중간정렬
				);
				set_format(
						"date_1"						//날짜포맷,중간정렬,중간정렬
					,	srch_incmg_dt
					,	srch_slip_occr_dt
					,	srch_vipasetdebt_incmg_dt
					,	srch_ddbal_incmg_dt
				);
				set_format(
						"string_c"						//포맷없음,중간정렬,중간정렬
					,	srch_incmg_emp_nm
				);
				set_format(
						"string_l"						//포맷없음,좌측정렬,중간정렬
					,	datagrid1	,"mang_clsf_cdnm"
					,	datagrid2	,"budg_cd,budg_nm,mang_clsf_nm,boks_dlco_nm,rmks2,dlco_nm,mang_clsf_cd,dlco_clsf_cd"
					,	srch_rmks1
				);

				set_refvalue(srch_incmg_dt,commCurDate(),true,true);
				srch_slip_flag.select(0);
				srch_slip_clsf_cd.disabled = true;
			}
			
			//-------------------------------------------------------------------------------
			//	datagrid의 컬럼 설정
			//-------------------------------------------------------------------------------
			function set_column_visibility() {
				//모든 컬럼을 감춘다.
				hide_all_columns(datagrid1);
				hide_all_columns(datagrid2);
				//공통항목을 보여준다.
				//show_columns(datagrid1,"cmpy_cd,incmg_dt,acct_cd,mang_clsf_cd,prvdd_bal,dr_amt,crdt_amt");
				show_columns(datagrid1,"check,mang_clsf_cdnm,curdd_bal,withdraw");
				//show_columns(datagrid2,"cmpy_cd,slip_occr_dt,slip_clsf_cd,slip_seq,slip_sub_seq,slip_arow_no,incmg_emp_no,incmg_emp_nm,rmks1,mang_clsf_nm,drcr_clsf,crdt_amt");
				show_columns(datagrid2,"budg_cd,mang_clsf_cd,dr_amt,boks_dlco_nm,rmks2,dlco_clsf_cd,dlco_cd,dlco_nm");
			}
			
			//-------------------------------------------------------------------------------
			//	조회 값 체크
			//	p_siud		"s","i","u","d"로 호출하는 동작을 명세한다.
			//-------------------------------------------------------------------------------			
			function check_search_values(p_siud) {
				//필수항목체크(검색)
				if(!commReqCheck(group_searches)) {
					return false;
				}
				
				//조회,입력,수정,삭제에 따라 입력값 검증 처리
				switch (p_siud.toUpperCase()) {
					case "S":
						//조회시
						
						break;
					case "I":
						//입력시
						
						break;
					case "U":
						//수정시
						
						break;
					case "D":
						//삭제시
						
						break;
					default:
						show_message("key 값 확인을 위한 구분자가 지정되지 않았습니다.");
						break;
				}
				
				return true;
			}
			
			//-------------------------------------------------------------------------------
			//	입력값 체크
			//	p_siud		"s","i","u","d"로 호출하는 동작을 명세한다.
			//-------------------------------------------------------------------------------
			function check_input_values(p_siud) {
				//필수항목체크(내용)
				if (!commReqCheck(group_contents)) {
					return false;
				}
				//필수항목체크(grid);
				if(!commGridReqCheck("datagrid1")) {
					return false;
				}
					
				//선택적필수항목체크
				
				//유효성체크

				//조회,입력,수정,삭제에 따라 입력값 검증 처리
				switch (p_siud.toUpperCase()) {
					case "S":
						//조회시
						
						break;
					case "I":
						//입력시
						
						break;
					case "U":
						//수정시
						
						break;
					case "D":
						//삭제시
						
						break;
					default:
						show_message("key 값 확인을 위한 구분자가 지정되지 않았습니다.");
						break;
				}
				
				return true;
			}
			
			//-------------------------------------------------------------------------------
			//	키값 체크
			//	p_siud		"s","i","u","d"로 호출하는 동작을 명세한다.
			//-------------------------------------------------------------------------------
			function check_key_values(p_siud) {
				//키값의 변경 여부
				var key_flag = false;
				//키값 변경 여부에 따른 메시지
				var key_msg = "";
				
				//submission 이름 지정 및 관련 변수 설정
				var subid1 = "fc_acct_2281_l";
				var subref1 = eval(subid1).attribute("ref");
				var subresultref1 = eval(subid1).attribute("resultref");
				var subid2 = "fc_acct_2282_s";
				var subref2 = eval(subid2).attribute("ref");
				var subresultref2 = eval(subid2).attribute("resultref");
				var subid3 = "fc_acct_2283_i";
				var subref3 = eval(subid3).attribute("ref");
				var subresultref3 = eval(subid3).attribute("resultref");
				var subid4 = "fc_acct_2284_d";
				var subref4 = eval(subid4).attribute("ref");
				var subresultref4 = eval(subid4).attribute("resultref");
								
				//체크할 키 값들의 이전 값을 instance나 control에서 가져온다.
				var prev_key			=	"prev";
				
				//체크할 키 값들의 현재 값을  instance나 control에서 가져온다.
				var curr_key			=	"curr";
								
				//이전 키값과 현재 조회창에 입력된 값을 비교하여 키값의 변경 여부를 확인				
				if (
						prev_key	==	curr_key
				) {					
					//키값이 변경되지 않은 경우
					key_flag = true;
				}
				else {
					//키값이 변경 된 경우
					key_flag = false;
				}
				
				//조회,입력,수정,삭제에 따라 키 값의 변경에 따른 처리
				switch (p_siud.toUpperCase()) {
					case "S":
						//조회시
						
						break;
					case "I":
						//입력시
						
						break;
					case "U":
						//수정시
						
						break;
					case "D":
						//삭제시
						
						break;
					default:
						show_message("key 값 확인을 위한 구분자가 지정되지 않았습니다.");
						break;
				}

				//키 값이 변경되었을 경우 메시지를 보여준다.
				if (!key_flag) check_reqItem("","none","none",key_msg);	
				
				//키 값의 변경 여부를 반환
				return key_flag;
			}
			
			//-------------------------------------------------------------------------------
			//	모델 리셋
			//-------------------------------------------------------------------------------
			function reset_model(p_save) {
				//p_save가 true인 경우 기존 값을 백업하고 다시 복원시킨다.
				
				//데이터 백업

				//모델 리셋
				model.reset();
				
				//데이터 복원
				set_refvalue(srch_slip_flag,"1",true,true);
				set_refvalue(srch_incmg_dt,commCurDate(),true,true);
				if (p_save) {

				}
				
				//데이터 복원 후 필요한 추가 작업
			}
			
			function change_slip_flag() {
				if (get_refvalue(srch_slip_flag) == "1") {
					control_mark_req(srch_incmg_dt);
					srch_incmg_dt.disabled = false;
					srch_slip_seq.disabled = true;
					control_unmark_req(srch_slip_occr_dt);
					control_unmark_req(srch_slip_clsf_cd);
					control_unmark_req(srch_slip_seq);
				}
				else if((get_refvalue(srch_slip_flag) == "2")) {
					control_unmark_req(srch_incmg_dt);
					srch_incmg_dt.disabled = true;
					srch_slip_seq.disabled = false;
					control_mark_req(srch_slip_occr_dt);
					control_mark_req(srch_slip_clsf_cd);
					control_mark_req(srch_slip_seq);
					//set_refvalue(srch_incmg_dt,"",true,true);
				}
				else {
				}
			}

			function prepare_fc_acct_2281_l() {
				if(!check_search_values("s")) {
					return false;
				}
				
				return true;
			}
			
			function send_fc_acct_2281_l() {
				//조건에 문제가 없다면 처리
				if (!prepare_fc_acct_2281_l()) {
					return false;
				}

				//submission 이름 지정 및 관련 변수 설정
				var subid1 = "fc_acct_2281_l";
				var subref1 = eval(subid1).attribute("ref");
				var subresultref1 = eval(subid1).attribute("resultref");
				var subid1_cur1 = "CURLIST1";
				var subid1_cur2 = "CURLIST2";
				var totalcnt1 = 0;
				var totalcnt2 = 0;
				var totalcnt = 0;
				
				//입력값 설정
				set_refvalue(subref1 + "/" + "slip_flag",srch_slip_flag.value);
				if (get_refvalue(srch_slip_flag) == "1") {					
					set_refvalue(subref1 + "/" + "incmg_dt",srch_incmg_dt.value);
					set_refvalue(subref1 + "/" + "slip_occr_dt","");
					set_refvalue(subref1 + "/" + "slip_clsf_cd","");
					set_refvalue(subref1 + "/" + "slip_seq","");
					set_refvalue(subref1 + "/" + "slip_sub_seq","");
				}
				else if (get_refvalue(srch_slip_flag) == "2") {
					set_refvalue(subref1 + "/" + "incmg_dt","");
					set_refvalue(subref1 + "/" + "slip_occr_dt",srch_slip_occr_dt.value);
					set_refvalue(subref1 + "/" + "slip_clsf_cd",srch_slip_clsf_cd.value);
					set_refvalue(subref1 + "/" + "slip_seq",srch_slip_seq.value);
					set_refvalue(subref1 + "/" + "slip_sub_seq","0");
				}
				else {
					show_message("잘못된 조건 설정입니다.");
					return false;
				}
				
				datagrid_data_clear(datagrid1);
				datagrid_data_clear(datagrid2);
				
				remove_refnode("/root/reqData/searchDataB");
				copy_refnode("/root/reqData/searchDataB","/root/reqData/searchData");
				//실행
				model.send(subid1);
				
				totalcnt1 = model.getValue(subresultref1 + "/" + subid1_cur1 + "/" + "totalcnt");
				totalcnt2 = model.getValue(subresultref1 + "/" + subid1_cur2 + "/" + "totalcnt");

				//REMARK2009/05/01/14/51 START
				//하단 코드는 값이 있든 없든 실행될 수 있는 코드로
				//검색결과가 없을 경우 메시지 박스를 닫은 후 실행될 경우 사라지는 모습이 보여서 위로 이동
				set_refvalue(srch_incmg_emp_no,get_refvalue(subresultref1 + "/" + subid1_cur2 + "/" + "record[1]" + "/" + "incmg_emp_no"));
				set_refvalue(srch_incmg_emp_nm,get_refvalue(subresultref1 + "/" + subid1_cur2 + "/" + "record[1]" + "/" + "incmg_emp_nm"));
				set_refvalue(srch_rmks1,get_refvalue(subresultref1 + "/" + subid1_cur2 + "/" + "record[1]" + "/" + "rmks1"));

				recalc_dr_amt_tot();
				recalc_curdd_bal_tot();
				recalc_withdraw_tot();
				//REMARK2009/05/01/14/51 END

				if (0 == (totalcnt1 + totalcnt2) && check_submit_completed()) {
					show_message("검색결과가 없습니다.");
				}
				else {
					datagrid_addrow(datagrid2, 10, true);
				}
			}

			function prepare_fc_acct_2282_s() {
				if(!check_search_values("s")) {
					return false;
				}
				
				return true;
			}

			function send_fc_acct_2282_s() {
				//조건에 문제가 없다면 처리
				if (!prepare_fc_acct_2282_s()) {
					return false;
				}
				
				//submission 이름 지정 및 관련 변수 설정
				var subid1 = "fc_acct_2282_s";
				var subref1 = eval(subid1).attribute("ref");
				var subresultref1 = eval(subid1).attribute("resultref");
				var subid1_cur1 = "CURLIST1";
				var totalcnt1 = 0;
				
				//입력값 설정
				//incmg_dt 만 설정되면 됨
				
				//실행
				model.send(subid1);
				
				totalcnt1 = model.getValue(subresultref1 + "/" + subid1_cur1 + "/" + "totalcnt");
				
				if (0 == (totalcnt1) && check_submit_completed()) {
					show_message("검색결과가 없습니다.");
				}
				else {
				}	

				var temp_vipasetdebt_incmg_dt1 = get_refvalue(subresultref1 + "/" + subid1_cur1 + "/" + "record" + "/" + "vipasetdebt_incmg_dt1");
				var temp_vipasetdebt_incmg_dt2 = get_refvalue(subresultref1 + "/" + subid1_cur1 + "/" + "record" + "/" + "vipasetdebt_incmg_dt2");
				var temp_ddbal_incmg_dt1 = get_refvalue(subresultref1 + "/" + subid1_cur1 + "/" + "record" + "/" + "ddbal_incmg_dt1");
				var temp_ddbal_incmg_dt2 = get_refvalue(subresultref1 + "/" + subid1_cur1 + "/" + "record" + "/" + "ddbal_incmg_dt2");
				
				if (temp_vipasetdebt_incmg_dt1 != "") {
					set_refvalue(srch_vipasetdebt_incmg_dt,temp_vipasetdebt_incmg_dt1,true,true);
				}
				else {
					set_refvalue(srch_vipasetdebt_incmg_dt,temp_vipasetdebt_incmg_dt2,true,true);
				}
				
				if (temp_ddbal_incmg_dt1 != "") {
					set_refvalue(srch_ddbal_incmg_dt,temp_ddbal_incmg_dt1,true,true);
				}
				else {
					set_refvalue(srch_ddbal_incmg_dt,temp_ddbal_incmg_dt2,true,true);
				}

				btn_insert.disabled = (get_refvalue(srch_vipasetdebt_incmg_dt) >= get_refvalue(srch_incmg_dt));
				btn_delete.disabled = (get_refvalue(srch_ddbal_incmg_dt) >= get_refvalue(srch_incmg_dt));
			}
			
			function recalc_dr_amt_tot() {
				var obj = dr_amt_tot;
				var grid = datagrid2;
				var colid = grid.colRef("dr_amt");
				var tot = datagrid_data_sum(grid,grid.fixedRows,colid,grid.rows,colid,"budg_cd","6");
				set_refvalue(obj,tot);
			}
			
			function recalc_curdd_bal_tot() {
				var obj = curdd_bal_tot;
				var grid = datagrid1;
				var colid = grid.colRef("curdd_bal");
				var tot = datagrid_data_sum(grid,grid.fixedRows,colid,grid.rows,colid);
				set_refvalue(obj,tot);
			}
			
			function recalc_withdraw_tot() {
				var obj = withdraw_tot;
				var grid = datagrid1;
				var colid = grid.colRef("withdraw");
				var tot = datagrid_data_sum(grid,grid.fixedRows,colid,grid.rows,colid,"check","1,Y,Y");
				set_refvalue(obj,tot);
			}
			
			function open_mc_co_1020() {
				var popid = "mc_co_1020";
				var rcvs_flag = false;

				if (event != null && event.name == "xforms-value-changed") {
					//값이 변경되면 기존에 조회된 자료를 모두 제거한다.
					reset_popup_rcvs_data(popid);
				}
				
				set_popup_send_data(popid,"mode","sr");
				set_popup_send_data(popid,"title","예산코드조회");
				set_popup_send_data(popid,"readonly","0");
				set_popup_send_data(popid,"datafilter","");	
				//예산코드조회
				set_popup_send_data(popid,"searchid","1");
				set_popup_send_data(popid,"msg","");
				set_popup_send_data(popid,"cd",datagrid2.valueMatrix(datagrid2.row,datagrid2.colRef("budg_cd")));
				set_popup_send_data(popid,"cdnm","");
				
				set_popup_send_data(popid,"require","cd");	
				
				rcvs_flag = call_mc_co_1020("mc_co_1001_l","CURLIST",false);
				if (rcvs_flag) {
					//정상처리
				}
				else {
					//취소버튼을 누른 경우 조회 조회를 위한 값과 조회된 값이 틀린 경우 기존 값을 모두 제거한다.
				}
				
				//value-changed 와 buttonclick이 동시 발생했을 경우
				//이하 코드는 두번씩 실행되므로 무거운 코드는 넣지 않도록 하자
				
				//만약  value-changed 이벤트이면서 결과값이 없는 경우면 현재 값과 현재값에 종속되는 모든 값을 삭제한다.
				if (event != null && event.name == "xforms-value-changed" && !rcvs_flag) {
					if (datagrid2.valueMatrix(datagrid2.row,datagrid2.colRef("budg_cd")) != "") {
						//show_message("해당 부서에서 등록한 행사코드가 존재하지 않습니다");
					}
					datagrid2.valueMatrix(datagrid2.row,datagrid2.colRef("budg_cd")) = "";
					datagrid2.valueMatrix(datagrid2.row,datagrid2.colRef("budg_nm")) = "";
				}
				
				datagrid2.valueMatrix(datagrid2.row,datagrid2.colRef("budg_cd")) =  get_popup_rcvs_data(popid,"cd");
				datagrid2.valueMatrix(datagrid2.row,datagrid2.colRef("budg_nm")) =  get_popup_rcvs_data(popid,"cdnm");
				
				return rcvs_flag;
			}
			
			function open_fc_acct_1180() {
				var popid = "fc_acct_1180";
				var rcvs_flag = false;

				if (event != null && event.name == "xforms-value-changed") {
					//값이 변경되면 기존에 조회된 자료를 모두 제거한다.
					reset_popup_rcvs_data(popid);
				}
				
				set_popup_send_data(popid,"mode","sr");
				set_popup_send_data(popid,"title","");
				set_popup_send_data(popid,"readonly","0");
				set_popup_send_data(popid,"multiselection","0");
				set_popup_send_data(popid,"datafilter","starts-with(cd,'4')");	
				set_popup_send_data(popid,"clsf_cd_filter","starts-with(cd,'9')");	

				set_popup_send_data(popid,"clsf_cd",datagrid2.valueMatrix(datagrid2.row,datagrid2.colRef("dlco_clsf_cd")));
				set_popup_send_data(popid,"cd_f",datagrid2.valueMatrix(datagrid2.row,datagrid2.colRef("dlco_cd")));
				set_popup_send_data(popid,"cd_t",datagrid2.valueMatrix(datagrid2.row,datagrid2.colRef("dlco_cd")));
				set_popup_send_data(popid,"cd_abrv_nm","");
				
				set_popup_send_data(popid,"require","clsf_cd,cd_f,cd_t");	
				
				rcvs_flag = call_fc_acct_1180(false);
				if (rcvs_flag) {
					//정상처리
				}
				else {
					//취소버튼을 누른 경우 조회 조회를 위한 값과 조회된 값이 틀린 경우 기존 값을 모두 제거한다.
				}
				
				//value-changed 와 buttonclick이 동시 발생했을 경우
				//이하 코드는 두번씩 실행되므로 무거운 코드는 넣지 않도록 하자
				
				//만약  value-changed 이벤트이면서 결과값이 없는 경우면 현재 값과 현재값에 종속되는 모든 값을 삭제한다.
				if (event != null && event.name == "xforms-value-changed" && !rcvs_flag) {
					if (datagrid2.valueMatrix(datagrid2.row,datagrid2.colRef("dlco_cd")) != "") {
						//show_message("해당 부서에서 등록한 행사코드가 존재하지 않습니다");
					}
					datagrid2.valueMatrix(datagrid2.row,datagrid2.colRef("dlco_cd")) = "";
					datagrid2.valueMatrix(datagrid2.row,datagrid2.colRef("dlco_nm")) = "";
				}
				
				if (get_popup_rcvs_data(popid,"clsf_cd") != "") {
					datagrid2.valueMatrix(datagrid2.row,datagrid2.colRef("dlco_clsf_cd")) =  get_popup_rcvs_data(popid,"clsf_cd");
				}
				datagrid2.valueMatrix(datagrid2.row,datagrid2.colRef("dlco_cd")) =  get_popup_rcvs_data(popid,"cd");
				datagrid2.valueMatrix(datagrid2.row,datagrid2.colRef("dlco_nm")) =  get_popup_rcvs_data(popid,"cd_abrv_nm");
				
				return rcvs_flag;
			}
			
			function prepare_fc_acct_2283_i() {
				if (!check_key_values("i")) {
					return false;
				}
				
				if(!check_search_values("i")) {
					return false;
				}

				if(!check_input_values("i")) {
					return false;
				}
				
				return true;
			}
			
			function send_fc_acct_2283_i() {
				//조건에 문제가 없다면 처리
//				if (!prepare_fc_acct_2283_i()) {
//					return false;
//				}

//if (!check_reqItem(subresultref1 + "/CURLIST1/record/cmpy_cd","trim","none","조회되지 않은 데이터입니다. 조회 후 저장하세요.")) {return false;}

				if ("" == get_refvalue("/root/reqData/searchDataB/incmg_dt") && "" == get_refvalue("/root/reqData/searchDataB/slip_occr_dt")) {
					show_message("조회되지 않은 데이터입니다. 조회 후 저장하세요.");
					return false;
				}
						
				if (!check_reqItem(srch_slip_occr_dt,"trim","focus",srch_slip_occr_dt)) {return false;}
				if (!check_reqItem(srch_incmg_emp_no,"trim","focus",srch_incmg_emp_no)) {return false;}
				if (!check_reqItem(srch_incmg_emp_nm,"trim",srch_incmg_emp_no,"사번이 정상적으로 조회되지 않았습니다. 다시 조회하세요.")){return false;}
				if (!check_reqItem(srch_rmks1,"trim","focus",srch_rmks1)) {return false;}
				
				if (get_refvalue(dr_amt_tot) != get_refvalue(withdraw_tot)) {
					show_message("차변합계금액 과 대변인출금액이 틀립니다. 확인하십시요");
					return false;
				}
				
				var tt = datagrid2;
				for(var i = tt.fixedRows;i<tt.rows;i++) {
					var tt_budg_cd = tt.valueMatrix(i,tt.colRef("budg_cd")).Trim();
					var tt_budg_nm = tt.valueMatrix(i,tt.colRef("budg_nm")).Trim();
					var tt_budg_cd2 = tt_budg_cd.substr(0,4);
					var tt_mang_clsf_cd = tt.valueMatrix(i,tt.colRef("mang_clsf_cd")).Trim();
					var tt_dlco_clsf_cd = tt.valueMatrix(i,tt.colRef("dlco_clsf_cd")).Trim();
					var tt_dlco_cd = tt.valueMatrix(i,tt.colRef("dlco_cd")).Trim();
					var tt_boks_dlco_nm = tt.valueMatrix(i,tt.colRef("boks_dlco_nm")).Trim();
					
					if (tt_budg_cd == "") {
						continue;
					}
					
					if (/*
							tt_budg_cd2 == "0103"		//당좌예금
						||	tt_budg_cd2 == "0114"		//보통예금
						||	tt_budg_cd2 == "0175"		//기업자유예금
						*/
							tt_budg_cd2 == model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_budg_cd_010")	//당좌예금
						||	tt_budg_cd2 == model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_budg_cd_020")	//보통예금
						||	tt_budg_cd2 == model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_budg_cd_030")	//기업자유예금
					) {
						//관리구분코드필수
						if (tt_mang_clsf_cd == "") {
							show_message("관리구분코드은(는) 필수입력항목입니다.["+i+"]");
							datagrid_edit_cell(tt,i,"mang_clsf_cd");
							return false;
						}
						
						//if (tt_budg_cd2 == "0103") {
						if (tt_budg_cd2 == model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_budg_cd_010")) {
							if (tt_dlco_clsf_cd == "") {
								show_message("(당좌예금) 거래처구분코드은(는) 필수입력항목입니다["+i+"]");
								datagrid_edit_cell(tt,i,"dlco_clsf_cd");
								return false;
							}
							//if (tt_dlco_clsf_cd != "95") {
							if (tt_dlco_clsf_cd != model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_dlco_clsf_cd")) {
								//show_message("(당좌예금) 거래처구분코드은(는) 95(은행코드)만 입력가능합니다.["+i+"]");
								show_message("(당좌예금) 거래처구분코드은(는) "+model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_dlco_clsf_cd")+"(은행코드)만 입력가능합니다.["+i+"]");
								datagrid_edit_cell(tt,i,"dlco_clsf_cd");
								return false;
							}
							if (tt_dlco_cd == "") {
								show_message("(당좌예금) 거래처코드은(는) 필수입력항목입니다.["+i+"]");
								datagrid_edit_cell(tt,i,"dlco_cd");
								return false;
							}
						}
						
						//if (tt_budg_cd2 == "0175") {
						if (tt_budg_cd2 == model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_budg_cd_030")) {
							if (tt_boks_dlco_nm == "") {
								show_message("(기업자유예금) 부거래처명은(는) 필수입력항목입니다["+i+"]");
								datagrid_edit_cell(tt,i,"boks_dlco_nm");
								return false;
							}						
							if (tt_dlco_clsf_cd == "") {
								show_message("(기업자유예금) 필수입력항목입니다["+i+"]");
								datagrid_edit_cell(tt,i,"dlco_clsf_cd");
								return false;
							}
							//if (tt_dlco_clsf_cd != "95") {
							if (tt_dlco_clsf_cd != model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_dlco_clsf_cd")) {
								//show_message("(기업자유예금) 95(은행코드)만 입력가능합니다.["+i+"]");
								show_message("(기업자유예금) "+model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_dlco_clsf_cd")+"(은행코드)만 입력가능합니다.["+i+"]");
								datagrid_edit_cell(tt,i,"dlco_clsf_cd");
								return false;
							}
							if (tt_dlco_cd == "") {
								show_message("(기업자유예금) 필수입력항목입니다.["+i+"]");
								datagrid_edit_cell(tt,i,"dlco_cd");
								return false;
							}
						}
					}
				} 
				datagrid_data_clear(savegrid);
				tt = datagrid2;

				for(var i = tt.fixedRows;i<tt.rows;i++) {

					var tt_budg_cd			=	tt.valueMatrix(i,tt.colRef("budg_cd")).Trim();
					var tt_budg_nm			=	tt.valueMatrix(i,tt.colRef("budg_nm")).Trim();
					var tt_budg_cd2			=	tt_budg_cd.substr(0,4);
					var tt_mang_clsf_cd		=	tt.valueMatrix(i,tt.colRef("mang_clsf_cd")).Trim();
					var tt_dlco_clsf_cd		=	tt.valueMatrix(i,tt.colRef("dlco_clsf_cd")).Trim();
					var tt_dlco_cd			=	tt.valueMatrix(i,tt.colRef("dlco_cd")).Trim();
					var tt_dlco_nm			=	tt.valueMatrix(i,tt.colRef("dlco_nm")).Trim();
					var tt_boks_dlco_nm		=	tt.valueMatrix(i,tt.colRef("boks_dlco_nm")).Trim();
					var tt_dr_amt			=	tt.valueMatrix(i,tt.colRef("dr_amt")).Trim();
					var tt_crdt_amt			=	tt.valueMatrix(i,tt.colRef("crdt_amt")).Trim();
					var tt_rmks2			=	tt.valueMatrix(i,tt.colRef("rmks2")).Trim();

					if (tt_budg_cd == "") {
						continue;
					}

					savegrid.addRow(false);

					savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("drcr_clsf_cd")) = "1";
					savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("budg_cd")) = tt_budg_cd;
					savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("mang_clsf_cd")) = tt_mang_clsf_cd;
					savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dr_amt")) = tt_dr_amt;
					savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("crdt_amt")) = "0";
					savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("rmks2")) = tt_rmks2;
					//if ("017500" == tt_budg_cd) {
					if (model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_budg_cd_050") == tt_budg_cd) {
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("boks_dlco_nm")) = tt_boks_dlco_nm;
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_clsf_cd")) = tt_dlco_clsf_cd;
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_cd")) = tt_dlco_cd;
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_nm")) = tt_dlco_nm;
					}
					else {
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("boks_dlco_nm")) = "";
					}
					
					//if("010300" == tt_budg_cd) {
					if(model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_budg_cd_040") == tt_budg_cd) {
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_clsf_cd")) = tt_dlco_clsf_cd;
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_cd")) = tt_dlco_cd;
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_nm")) = tt_dlco_nm;
					}
					
					//if("017500" != tt_budg_cd && "010300" != tt_budg_cd) {
					if(model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_budg_cd_050") != tt_budg_cd && model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_budg_cd_040") != tt_budg_cd) {
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_clsf_cd")) = "";
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_cd")) = "";
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_nm")) = "";						
					}
				}

				if(0 == count_refnodeset(savegrid.nodeset)) {
					show_message("저장할 자료가 없습니다.");
					return false;
				}

				tt = datagrid1;
				for(var i = tt.fixedRows;i<tt.rows;i++) {
					var tt_budg_cd			=	tt.valueMatrix(i,tt.colRef("acct_cd")).Trim().substr(0,6);
					var tt_budg_cd2			=	tt_budg_cd.substr(0,4);
					var tt_mang_clsf_cd		=	tt.valueMatrix(i,tt.colRef("mang_clsf_cd")).Trim();
					var tt_crdt_amt			=	tt.valueMatrix(i,tt.colRef("withdraw")).Trim();
					var tt_check			=	tt.valueMatrix(i,tt.colRef("check")).Trim();
					
					if (tt_check != "Y") {
						continue;
					}
					
					savegrid.addRow(false);
					savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("")) = "";
					savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("drcr_clsf_cd")) = "9";
					savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("budg_cd")) = tt_budg_cd;
					savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("mang_clsf_cd")) = tt_mang_clsf_cd;
					savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dr_amt")) = 0;
					savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("crdt_amt")) = tt_crdt_amt;
					savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("rmks2")) = "";
					savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("boks_dlco_nm")) = "";
					savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_clsf_cd")) = "";
					savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_cd")) = "";
					savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_nm")) = ""
					/*
					if("3601" == tt_mang_clsf_cd || "3602" == tt_mang_clsf_cd) {
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_clsf_cd")) = "95";
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_cd")) = "219943";
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_nm")) = "조흥은행광화문기업";
					}
					if("3606" == tt_mang_clsf_cd) {
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_clsf_cd")) = "95";
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_cd")) = "219943";
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_nm")) = "국민은행태평로1가";
					}
					*/
					
					if(model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_mang_clsf_cd_010") == tt_mang_clsf_cd || model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_mang_clsf_cd_020") == tt_mang_clsf_cd) {
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_clsf_cd")) = model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_dlco_clsf_cd");
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_cd")) = model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_dlco_cd");
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_nm")) = model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_dlco_nm_010");
					}
					if(model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_mang_clsf_cd_030") == tt_mang_clsf_cd) {
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_clsf_cd")) = model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_dlco_clsf_cd");
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_cd")) = model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_dlco_cd");
						savegrid.valueMatrix(savegrid.rows-1,savegrid.colRef("dlco_nm")) =model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_dlco_nm_020");
					}
				}
				
				if(0 == count_refnodeset(savegrid.nodeset)) {
					show_message("저장할 자료가 없습니다.");
					return false;
				}
				
				if (show_message("저장하시겠습니까?","저장 확인",MB_YESNO) != IDYES) {
					return false;
				}

				//submission 이름 지정 및 관련 변수 설정
				var subid1 = "fc_acct_2283_i";
				var subref1 = eval(subid1).attribute("ref");
				var subresultref1 = eval(subid1).attribute("resultref");
				var subid1_cur1 = "CURLIST1";
				var totalcnt = 0;
				
				//입력값 설정
				set_refvalue(subref1 + "/multiUpdateData",savegrid.getUpdateData());
				set_refvalue(subref1 + "/work_flag","S");
				set_refvalue(subref1 + "/fisc_dt",srch_slip_occr_dt.value);
				//실행
				model.send(subid1);
				
				if(check_submit_completed("저장되었습니다.","")) {
					set_refvalue(srch_slip_flag,"2",true,true);
					set_refvalue(srch_slip_seq,get_refvalue(subresultref1 + "/" + subid1_cur1 + "/" + "record[1]" + "/" + "slip_seq"));
					return true;
				}
				else {
					return false;
				}
				
				return true;
			}

			function prepare_fc_acct_2284_d() {
				if (!check_key_values("d")) {
					return false;
				}
				
				if(!check_search_values("d")) {
					return false;
				}

				if(!check_input_values("d")) {
					return false;
				}
				
				return true;
			}
						
			function send_fc_acct_2284_d() {
				if ("" == get_refvalue("/root/reqData/searchDataB/incmg_dt") && "" == get_refvalue("/root/reqData/searchDataB/slip_occr_dt")) {
					show_message("조회되지 않은 데이터입니다. 조회 후 저장하세요.");
					return false;
				}
				
				if(
						get_refvalue("/root/reqData/searchDataB/slip_occr_dt") != srch_slip_occr_dt.value
					||	get_refvalue("/root/reqData/searchDataB/slip_clsf_cd") != srch_slip_clsf_cd.value
					||	get_refvalue("/root/reqData/searchDataB/slip_seq") != srch_slip_seq.value
				) {
					show_message("Key 값이 변경되었습니다. 조회 후 저장하세요.");
					return false;
				}
				
				if (!check_reqItem(srch_slip_occr_dt,"trim","focus",srch_slip_occr_dt)) {return false;}
				if (!check_reqItem(srch_slip_clsf_cd,"trim","focus",srch_slip_clsf_cd)) {return false;}
				if (!check_reqItem(srch_slip_seq,"trim","focus",srch_slip_seq)) {return false;}
				
				if ((count_refnodeset(datagrid1.nodeset) + count_refnodeset(datagrid2.nodeset)) == 0) {
					show_message("저장할 자료가 없습니다.");
					return false;
				}
				
				if (show_message("저장하시겠습니까?","저장 확인",MB_YESNO) != IDYES) {
					return false;
				}

				//submission 이름 지정 및 관련 변수 설정
				var subid1 = "fc_acct_2284_d";
				var subref1 = eval(subid1).attribute("ref");
				var subresultref1 = eval(subid1).attribute("resultref");
				var totalcnt = 0;
				
				//입력값 설정
				set_refvalue(subref1 + "/work_flag","C");

				//실행
				model.send(subid1);
				
				srch_slip_seq.value = "";
				return check_submit_completed("저장되었습니다.","");
				
				
			}

			function send_fc_acct_2285_a(p_work_flag) {
//				if ("" == get_refvalue("/root/reqData/searchDataB/incmg_dt") && "" == get_refvalue("/root/reqData/searchDataB/slip_occr_dt")) {
//					show_message("조회되지 않은 데이터입니다. 조회 후 자료생성/생성취소 하세요.");
//					return false;
//				}
//				
//				if (!check_reqItem(srch_slip_occr_dt,"trim","focus",srch_slip_occr_dt)) {return false;}
				
				var msg = "";
				if ("C" == p_work_flag) {
					//자료생성
					msg = "자료생성을 하시겠습니까?";
				}
				else if("D" == p_work_flag) {
					//생성취소
					msg = "생성취소를 하시겠습니까?";
				}
				else {
					return false;
				}
				
				if (show_message(msg,"저장 확인",MB_YESNO) != IDYES) {
					return false;
				}

				//submission 이름 지정 및 관련 변수 설정
				var subid1 = "fc_acct_2285_a";
				var subref1 = eval(subid1).attribute("ref");
				var subresultref1 = eval(subid1).attribute("resultref");
				var totalcnt = 0;
				
				//입력값 설정
				set_refvalue(subref1 + "/work_flag",p_work_flag);

				//실행
				model.send(subid1);
				
				return check_submit_completed("저장되었습니다.","");
			}
			
			function setEmp_no(emp_no, nm_korn){
				srch_incmg_emp_no.value= emp_no;
				srch_incmg_emp_nm.value = nm_korn;
			}
			]]>
		</script>
	</xhtml:head>
	<xhtml:body class="main" pagewidth="946" pageheight="765" guideline="2,50;1,936;1,10;2,5;2,734;2,105;2,721;2,613;">
		<group id="grp_buttons" class="gro_sel" style="left:10px; top:734px; width:926px; height:21px; ">
			<button id="btnReset" class="btn02" navindex="45" style="left:275px; top:0px; width:52px; height:21px; ">
				<caption>초기화</caption>
				<script type="javascript" ev:event="onclick">
					<![CDATA[
					reset_model(false);
					]]>
				</script>
			</button>
			<button id="btn_delete" class="btn02" disabled="true" navindex="43" crud="D" style="left:110px; top:0px; ">
				<caption>생성취소</caption>
				<script type="javascript" ev:event="onclick">
					<![CDATA[
						if (send_fc_acct_2285_a("D")) {
							srch_incmg_dt.dispatch("xforms-value-changed");							
						}
					]]>
				</script>
			</button>
			<button id="btn_insert" class="btn02" disabled="true" navindex="42" crud="C" style="left:55px; top:0px; ">
				<caption>자료생성</caption>
				<script type="javascript" ev:event="onclick">
					<![CDATA[
						if (send_fc_acct_2285_a("C")) {
							srch_incmg_dt.dispatch("xforms-value-changed");	
							btn_select.dispatch("onclick");	
						}
					]]>
				</script>
			</button>
			<button id="btn_save" class="btn02" navindex="44" crud="C" style="left:165px; top:0px; ">
				<caption>저장</caption>
				<script type="javascript" ev:event="onclick">
					<![CDATA[
					if (srch_slip_flag.value == "1") {
						//insert
						send_fc_acct_2283_i();
						srch_incmg_dt.dispatch("xforms-value-changed");							
					}
					else {
						//delete
						send_fc_acct_2284_d();
						srch_incmg_dt.dispatch("xforms-value-changed");
					}
					]]>
				</script>
			</button>
			<button id="btnClose" class="btn02" navindex="47" style="left:385px; top:0px; width:52px; height:21px; ">
				<caption>종료</caption>
				<script type="javascript" ev:event="onclick">
					<![CDATA[
					formClose();		
					]]>
				</script>
			</button>
			<button id="btn_select" class="btn02" navindex="41" crud="R" style="left:0px; top:0px; ">
				<caption>조회</caption>
				<script type="javascript" ev:event="onclick">
					<![CDATA[
					send_fc_acct_2281_l();
					]]>
				</script>
			</button>
			<button id="btn_help" class="btn02" navindex="46" crud="R" style="left:330px; top:0px; width:52px; height:21px; ">
				<caption>엑셀</caption>
				<script type="javascript" ev:event="onclick">
					<![CDATA[
					var grid = null;
					
					if(_oth_clsf == "1"){			
						grid = datagrid1;
					}
					if(_oth_clsf == "2"){			
						grid = datagrid2;
					}
					
					var filename = window.fileDialog("save", ",", false, "", "xls", "Excel File(*.xls)|*.xls");
					if(filename!=""){
						grid.saveExcel(filename, "sheetname: ");
					}
					]]>
				</script>
			</button>
			<button id="btn_slip" class="btn02" navindex="44" crud="C" style="left:220px; top:0px; width:52px; height:21px; ">
				<caption>전표발행</caption>
				<script type="javascript" ev:event="onclick">
					<![CDATA[
					if(srch_slip_occr_dt.value == "" || srch_slip_clsf_cd.value == "" || srch_slip_seq.value == "" ){
						show_message("전표번호가 없습니다.");
						return false;
					}
					// 글로벌변수 셋팅
					model.property("FC_ACCT_2260_slip_occr_dt")  = srch_slip_occr_dt.value;			// 발생일자
					model.property("FC_ACCT_2260_slip_clsf_cd")  = srch_slip_clsf_cd.value;			// 전표구분
					model.property("FC_ACCT_2260_slip_seqfr") = srch_slip_seq.value;			// 일련번호 from
					model.property("FC_ACCT_2260_slip_seqto") = srch_slip_seq.value;			// 일련번호 to
					model.property("FC_ACCT_2260_slip_radio1") = "";			// 출력구분
					model.property("FC_ACCT_2260_popup_flag")  = "Y";
					
					// 화면호출
					//viewer("mainFrame").window.javaScript.onLoadPopupPageEx("FC_ACCT_2260", "modal", "align:center; caption:hidden; width:650px; height:480px;");
					viewer("mainFrame").window.javaScript.onLoadExMDIPage("FC_ACCT_2260");
					]]>
				</script>
			</button>
			<button id="btn_1cha" class="btn04" navindex="41" visibility="hidden" crud="R" style="left:465px; top:0px; width:90px; height:21px; ">
				<caption>1차모계좌집계</caption>
				<script type="javascript" ev:event="onclick">
					<![CDATA[
						viewer("mainFrame").window.javaScript.onLoadPopupPageEx("FC_ACCT_2580", "modal", "align:center; caption:hidden; width:970px; height:770px;");
					]]>
				</script>
			</button>
		</group>
		<group id="group_line" class="gro_line" style="left:10px; top:140px; width:926px; height:5px; "/>
		<import id="iv_Title" src="../../../common/xrw/iv_TitleBar.xrw" style="left:10px; top:5px; width:926px; height:29px; "/>
		<group id="group_contents" class="gro_sel" style="left:10px; top:155px; width:926px; height:566px; border-color:#00ccff; ">
			<caption id="caption1" class="list_cap03" style="left:0px; top:0px; width:459px; height:26px; font-weight:bold; gradient:linear(0,0,100%,100%,white,#dddddd,1); ">차변 내역</caption>
			<caption id="caption7" class="list_cap03" style="left:467px; top:0px; width:459px; height:26px; font-weight:bold; text-align:center; gradient:linear(0,0,100%,100%,white,#dddddd,1); ">대변 내역</caption>
			<datagrid id="datagrid1" nodeset="/root/resData/gridData/fc_acct_2281_l/dataSet/CURLIST1/record" caption="선택^회사코드^입력일자^계정코드^관리구분코드^관리구분^전일잔액^차변금액^대변금액^잔액^인출금액" colsep="^" colwidth="56, 100, 100, 100, 100, 150, 100, 100, 100, 100, 100" frozencols="2" mergecellsfixedrows="bycolrec" rowheader="update" rowsep="|" style="left:467px; top:30px; width:459px; height:506px; ">
				<col checkvalue="Y,N" ref="check" type="checkbox"/>
				<col ref="cmpy_cd"/>
				<col ref="incmg_dt"/>
				<col ref="acct_cd"/>
				<col ref="mang_clsf_cd"/>
				<col ref="mang_clsf_cdnm"/>
				<col ref="prvdd_bal"/>
				<col ref="dr_amt"/>
				<col ref="crdt_amt"/>
				<col ref="curdd_bal"/>
				<col ref="withdraw" type="input"/>
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
					var grid = eval(event.currentTarget);
					var rowid = grid.row;
					var colid = grid.col;
					
					if (rowid < grid.fixedRows || colid < grid.fixedCols) {
						return;
					}
					
					//잔액 변경시 금액 재계산
					if (colid == grid.colRef("curdd_bal")) {
						recalc_curdd_bal_tot();
					}
					
					//인출 변경시 금액 재계산
					if (colid == grid.colRef("withdraw") || colid == grid.colRef("check") ) {
						recalc_withdraw_tot();
					}
					]]>
				</script>
				<script type="javascript" ev:event="onclick">
					<![CDATA[
					_oth_clsf = "1";
					]]>
				</script>
			</datagrid>
			<datagrid id="datagrid2" nodeset="/root/resData/gridData/fc_acct_2281_l/dataSet/CURLIST2/record" caption="회사코드^발생일자^발생구분코드^발생순번^발생상세순번^발생줄번호^입력사번^입력자^적요1^예산코드^예산명^관리구분코드^관리구분코드명^대차구분^금액^대변금액^적요2^부거래처명^거래처구분코드^거래처코드^거래처코드명" colsep="^" colwidth="100, 100, 100, 100, 100, 100, 100, 100, 100, 189, 100, 200, 100, 100, 100, 100, 100, 100, 100, 130, 150" frozencols="2" mergecellsfixedrows="bycolrec" rowheader="update" rowsep="|" style="left:0px; top:30px; width:459px; height:506px; ">
				<col ref="cmpy_cd"/>
				<col ref="slip_occr_dt"/>
				<col ref="slip_clsf_cd"/>
				<col ref="slip_seq" style="left:320px; top:20px; width:100px; height:20px; "/>
				<col ref="slip_sub_seq"/>
				<col ref="slip_arow_no"/>
				<col ref="incmg_emp_no"/>
				<col ref="incmg_emp_nm"/>
				<col ref="rmks1"/>
				<col ref="budg_cd" type="combo">
					<choices>
						<!--
						<item>
							<label>001100 현금</label>
							<value>001100</value>
						</item>
						<item>
							<label>017500 기업자유예금</label>
							<value>017500</value>
						</item>
						-->
						<itemset nodeset="/root/initData/comboSet/fc_acct_2280_m/dataSet/XX_BUDG_CD_LIST/record">
							<label ref="budg_abrv_nm"/>
							<value ref="budg_cd"/>
						</itemset>
					</choices>
				</col>
				<col ref="budg_nm"/>
				<col ref="mang_clsf_cd" type="combo">
					<choices>
						<!--
						<item>
							<label>3513 신한기업자유예금</label>
							<value>3513</value>
						</item>
						<item>
							<label>3601 신한기업자유</label>
							<value>3601</value>
						</item>
						<item>
							<label>3602 신한기업자유</label>
							<value>3602</value>
						</item>
						<item>
							<label>3607 국민기업자유</label>
							<value>3607</value>
						</item>
						<item>
							<label>3609 국민기업자유2</label>
							<value>3609</value>
						</item>
						<item>
							<label>3610 농협기업자유</label>
							<value>3610</value>
						</item>
						-->
						<itemset nodeset="/root/initData/comboSet/fc_acct_2280_m/dataSet/XX_MANG_CLSF_CD_LIST/record">
							<label ref="cd_nm"/>
							<value ref="cd"/>
						</itemset>
					</choices>
				</col>
				<col ref="mang_clsf_nm"/>
				<col ref="drcr_clsf"/>
				<col ref="dr_amt" type="input" maxlength="13"/>
				<col ref="crdt_amt"/>
				<col ref="rmks2" type="input" maxlength="40"/>
				<col ref="boks_dlco_nm" type="input" maxlength="30"/>
				<col editmode="inputsearch" ref="dlco_clsf_cd" type="combo">
					<choices>
						<itemset nodeset="/root/initData/comboSet/fc_acct_2280_m/dataSet/CURLIST2/record">
							<label ref="cdabrvnm_cd"/>
							<value ref="cd"/>
						</itemset>
					</choices>
				</col>
				<col ref="dlco_cd" type="inputbutton"/>
				<col ref="dlco_nm"/>
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
					var i = datagrid2.row;
					
					var ch_colref = datagrid2.colRef("dlco_clsf_cd");
					if(datagrid2.col == ch_colref){
						var ch_var = datagrid2.valueMatrix(i,ch_colref);
						if(grid_combo_data_contains(ch_var,"/root/initData/comboSet/fc_acct_2280_m/dataSet/CURLIST2/record","cd") == -1){
							show_message("정확한 값을 선택해 주세요.");
							datagrid2.valueMatrix(i,ch_colref) = "";
							return;
						}
					}
					
					var grid = eval(event.currentTarget);
					var rowid = grid.row;
					var colid = grid.col;
					
					if (rowid < grid.fixedRows || colid < grid.fixedCols) {
						return;
					}
					
					//차변금액 변경시 금액 재계산
					if (colid == grid.colRef("dr_amt") || colid == grid.colRef("budg_cd")) {
						recalc_dr_amt_tot();
					}

					//관리구분코드 변경시 관리구분코드명을 설정
					if (colid == grid.colRef("mang_clsf_cd")) {
						grid.valueMatrix(grid.row,grid.colRef("mang_clsf_nm")) = grid.labelMatrix(grid.row,grid.colRef("mang_clsf_cd")).substring(5,grid.labelMatrix(grid.row,grid.colRef("mang_clsf_cd")).length);
						//grid.valueMatrix(grid.row,grid.colRef("mang_clsf_nm")) = instance1.selectSingleNode(grid.cellComboNodeset(rowid,colid) + "[cd='" + grid.valueMatrix(grid.row,grid.colRef("mang_clsf_cd")) + "']/cd_abrv_nm").value;
					}
					
					var cnt1 = 0;
					var cnt2 = 0;
					//예산코드가 변경된 경우
					if (colid == grid.colRef("budg_cd")) {
						for(var i=1; i< datagrid2.rows; i++){
							//if(grid.valueMatrix(i,grid.colRef("budg_cd")) == "001100"){
							if(grid.valueMatrix(i,grid.colRef("budg_cd")) == model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_budg_cd_070")){
								cnt1 = cnt1 + 1;
							//}else if(grid.valueMatrix(i,grid.colRef("budg_cd")) == "017500"){
							}else if(grid.valueMatrix(i,grid.colRef("budg_cd")) == model1.getValue("/root/initData/comboSet/fc_acct_2280_m/dataSet/xx_budg_cd_050")){
								cnt2 = cnt2 + 1;
							}							
						}
						if(cnt1 != 0 && cnt2 !=0){
							srch_rmks1.value = "기업자유예금이체 및 현금인출";
						}
						else if(cnt1 != 0 && cnt2 ==0){
							srch_rmks1.value = "현금인출";
						}
						else if(cnt1 == 0 && cnt2 !=0){
							srch_rmks1.value = "기업자유예금이체";
						}
//						if(grid.valueMatrix(grid.row,grid.colRef("budg_cd")) == "001100"){
//							srch_rmks1.value = "현금인출";
//						}else if(grid.valueMatrix(grid.row,grid.colRef("budg_cd")) == "017500"){
//							srch_rmks1.value = "기업자유예금이체";
//						}
						
						/*
						//예산코드가 최대길이만큼 다 입력되었는지 확인
						if(datagrid_is_maxlength(grid,true,false,"")) {
							//6자리가 입력된 경우 검색수행
							if (open_mc_co_1020()) {
								//팝업에서 확인 버튼을 누른 경우(혹은 데이터를 더블클릭 한 경우)
							}
							else {
								//팝업에서 취소 버튼을 누른 경우
							}
						}
						else {
							//6자리가 아닌경우 관련된 값 삭제
							//budg_nm 값 제거
							grid.valueMatrix(grid.row,grid.colRef("budg_nm")) = "";
						}
						*/
					}

					//거래처코드
					if (colid == grid.colRef("dlco_cd") || colid == grid.colRef("dlco_clsf_cd")) {
						if (open_fc_acct_1180()) {
							//팝업에서 확인 버튼을 누른 경우(혹은 데이터를 더블클릭 한 경우)
						}
						else {
							//팝업에서 취소 버튼을 누른 경우
						}
					}
					]]>
				</script>
				<script type="javascript" ev:event="onbuttonclick">
					<![CDATA[
					var grid = eval(event.currentTarget);
					var rowid = grid.row;
					var colid = grid.col;
					
					if (rowid < grid.fixedRows || colid < grid.fixedCols) {
						return;
					}
					/*
					//예산코드의 버튼이 눌린 경우
					if (colid == grid.colRef("budg_cd")) {
						if (open_mc_co_1020()) {
							//팝업에서 확인 버튼을 누른 경우(혹은 데이터를 더블클릭 한 경우)
						}
						else {
							//팝업에서 취소 버튼을 누른 경우
						}
					}*/
					
					//거래처코드
					if (colid == grid.colRef("dlco_cd")) {
						if (open_fc_acct_1180()) {
							//팝업에서 확인 버튼을 누른 경우(혹은 데이터를 더블클릭 한 경우)
						}
						else {
							//팝업에서 취소 버튼을 누른 경우
						}
					}
					]]>
				</script>
				<script type="javascript" ev:event="onclick">
					<![CDATA[
					_oth_clsf = "2";
					]]>
				</script>
			</datagrid>
			<caption id="caption3" class="list_cap02" style="left:0px; top:540px; width:459px; height:26px; "/>
			<caption id="caption8" class="list_cap02" style="left:467px; top:540px; width:459px; height:26px; text-align:center; "/>
			<caption id="caption10" class="list_cap03" style="left:0px; top:540px; width:110px; height:26px; ">차변합계</caption>
			<caption id="caption12" class="list_cap03" style="left:467px; top:540px; width:110px; height:26px; ">잔액/인출금액</caption>
			<input id="dr_amt_tot" ref="/root/resData/resform/fc_acct_2281_l/dr_amt_tot" navindex="-1" editable="false" style="left:113px; top:544px; width:169px; height:18px; "/>
			<input id="curdd_bal_tot" ref="/root/resData/resform/fc_acct_2281_l/curdd_bal_tot" navindex="-1" editable="false" style="left:580px; top:544px; width:169px; height:18px; "/>
			<input id="withdraw_tot" ref="/root/resData/resform/fc_acct_2281_l/withdarw_tot" navindex="-1" editable="false" style="left:753px; top:544px; width:169px; height:18px; "/>
		</group>
		<group id="group_searches" class="gro_sel" style="left:10px; top:50px; width:926px; height:76px; ">
			<caption id="caption5" class="list_cap02" style="left:109px; top:0px; width:817px; height:26px; "/>
			<caption id="caption2" class="list_cap02" style="left:0px; top:0px; width:110px; height:76px; vertical-align:top; "/>
			<caption id="caption6" class="list_cap02" style="left:109px; top:25px; width:817px; height:26px; "/>
			<caption id="caption9" class="list_cap02" style="left:109px; top:50px; width:817px; height:26px; "/>
			<caption id="caption11" class="list_cap03" style="left:109px; top:0px; width:110px; height:26px; ">입력일자</caption>
			<select1 id="srch_slip_flag" ref="/root/reqData/searchData/slip_flag" appearance="full" cellspacing="10" vcellspacing="4" overflow="visible" caption="조건" style="left:20px; top:28px; width:73px; height:40px; text-align:left; border-style:none; ">
				<choices>
					<item>
						<label>전표등록</label>
						<value>1</value>
					</item>
					<item>
						<label>전표취소</label>
						<value>2</value>
					</item>
				</choices>
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
					change_slip_flag();
					]]>
				</script>
			</select1>
			<caption id="caption4" style="left:20px; top:8px; width:73px; height:20px; color:#0000ff; text-align:center; ">조건</caption>
			<caption id="caption13" class="list_cap03" style="left:109px; top:25px; width:110px; height:26px; ">전표번호</caption>
			<caption id="caption14" class="list_cap03" style="left:109px; top:50px; width:110px; height:26px; ">입력사번</caption>
			<caption id="caption15" class="list_cap03" style="left:453px; top:50px; width:110px; height:26px; ">제목</caption>
			<input id="srch_incmg_dt" ref="/root/reqData/searchData/incmg_dt" inputtype="date" caption="입력일자" style="left:222px; top:4px; width:90px; height:18px; ">
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
					if(true == control_is_date(event.target,true,false,"")) {
						send_fc_acct_2282_s();
					}
					else {
						set_refvalue(srch_vipasetdebt_incmg_dt,"",true,true);
						set_refvalue(srch_ddbal_incmg_dt,"",true,true);
					}
					]]>
				</script>
			</input>
			<caption id="caption16" class="list_cap03" style="left:315px; top:0px; width:110px; height:26px; ">주요자산마감일자</caption>
			<input id="srch_vipasetdebt_incmg_dt" ref="/root/reqData/searchData/vipasetdebt_incmg_dt" navindex="-1" editable="false" style="left:428px; top:4px; width:80px; height:18px; ">
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
					btn_insert.disabled = (get_refvalue(srch_vipasetdebt_incmg_dt) >= get_refvalue(srch_incmg_dt));
					]]>
				</script>
			</input>
			<caption id="caption17" class="list_cap03" style="left:511px; top:0px; width:110px; height:26px; ">최종마감일자</caption>
			<input id="srch_ddbal_incmg_dt" ref="/root/reqData/searchData/ddbal_incmg_dt" navindex="-1" editable="false" style="left:624px; top:4px; width:80px; height:18px; ">
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
					btn_delete.disabled = (get_refvalue(srch_ddbal_incmg_dt) >= get_refvalue(srch_incmg_dt));
					]]>
				</script>
			</input>
			<input id="srch_slip_occr_dt" ref="/root/reqData/searchData/slip_occr_dt" inputtype="date" caption="전표번호(발생일자)" style="left:222px; top:29px; width:90px; height:18px; ">
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
					control_is_date(event.target,true,false,"");
					]]>
				</script>
			</input>
			<select1 id="srch_slip_clsf_cd" ref="/root/reqData/searchData/slip_clsf_cd" navindex="10" appearance="minimal" editmode="inputsearch" caption="전표번호(전표구분코드)" style="left:315px; top:29px; width:135px; height:18px; ">
				<choices>
					<itemset nodeset="/root/initData/comboSet/fc_acct_2280_m/dataSet/CURLIST1/record">
						<label ref="cdabrvnm_cd"/>
						<value ref="cd"/>
					</itemset>
				</choices>
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
					if(combo_data_contains(srch_slip_clsf_cd, srch_slip_clsf_cd.value) == -1){
						show_message("정확한 값을 선택해 주세요.");
						set_refvalue(srch_slip_clsf_cd,"");
						return;
					}
					]]>
				</script>
			</select1>
			<input id="srch_slip_seq" ref="/root/reqData/searchData/slip_seq" maxlength="3" caption="전표번호(일련번호)" style="left:453px; top:29px; width:32px; height:18px; ">
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
					control_is_maxlength(event.target,true,false,"");
					]]>
				</script>
			</input>
			<input id="srch_incmg_emp_no" ref="/root/reqData/searchData/incmg_emp_no" inputtype="button" maxlength="6" caption="입력사번" style="left:222px; top:54px; width:90px; height:18px; ">
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
					if (srch_incmg_emp_no.value.length == 6) {
						model.removeNodeset("/root/reqData/fwdData");  
						model.makeNode("/root/reqData/fwdData/emp_no");
						model.setValue("/root/reqData/fwdData/emp_no", srch_incmg_emp_no.value);
						model.send("hd_com_1002");
						
						if (model.getValue("/root/tempData/record/emp_no") != "") {
							srch_incmg_emp_nm.value = model.getValue("/root/tempData/record/nm_korn");
						}
						else {
							srch_incmg_emp_no.value = "";
							srch_incmg_emp_nm.value = "";
						}
					}		
					else {
						srch_incmg_emp_no.value = "";
						srch_incmg_emp_nm.value = "";
					}
					]]>
				</script>
				<script type="javascript" ev:event="onbuttonclick">
					<![CDATA[
					model.removeNodeset("/root/reqData/fwdData");  
					model.makeNode("/root/reqData/fwdData/func_nm");
					model.setValue("/root/reqData/fwdData/func_nm", "setEmp_no");
					window.load("/xrw/hd/com/HD_COM_1000.xrw","mdichild", "hd_com_1000", "align:center; caption:hidden;", "/root/reqData/fwdData", "/root/reqData/fwdData");
					]]>
				</script>
			</input>
			<input id="srch_incmg_emp_nm" ref="/root/reqData/searchData/incmg_emp_nm" navindex="-1" editable="false" caption="입력자명" style="left:315px; top:54px; width:135px; height:18px; "/>
			<input id="srch_rmks1" ref="/root/reqData/searchData/rmks1" editable="false" maxlength="40" caption="제목" style="left:566px; top:54px; width:356px; height:18px; "/>
		</group>
		<datagrid id="savegrid" nodeset="/root/tempData/savegrid/record" visibility="hidden" caption="caption1^caption2^caption3^caption4^caption5^caption6^caption7^caption8^caption9^caption10" colsep="^" colwidth="100, 100, 100, 100, 100, 100, 100, 100, 100, 100" mergecellsfixedrows="bycolrec" rowheader="update" rowsep="|" style="left:160px; top:460px; width:565px; height:200px; ">
			<col ref="drcr_clsf_cd"/>
			<col ref="budg_cd"/>
			<col ref="dr_amt"/>
			<col ref="crdt_amt"/>
			<col ref="rmks2"/>
			<col ref="dlco_clsf_cd"/>
			<col ref="dlco_cd"/>
			<col ref="dlco_nm"/>
			<col ref="boks_dlco_nm"/>
			<col ref="mang_clsf_cd"/>
		</datagrid>
	</xhtml:body>
</xhtml:html>
