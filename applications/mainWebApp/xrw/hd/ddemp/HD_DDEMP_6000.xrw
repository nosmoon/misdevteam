<?xml version="1.0" encoding="EUC-KR"?>
<?xml-stylesheet type="text/css" href="../../../css/style_sheet.css" ?>
<xhtml:html xmlns:ex="http://www.comsquare.co.kr/xforms/excel" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:ms="urn:schemas-microsoft-com:xslt" xmlns:my="http://www.comsquare.co.kr/example" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://www.w3.org/2002/01/xforms" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:cs="http://www.comsquare.co.kr/xforms">
	<xhtml:head>
		<xhtml:title>Untitle</xhtml:title>
		<model id="model1">
			<instance id="instance1">
				<root xmlns="">
					<initData>
						<comboSet>
							<dept_cd_1>
								<item/>
							</dept_cd_1>
							<dept_cd_2>
								<item/>
							</dept_cd_2>
							<chrg_posk/>
							<supr_dept_cd/>
							<dept_cd/>
							<medi_cd/>
							<dtl_medi_cd/>
							<medi_cd1/>
							<medi_cd2/>
							<dtl_medi_cd1/>
							<dtl_medi_cd2/>
							<supr_dept_cd1/>
							<dept_cd1/>
							<incm_clsf_cd/>
						</comboSet>
						<medi_cd/>
						<dtl_medi_cd/>
						<supr_dept_cd/>
						<dept_cd/>
					</initData>
					<reqData>
						<searchData>
							<dept_cd_1/>
							<dept_cd_2/>
							<supr_dept_cd/>
							<dept_cd/>
							<dept_cd/>
							<medi_cd/>
							<thrw_pgm/>
							<flnm/>
							<work_yn/>
							<chrg_posk_cd/>
							<chrg_posk_nm/>
						</searchData>
						<fwdData>
							<func_nm/>
						</fwdData>
						<multiUpData/>
						<gridSearchData>
							<ern/>
							<dlco_nm/>
							<dlco_no/>
						</gridSearchData>
						<reqForm>
							<phot type="xsd:base64Binary"/>
							<frlc_no/>
						</reqForm>
						<fwdData>
							<func_nm/>
						</fwdData>
					</reqData>
					<resData>
						<gridData>
							<record>
								<supr_dept_cd/>
								<dept_cd/>
								<all_insr_dduc_yn/>
								<dept_nm/>
								<flnm/>
								<chrg_posk_cd_nm/>
								<thrw_pgm_nm/>
								<thrw_pgm2_nm/>
								<last_cntr_dt/>
								<cntr_expr_dt/>
								<work_yn/>
								<servcost/>
								<serv_pay_cond/>
								<prn/>
								<tel_no/>
								<addr/>
								<draft_no/>
								<mang_no/>
								<bank_cd/>
								<bank_nm/>
								<acct_no/>
								<dataSet>
								</dataSet>
								<incm_clsf_nm/>
								<incm_clsf_cd/>
								<draft_dept_cd/>
								<mode/>
							</record>
						</gridData>
						<resForm>
							<dept_nm/>
							<flnm/>
							<chrg_posk_cd_nm/>
							<prn/>
							<emp_no/>
							<dept_cd/>
							<tel_no/>
							<addr/>
							<thrw_pgm_nm/>
							<thrw_pgm2_nm/>
							<cntr_dt/>
							<cntr_expr_dt/>
							<appmt_resn_nm/>
							<servcost/>
							<iv_serv_pay_cond/>
							<draft_no/>
							<bank_nm/>
							<acct_no/>
							<bank_cd/>
							<mang_no/>
							<chrg_posk_cd/>
							<thrw_pgm/>
							<thrw_pgm2/>
							<medi_cd/>
							<medi_cd2/>
							<dlco_no/>
							<work_yn/>
							<lvcmpy_dt/>
							<pay_cycl/>
							<supr_dept_cd/>
							<mode/>
							<frlc_no/>
							<draft_dept_cd/>
							<draft_expn_amt/>
							<incm_clsf_cd/>
							<incm_clsf_nm/>
							<chrg_posk_nm/>
							<dept_temp/>
							<dept_temp2/>
							<dept_tm/>
							<all_insr_dduc_yn/>
						</resForm>
						<msg/>
						<temp/>
						<totcnt/>
						<gridData5>
							<record>
								<addr_01/>
								<dtls_addr_01/>
								<ptph_no_01/>
							</record>
						</gridData5>
						<resPhoto>
							<frlc_no/>
							<phot/>
						</resPhoto>
						<resfrom3>
							<fc_acct_2013_s>
								<dataSet>
									<CURLIST>
										<record>
											<clsf_yn/>
											<draft_expn_amt/>
											<draft_impt_amt/>
											<dr_amt/>
											<crdt_amt/>
										</record>
									</CURLIST>
								</dataSet>
							</fc_acct_2013_s>
						</resfrom3>
					</resData>
					<tempData/>
				</root>
			</instance>
			<script type="javascript">
				<![CDATA[
					function setDlco(dlco_no ,ern ,dlco_nm){
						model1.setValue("/root/resData/resForm/mang_no", dlco_no);
						model1.setValue("/root/resData/resForm/prn",ern);
						model1.setValue("/root/resData/resForm/flnm", dlco_nm);
						model1.refresh();
					}
					
					function get_mangno(){
						var prn = input10.currentText;

						model.setValue("/root/resData/resForm/prn", prn);
						model.send("hd_ddemp_6001");
						model.setValue("/root/resData/resForm/mang_no",model1.getValue("/root/tempData/CURLIST/record/dlco_no"));
						model.setValue("/root/resData/resForm/flnm",model1.getValue("/root/tempData/CURLIST/record/dlco_nm"));
						model.refresh();
						if(output3.value == ""){
							alert("조회할 거래처코드가 없습니다.");
							input10.value = "";
						}
					}				
					function loadData_fl(){

						var supr_dept_cd = model.getValue("/root/reqData/searchData/dept_cd_1");
						var dept_cd = model.getValue("/root/reqData/searchData/dept_cd_2");
						var medi_cd = model.getValue("/root/reqData/searchData/medi_cd");
						var flnm = model.getValue("/root/reqData/searchData/flnm");
						var work_yn = model.getValue("/root/reqData/searchData/work_yn");
						var chrg_posk_nm = model.getValue("/root/reqData/searchData/chrg_posk_nm");
					
					//	model.reset();

						model.setValue("/root/reqData/searchData/supr_dept_cd",supr_dept_cd);
						model.setValue("/root/reqData/searchData/dept_cd",dept_cd);
						model.setValue("/root/reqData/searchData/medi_cd",medi_cd);
						model.setValue("/root/reqData/searchData/flnm",flnm);
						model.setValue("/root/reqData/searchData/work_yn",work_yn);
						model.setValue("/root/reqData/searchData/work_yn",work_yn);
						model.setValue("/root/reqData/searchData/chrg_posk_nm",chrg_posk_nm);
					
						model.send("hd_ddemp_6002_l");

						model.copyNode("/root/resData/gridData","/root/tempData/CURLIST");	
						
						model1.refresh();	
					}
	
					function setEmp_no(dlco_no, dlco_nm, ern){
						var base_dlco_no = model1.getValue("/root/resData/resForm/mang_no");

			            if(base_dlco_no != ""  )
						{
							if(base_dlco_no != dlco_no)  //기존 데이터와 불려오는 데이터를 비교 
							{
								alert("기존 프리랜서 관리번호와 선택하신 프리랜서의 관리번호가 같지 않습니다.");
								return;
							}
						}
						
						model1.setValue("/root/resData/resForm/mang_no", dlco_no);
						model1.setValue("/root/resData/resForm/flnm", dlco_nm);
						model1.setValue("/root/resData/resForm/prn", ern);

						input10.refresh();
						
					    model.send("hd_info_7120_l");
						
						model.copyNode("/root/resData/resForm","/root/tempData");
						
						if(model.getValue("/root/resData/resForm/cntr_dt") == ""){
							model.setValue("/root/resData/resForm/cntr_dt",getCurrentDate());
						}
						model.refresh();
						setting_img();
					}
					function setting_img(){
						var frlc_no = model.getValue("/root/resData/resForm/frlc_no");
						model.setValue("/root/reqData/reqForm/frlc_no",frlc_no);
						model.send("hd_info_7150_s");
						
					}	
					
					function rcvs_from_fc_co_9010() {
						draft_no.value = arguments[0][0];
					}
				
				]]>
			</script>
			<script type="javascript" ev:event="xforms-ready">
				<![CDATA[
					model.send("hd_ddemp_6004_m");
					model.copyNode("/root/initData/comboSet/chrg_posk", 	"/root/tempData/chrg_posk");
				//	model.copyNode("/root/initData/comboSet/supr_dept_cd",  "/root/tempData/supr_dept_cd");
				//	model.copyNode("/root/initData/comboSet/supr_dept_cd1",  "/root/tempData/supr_dept_cd");
				//	model.copyNode("/root/initData/supr_dept_cd",  			"/root/tempData/supr_dept_cd");
				//	model.copyNode("/root/initData/comboSet/medi_cd", 		"/root/tempData/medi_cd");
				//	model.copyNode("/root/initData/comboSet/medi_cd1", 		"/root/tempData/medi_cd");
				//	model.copyNode("/root/initData/comboSet/medi_cd2", 		"/root/tempData/medi_cd");
				//	model.copyNode("/root/initData/comboSet/dtl_medi_cd", 	"/root/tempData/dtl_medi_cd");
				//	model.copyNode("/root/initData/comboSet/dtl_medi_cd1", 	"/root/tempData/dtl_medi_cd");
				//	model.copyNode("/root/initData/comboSet/dtl_medi_cd2", 	"/root/tempData/dtl_medi_cd");
					//model.copyNode("/root/initData/comboSet/dept_cd", 		"/root/tempData/dept_cd");
					//model.copyNode("/root/initData/comboSet/dept_cd1", 		"/root/tempData/dept_cd");
					//model.copyNode("/root/initData/dept_cd", 				"/root/tempData/dept_cd");
				//	model.copyNode("/root/initData/medi_cd", 				"/root/tempData/medi_cd");
				//	model.copyNode("/root/initData/dtl_medi_cd", 			"/root/tempData/dtl_medi_cd");
					model.copyNode("/root/initData/comboSet/incm_clsf_cd", 	"/root/tempData/incm_clsf_cd");
					
					output2.visible = false;
					output4.visible = false;
					var curDate = getCurrentDate();
					model.setValue("/root/resData/resForm/cntr_dt",curDate);
					
					model1.send("hd_com_1001");
					if(submit_completed()){
						model1.copyNode("/root/initData/comboSet/dept_cd_1", "/root/tempData/offi");
						model1.copyNode("/root/initData/comboSet/supr_dept_cd1", "/root/tempData/offi");
						model1.copyNode("/root/initData/comboSet/dept_cd_2", "/root/tempData/dept");
						model1.copyNode("/root/initData/comboSet/dept_cd1", "/root/tempData/dept");
						model1.removenode("/root/tempData");					
						
						var funcName = model1.getValue("/root/reqData/fwdData/func_nm");
						
						//var autoSearch = model.getValue("/root/reqData/fwdData/autoSearch");
						
						combo2.refresh();
						combo3.refresh();	
						combo4.refresh();
						combo6.refresh();
					}
					
					model.refresh();				
				]]>
			</script>
			<submission id="hd_ddemp_6004_m" action="/hd/ddemp/6004" mediatype="application/x-www-form-urlencoded" method="post" resultref="/root/tempData"/>
			<submission id="hd_info_6000_l" action="/hd/info/6000" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/reqData/searchData" resultref="/root/tempData"/>
			<submission id="hd_info_7120_l" action="/hd/info/7120" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/resData/resForm" resultref="/root/tempData"/>
			<submission id="hd_ddemp_6003_a" action="/hd/info/7130" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/resData/resForm" resultref="/root/tempData"/>
			<submission id="hd_info_7140_a" action="/hd/info/7140" mediatype="multipart/form-data" method="form-data-post" ref="/root/reqData/reqForm" replace="instance" resultref="/root/tempData"/>
			<submission id="hd_info_7150_s" action="/hd/info/7150" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/reqData/reqForm" resultref="/root/resData/resPhoto"/>
			<submission id="fc_acct_2013_s" action="/fc/acct2000/2013" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/resData/resform" resultref="/root/resData/resform3/fc_acct_2013_s/dataSet"/>
			<submission id="hd_ddemp_6001" action="/hd/ddemp/6001" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/resData/resForm" resultref="/root/tempData"/>
			<submission id="hd_com_1001" action="/hd/com/1001" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/reqData/searchData" resultref="/root/tempData"/>
			<submission id="hd_com_1003" action="/hd/com/1003" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/resData/resForm/dept_tm" resultref="/root/tempData"/>
			<submission id="hd_ddemp_6002_l" action="/hd/ddemp/6002" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/reqData/searchData" resultref="/root/tempData"/>
		</model>
		<script type="javascript" src="/js/CIISComm.js"/>
		<script type="javascript" src="/js/TFCommon.js"/>
		<script type="javascript" src="/js/CRMComm.js"/>
		<script type="javascript" src="/js/fcmc_common.js"/>
		<xhtml:style id="style1">
			<![CDATA[ 
				.yellow    { background-color:#99FFCC;}
				button.btn_grid081{
											color:#0000FF;
											font-size:14px !important;
											font-weight : bolder;
											width:75px !impotant;
											height:17px !important;
											text-align:left;
											letter-spacing:-1px!important; 
											padding-left:13px!important;
											vertical-align:middle;
											down.padding-left:20px !important;
											disable.color:#AEAEAE!important; 
											background-image:/images/btn_s_8.gif; 
											hover.color:#FF0000;  
										} 
				button.btn_grid0811{
											color:#0000FF;
											font-size:11px !important;
											font-weight : bolder;
											width:75px !impotant;
											height:17px !important;
											text-align:left;
											letter-spacing:-1px!important; 
											padding-left:13px!important;
											vertical-align:middle;
											down.padding-left:20px !important;
											disable.color:#AEAEAE!important; 
											background-image:/images/btn_s_7.gif; 
											hover.color:#FF0000;  
										} 
				button.btn_grid0101{
											color:#0000FF;
											font-size:11px !important;
											font-weight : bolder;
											width:75px !impotant;
											height:17px !important;
											text-align:left;
											letter-spacing:-1px!important; 
											padding-left:13px!important;
											vertical-align:middle;
											down.padding-left:20px !important;
											disable.color:#AEAEAE!important; 
											background-image:/images/btn_s_9.gif; 
											hover.color:#FF0000;  
										} 
			]]>
		</xhtml:style>
	</xhtml:head>
	<!--<xhtml:body class="main" pagewidth="946" pageheight="765">-->
	<xhtml:body class="main" disabled="true" pagewidth="946" pageheight="765" guideline="2,685;1,808;1,10;2,49;2,140;2,80;2,705;1,304;" style="font-family:굴림; ">
		<group id="group_scr" class="gro_sel" style="left:9px; top:534px; width:926px; height:97px; ">
			<caption id="caption8" class="list_cap02" style="left:74px; top:26px; width:129px; height:26px; text-align:center; "/>
			<caption id="caption7" class="list_cap02" style="left:74px; top:1px; width:141px; height:26px; text-align:center; "/>
			<caption id="caption47" class="list_cap02" style="left:723px; top:26px; width:176px; height:26px; text-align:center; "/>
			<caption id="caption6" class="list_cap02" style="left:275px; top:1px; width:127px; height:26px; text-align:center; "/>
			<caption id="caption16" class="list_cap02" style="left:475px; top:26px; width:175px; height:26px; text-align:center; "/>
			<caption id="caption13" class="list_cap01" style="left:0px; top:1px; width:75px; height:26px; text-align:center; ">주민번호</caption>
			<caption id="caption15" class="list_cap01" style="left:201px; top:1px; width:75px; height:26px; text-align:center; ">성명</caption>
			<caption id="caption48" class="list_cap01" style="left:401px; top:26px; width:75px; height:26px; text-align:center; ">연락처</caption>
			<input id="input10" ref="/root/resData/resForm/prn" class="req" format="999999-9999999" style="left:80px; top:5px; width:115px; height:18px; text-align:left; ">
				<script type="javascript" ev:event="onkeypress">
					<![CDATA[
						if (event.keyCode ==13){
							if(input10.currentText==""){
								alert("조회할 주민등록번호가 없습니다.");
								model1.reset();
								return;
							}else{
								model1.removenode("/root/tempData");
								model1.makeNode("/root/tempData");
													
								get_mangno();								
							}
						}
					]]>
				</script>
				<script type="javascript" ev:event="onmaxlength">
					<![CDATA[
						get_mangno();				
					]]>
				</script>
			</input>
			<input id="input9" ref="/root/resData/resForm/tel_no" maxlength="20" style="left:482px; top:30px; width:158px; height:18px; text-align:left; "/>
			<caption id="caption44" class="list_cap01" style="left:649px; top:26px; width:75px; height:26px; text-align:center; ">소득구분</caption>
			<select1 id="combo1" ref="/root/resData/resForm/incm_clsf_cd" appearance="minimal" caption="소득구분" style="left:730px; top:30px; width:158px; height:18px; ">
				<choices>
					<itemset nodeset="/root/initData/comboSet/incm_clsf_cd/item">
						<label ref="label"/>
						<value ref="value"/>
					</itemset>
				</choices>
			</select1>
			<caption id="caption4" class="list_cap01" style="left:0px; top:26px; width:75px; height:26px; text-align:center; ">담당직무</caption>
			<input id="input6" ref="/root/resData/resForm/flnm" class="req" navindex="13" appearance="minimal" style="left:280px; top:5px; width:115px; height:18px; ">
				<script type="javascript" ev:event="onkeypress">
					<![CDATA[
					if (event.keyCode ==13){
						if( input6.currentText==""){
							alert("조회할 이름이 없습니다.");
							model1.reset();
							return;
						}else{
							var flnm = input6.currentText;
							model.removeNodeset("/root/reqData/fwdData");  
							model.makeNode("/root/reqData/fwdData/func_nm");
							model.setValue("/root/reqData/fwdData/func_nm", "setDlco");
							model.makeNode("/root/reqData/fwdData/dlco_nm");
							model.setValue("/root/reqData/fwdData/dlco_nm",flnm);
							model.makeNode("/root/reqData/fwdData/ern");
							model.setValue("/root/reqData/fwdData/ern", "");
							window.load("/xrw/hd/com/HD_COM_1210.xrw","modal", "hd_com_1210", "align:center; caption:hidden;", "/root/reqData/fwdData", "/root/reqData/fwdData");
							model1.removenode("/root/tempData");
							return;	
						}
					}
					]]>
				</script>
			</input>
			<caption id="caption9" class="list_cap01" style="left:201px; top:26px; width:75px; height:26px; text-align:center; ">거래처코드</caption>
			<caption id="caption11" class="list_cap02" style="left:275px; top:26px; width:127px; height:26px; text-align:center; "/>
			<output id="output3" ref="/root/resData/resForm/mang_no" class="req" navindex="13" appearance="minimal" style="left:281px; top:30px; width:115px; height:18px; "/>
			<input id="input1" ref="/root/resData/resForm/chrg_posk_nm" style="left:80px; top:30px; width:115px; height:18px; "/>
			<caption id="caption1" class="list_cap01" style="left:401px; top:1px; width:75px; height:26px; text-align:center; ">국/실</caption>
			<caption id="caption3" class="list_cap02" style="left:475px; top:1px; width:175px; height:26px; text-align:center; "/>
			<caption id="caption14" class="list_cap01" style="left:649px; top:1px; width:75px; height:26px; text-align:center; ">부서</caption>
			<caption id="caption17" class="list_cap02" style="left:723px; top:1px; width:176px; height:26px; text-align:center; "/>
			<select1 id="combo4" ref="/root/resData/resForm/supr_dept_cd" appearance="minimal" caption="국/실" style="left:482px; top:5px; width:158px; height:18px; ">
				<choices>
					<itemset nodeset="/root/initData/comboSet/supr_dept_cd1/item">
						<label ref="label"/>
						<value ref="value"/>
					</itemset>
				</choices>
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
						combo6.value = "";
						var comboVal = combo4.value;
						var combo = comboVal.substring(0,2);
//						var temp = datagrid2.rows;
//						for(var i=1; i< temp;  i++) {
//							datagrid2.deleteRow(1);
//						}
						//model1.removenode("/root/resData/gridData");
						//model1.makeNode("/root/resData/gridData");
						model1.makeNode("/root/resData/resForm/dept_temp2"); 
						model1.makeNode("/root/resData/resForm/dept_temp"); 
						model1.makeNode("/root/resData/resForm/dept_tm"); 
						
						if(combo == "11" || combo == "13" || combo == "17" || combo == "18" || combo == "27" || combo == "32" || combo == "46" || combo == "63" || combo == "66" || combo == "67" || combo == "63"){
							combo6.deselect();
							
							var getValue = combo4.label;
							model1.setValue("/root/resData/resForm/dept_temp2", getValue);
							model1.refresh();
							var getComboLabel = combo4.label;
							var getComboValue = combo4.Value;
							model1.setValue("/root/reqData/searchData/dept_cd", getComboValue);
							model1.send("hd_com_1003");
							model1.copyNode("/root/initData/comboSet/dept_cd1", "/root/tempData/dept");
							model1.removenode("/root/tempData");
							combo6.refresh();
							combo6.disabled = true; 
						}else{
							model1.setValue("/root/reqData/searchData/dept_cd", combo);
							model1.setValue("/root/resData/resForm/dept_temp2", combo);
							model1.setValue("/root/resData/resForm/dept_tm", combo);
							model1.send("hd_com_1003");
							model1.copyNode("/root/initData/comboSet/dept_cd1", "/root/tempData/dept");
							model1.removenode("/root/tempData");
							combo6.refresh();
							combo6.disabled = false; 
						}
					]]>
				</script>
			</select1>
			<select1 id="combo6" ref="/root/resData/resForm/dept_cd" appearance="minimal" caption="부서" style="left:730px; top:5px; width:158px; height:18px; ">
				<choices>
					<itemset nodeset="/root/initData/comboSet/dept_cd1/item">
						<label ref="label"/>
						<value ref="value"/>
					</itemset>
				</choices>
			</select1>
			<output id="output4" ref="/root/resData/resForm/dept_temp2" style="left:720px; top:60px; width:50px; height:18px; background-color:#ffffff; "/>
		</group>
		<import id="iv_Title" src="../../../common/xrw/iv_TitleBar.xrw" style="left:10px; top:5px; width:926px; height:29px; "/>
		<group id="group2" style="left:9px; top:614px; width:926px; height:76px; ">
			<caption id="caption25" class="list_cap02" style="left:520px; top:0px; width:270px; height:26px; text-align:center; "/>
			<caption id="caption2" class="list_cap01" style="left:0px; top:0px; width:75px; text-align:center; ">계 약 일</caption>
			<caption id="caption20" class="list_cap02" style="left:74px; top:0px; width:718px; height:26px; text-align:center; "/>
			<caption id="caption21" class="list_cap01" style="left:201px; top:0px; width:76px; height:26px; text-align:center; ">계약만료일</caption>
			<caption id="caption23" class="list_cap01" style="left:402px; top:0px; width:75px; height:26px; text-align:center; ">퇴 사 일</caption>
			<input id="input3" ref="/root/resData/resForm/cntr_dt" class="req" navindex="1" inputtype="date" format="yyyy-mm-dd" style="left:80px; top:4px; width:115px; height:18px; ">
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
						var cntr_dt = model1.getValue("/root/resData/resForm/cntr_dt"); 
						var cntr_expr_dt = model1.getValue("/root/resData/resForm/cntr_expr_dt"); 
						var lvcmpy_dt = model1.getValue("/root/resData/resForm/lvcmpy_dt"); 

						
						if(cntr_expr_dt != "")
						{
							if(cntr_dt > cntr_expr_dt ) 
							{
								 alert("계약일이 계약만료일보다 늦을 수 없습니다..");
								 model1.setValue("/root/resData/resForm/cntr_dt","");
								 input3.value = ""; 
								return;
							}
						}
						if(lvcmpy_dt != "")
						{
							if(lvcmpy_dt > cntr_expr_dt ) 
							{
								 alert("계약일이 퇴사일보다 늦을 수 없습니다..");
								 model1.setValue("/root/resData/resForm/cntr_dt","");
								 input3.value = ""; 
								return;
							}
						}
						
					]]>
				</script>
			</input>
			<caption id="caption27" class="list_cap01" style="left:0px; top:25px; width:75px; height:26px; text-align:center; ">계약급여(월)</caption>
			<caption id="caption33" class="list_cap02" style="left:74px; top:25px; width:128px; height:26px; text-align:center; "/>
			<input id="input14" ref="/root/resData/resForm/servcost" class="req" maxlength="10" format="#,###" style="left:80px; top:29px; width:115px; height:18px; text-align:right; ">
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
					]]>
				</script>
			</input>
			<!--<input id="input7" ref="/root/reqData/reqForm/dept_cd" style="left:577px; top:3px; width:62px; height:18px; "/>-->
			<input id="input4" ref="/root/resData/resForm/lvcmpy_dt" navindex="1" inputtype="date" format="yyyy-mm-dd" style="left:482px; top:4px; width:100px; height:18px; ">
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
						var lvcmpy_dt = model1.getValue("/root/resData/resForm/lvcmpy_dt"); 
						var cntr_expr_dt = model1.getValue("/root/resData/resForm/cntr_expr_dt"); 
						var cntr_dt = model1.getValue("/root/resData/resForm/cntr_dt"); 
						
						if(lvcmpy_dt != "")
						{
							if(cntr_expr_dt != "")
							{
								if(lvcmpy_dt > cntr_expr_dt ) 
								{
									 alert("퇴사일이 계약만료일 보다 늦을 수 없습니다. ");
									 model1.setValue("/root/resData/resForm/lvcmpy_dt","");
									 input4.value = ""; 
									return;
								}
							}
							if(cntr_dt != "")
							{
								if(cntr_dt > lvcmpy_dt ) 
								{
									 alert("퇴사일이 계약일 보다 빠를 수 없습니다.");
									 model1.setValue("/root/resData/resForm/lvcmpy_dt","");
									 input4.value = ""; 
									return;
								}
							}
						}
					]]>
				</script>
			</input>
			<!--<select1 id="combo8" ref="/root/reqData/reqForm/clos_proc_yn" appearance="minimal" style="left:798px; top:99px; width:62px; height:18px; ">
				<choices>
					<item>
						<label>Y</label>
						<value>Y</value>
					</item>
					<item>
						<label>N</label>
						<value>N</value>
					</item>
				</choices>
			</select1>-->
			<input id="input5" ref="/root/resData/resForm/cntr_expr_dt" navindex="1" inputtype="date" format="yyyy-mm-dd" style="left:283px; top:4px; width:112px; height:18px; ">
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
						var cntr_dt = model1.getValue("/root/resData/resForm/cntr_dt"); 
						var cntr_expr_dt = model1.getValue("/root/resData/resForm/cntr_expr_dt"); 
						var lvcmpy_dt = model1.getValue("/root/resData/resForm/lvcmpy_dt"); 

						if(cntr_dt != "")
						{
							if(cntr_dt > cntr_expr_dt ) 
							{
								 alert(" 계약만료일이 계약일보다 빠를 수 없습니다..");
								 model1.setValue("/root/resData/resForm/cntr_expr_dt","");
								 input5.value = ""; 
								return;
							}
						}
						
						if(lvcmpy_dt != "")
						{
							if(lvcmpy_dt > cntr_expr_dt ) 
							{
								 alert("퇴사일이 계약만료일 보다 늦을 수 없습니다. ");
								 model1.setValue("/root/resData/resForm/cntr_expr_dt","");
								 input5.value = ""; 
								return;
							}
						}
						
					]]>
				</script>
			</input>
			<caption id="caption5" class="list_cap01" style="left:587px; top:0px; width:75px; height:26px; text-align:center; ">재직구분</caption>
			<output id="combo8" ref="/root/resData/resForm/work_yn" class="req" navindex="13" appearance="minimal" style="left:667px; top:4px; width:120px; height:18px; "/>
			<output id="output1" ref="/root/resData/resForm/frlc_no" visibility="hidden" style="left:405px; top:30px; width:25px; height:18px; "/>
			<select id="checkbox1" ref="/root/resData/resForm/all_insr_dduc_yn" overflow="visible" appearance="full" style="left:215px; top:30px; width:155px; height:20px; border-style:none; ">
				<choices>
					<item>
						<label>4대보험 불공제</label>
						<value>Y</value>
					</item>
				</choices>
			</select>
		</group>
		<script type="javascript" ev:event="iviewer1(xforms:iviewer)">
			<![CDATA[
			
			]]>
		</script>
		<button id="btnA1" class="btn02" style="left:630px; top:47px; width:52px; height:21px; ">
			<caption>조회</caption>
			<script type="javascript" ev:event="DOMActivate">
				<![CDATA[
					loadData_fl();
				]]>
			</script>
		</button>
		<button id="btnA2" class="btn02" style="left:685px; top:47px; width:52px; height:21px; ">
			<caption>저장</caption>
			<script type="javascript" ev:event="onclick">
				<![CDATA[
//					var dept_cd = model.getValue("/root/resData/resForm/dept_cd");
//					if (dept_cd == ""){
//						alert("부서를 입력해 주십시오."); return;
//					}
//					var flnm = model.getValue("/root/resData/resForm/flnm");
//					if (flnm == ""){
//						alert("성명을 입력해 주십시오."); return;
//					}
					var prn = model.getValue("/root/resData/resForm/prn");
					if (prn == ""){
						alert("주민번호를 입력해 주십시오."); return;
					}
//					var medi_cd = model.getValue("/root/resData/resForm/medi_cd");
//					if (medi_cd == ""){
//						alert("매체를 입력해 주십시오."); return;
//					}									
					var cntr_dt = model.getValue("/root/resData/resForm/cntr_dt");
					if (cntr_dt == ""){
						alert("계약일을 입력해 주십시오."); return;
					}
//					var pay_cycl = model.getValue("/root/resData/resForm/pay_cycl");
//					if (pay_cycl == ""){
//						alert("계약금액 지급조건을 입력해 주십시오."); return;
//					}
					var servcost = model.getValue("/root/resData/resForm/servcost");
					if (servcost == ""){
						alert("계약금액을 입력해 주십시오."); return;
					}
					var incm_clsf_cd = model.getValue("/root/resData/resForm/incm_clsf_cd");
					if (incm_clsf_cd == ""){
						alert("소득구분을 입력해 주십시오."); return;
					}
			
					if(!commConfirmBox("저장 하시겠습니까?")) return;
					model.setValue("/root/resData/resForm/mode","U");
					model.send("hd_ddemp_6003_a");
					
					if(submit_completed()) {
						var phot =  model1.getValue("/root/reqData/reqForm/phot"); 
						var frlc_no_img = model.getValue("/root/tempData/frlc_no");
						
						if (frlc_no_img == ""){
							frlc_no_img = model.getValue("/root/resData/resForm/frlc_no");
						}
						if(phot != "") //사진 경로가 있을 경우만 사진 업로드 프로시저를 타도록 수정 (2013.05.03 수정 이가연)
						{
							model.setValue("/root/reqData/reqForm/frlc_no",frlc_no_img); 
							model.send("hd_info_7140_a");
						}
					}
					loadData_fl();
				]]>
			</script>
		</button>
		<button id="btnA4" class="btn02" style="left:885px; top:47px; width:52px; height:21px; ">
			<caption>종료</caption>
			<script type="javascript" ev:event="onclick">
				<![CDATA[
				 viewer("mainFrame").window.javaScript.closeMDIWindow(model.getValue("/root/initData/pageInfo/pageID"));
				]]>
			</script>
		</button>
		<button id="button2" class="btn02" style="left:575px; top:47px; width:52px; height:21px; ">
			<caption>초기화</caption>
			<script type="javascript" ev:event="onclick">
				<![CDATA[
					model1.reset();
					//group2.disabled = true;
				]]>
			</script>
		</button>
		<button id="button3" class="btn04" style="left:795px; top:47px; width:87px; height:21px; ">
			<caption>엑셀다운로드</caption>
			<script type="javascript" ev:event="DOMActivate">
				<![CDATA[
				//excel 파일로 저장한다
				var filePath = window.fileDialog("save", "", false, "", "xls", "Excel Files(*.xls)|*.xls");
				if(filePath != "") {
					datagrid2.saveExcel(filePath);
					window.exec(filePath);
				}
				]]>
			</script>
		</button>
		<caption id="caption10" class="tit02" style="left:10px; top:514px; width:85px; height:20px; font-weight:bold; ">기본사항</caption>
		<caption id="caption12" class="tit02" style="left:10px; top:595px; width:85px; height:20px; font-weight:bold; ">계약사항</caption>
		<caption id="caption36" ref="/root/resData/totcnt" style="left:841px; top:478px; width:87px; height:20px; font-weight:bold; text-align:right; "/>
		<button id="button1" class="btn02" style="left:740px; top:47px; width:52px; height:21px; ">
			<caption>삭제</caption>
			<script type="javascript" ev:event="onclick">
				<![CDATA[
				if(!commConfirmBox("삭제 하시겠습니까?")) return;
					model.setValue("/root/resData/resForm/mode","D");
					model.send("hd_ddemp_6003_a");
					if(submit_completed()) {
						model.refresh();
						loadData_fl();
					}
				]]>
			</script>
		</button>
		<group id="group1" class="gro_sel" style="left:7px; top:77px; width:926px; height:62px; ">
			<caption id="caption37" class="list_cap02" style="left:399px; top:0px; width:229px; height:25px; text-align:center; "/>
			<caption id="caption29" class="list_cap02" style="left:389px; top:24px; width:229px; height:25px; text-align:center; "/>
			<caption id="caption35" class="list_cap02" style="left:82px; top:24px; width:239px; height:25px; text-align:center; "/>
			<caption id="caption38" class="list_cap02" style="left:82px; top:0px; width:239px; height:25px; text-align:center; "/>
			<caption id="caption40" class="list_cap01" style="left:3px; top:0px; width:80px; height:25px; text-align:center; ">성명</caption>
			<caption id="caption42" class="list_cap02" style="left:696px; top:0px; width:229px; height:25px; text-align:center; "/>
			<input id="input15" ref="/root/reqData/searchData/flnm" appearance="input" style="left:89px; top:3px; width:223px; height:18px; ">
				<script type="javascript" ev:event="onkeypress">
					<![CDATA[
						var supr_dept_cd_cd = combo2.value;
						var dept_cd = combo3.value;
						var flnm = input15.currentText;
						var work_yn = combo5.value;
						var chrg_posk_nm = input2.value;
						
						model.setValue("/root/reqData/searchData/supr_dept_cd",supr_dept_cd_cd);
						model.setValue("/root/reqData/searchData/dept_cd",dept_cd);
						model.setValue("/root/reqData/searchData/flnm",flnm);
						model.setValue("/root/reqData/searchData/work_yn",work_yn);
						model.setValue("/root/reqData/searchData/chrg_posk_nm",chrg_posk_nm);
						
						model.send("hd_ddemp_6002_l");
						model.copyNode("/root/resData/gridData","/root/tempData/CURLIST");			
						model1.refresh();
						
					]]>
				</script>
			</input>
			<caption id="caption43" class="list_cap01" style="left:3px; top:24px; width:80px; height:25px; text-align:center; ">담당직무</caption>
			<caption id="caption45" class="list_cap01" style="left:320px; top:24px; width:80px; height:25px; text-align:center; ">재직구분</caption>
			<select1 id="combo5" ref="/root/reqData/searchData/work_yn" appearance="minimal" style="left:405px; top:27px; width:205px; height:18px; ">
				<choices>
					<item>
						<label>재직</label>
						<value>10</value>
					</item>
					<item>
						<label>퇴직</label>
						<value>20</value>
					</item>
				</choices>
			</select1>
			<caption id="caption34" class="list_cap01" style="left:320px; top:0px; width:80px; height:25px; text-align:center; ">국/실</caption>
			<caption id="caption30" class="list_cap01" style="left:617px; top:0px; width:80px; height:25px; text-align:center; ">부서</caption>
			<input id="input2" ref="/root/reqData/searchData/chrg_posk_nm" maxlength="20" style="left:89px; top:28px; width:223px; height:18px; text-align:left; "/>
			<select1 id="combo2" ref="/root/reqData/searchData/dept_cd_1" navindex="3" appearance="minimal" style="left:405px; top:5px; width:205px; height:18px; ">
				<choices>
					<itemset nodeset="/root/initData/comboSet/dept_cd_1/item">
						<label ref="label"/>
						<value ref="value"/>
					</itemset>
				</choices>
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
						combo3.value = "";
						var comboVal = combo2.value;
						var combo = comboVal.substring(0,2);
//						var temp = datagrid2.rows;
//						for(var i=1; i< temp;  i++) {
//							datagrid2.deleteRow(1);
//						}
						//model1.removenode("/root/resData/gridData");
						//model1.makeNode("/root/resData/gridData");
						model1.makeNode("/root/resData/resForm/dept_temp2"); 
						model1.makeNode("/root/resData/resForm/dept_temp"); 
						model1.makeNode("/root/resData/resForm/dept_tm"); 
									
						if(combo == "11" || combo == "13" || combo == "17" || combo == "18" || combo == "27" || combo == "32" || combo == "46" || combo == "63" || combo == "66" || combo == "67" || combo == "63"){
							combo3.deselect();
							var getValue = combo2.label;
							model1.setValue("/root/resData/resForm/dept_temp", getValue);
							model1.refresh();
							var getComboLabel = combo2.label;
							var getComboValue = combo2.Value;
							model1.setValue("/root/reqData/searchData/dept_cd", getComboValue);
							model1.send("hd_com_1003");
							model1.copyNode("/root/initData/comboSet/dept_cd_2", "/root/tempData/dept");
							model1.removenode("/root/tempData");
							combo3.refresh();
							combo3.disabled = true; 
						}else{
							model1.setValue("/root/reqData/searchData/dept_cd", combo);
							model1.setValue("/root/resData/resForm/dept_temp", combo);
							model1.setValue("/root/resData/resForm/dept_tm", combo);
							model1.send("hd_com_1003");
							model1.copyNode("/root/initData/comboSet/dept_cd_2", "/root/tempData/dept");
							model1.removenode("/root/tempData");
							combo3.refresh();
							combo3.disabled = false; 
						}

					]]>
				</script>
			</select1>
			<select1 id="combo3" ref="/root/reqData/searchData/dept_cd_2" navindex="4" appearance="minimal" style="left:705px; top:5px; width:205px; height:18px; ">
				<choices>
					<itemset nodeset="/root/initData/comboSet/dept_cd_2/item">
						<label ref="label"/>
						<value ref="value"/>
					</itemset>
				</choices>
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
//						var temp = datagrid2.rows;
//						for(var i=1; i< temp;  i++) {
//							datagrid2.deleteRow(1);
//						}
					//	model1.removenode("/root/resData/gridData");
					//	model1.makeNode("/root/resData/gridData");
						var comboVal = combo3.value;
						model1.setValue("/root/reqData/searchData/dept_cd", comboVal);
						var selectedIdx = combo3.label;
						model1.setValue("/root/resData/resForm/dept_temp", selectedIdx);
						model1.refresh();
					]]>
				</script>
			</select1>
			<output id="output2" ref="/root/resData/resForm/dept_temp" style="left:655px; top:30px; width:50px; height:18px; background-color:#ffffff; "/>
		</group>
		<caption id="caption49" style="left:130px; top:370px; width:445px; height:20px; font-size:10pt; font-weight:bolder; color:#ff0000; "/>
		<datagrid id="datagrid2" nodeset="/root/resData/gridData/record" caption="성명^주민번호^연락처^계약일^계약만료일^계약금액^소득구분^담당직무^재직^4대불공제" colsep="#" colwidth="75, 140, 100, 100, 100, 100, 91, 114, 82, 100, 100, 100, 100, 120, 100, 145, 100, 100, 100, 125, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100" explorerbar="sortshowmove" extendlastcol="scroll" frozencols="4" mergecellsfixedrows="bycolrec" rowheader="seq" rowsep="|" tooltip="true" style="left:8px; top:155px; width:924px; height:340px; ">
			<col ref="flnm"/>
			<col ref="prn" format="999999-9999999"/>
			<col ref="tel_no"/>
			<col ref="cntr_dt" format="yyyy-mm-dd"/>
			<col ref="cntr_expr_dt" format="yyyy-mm-dd"/>
			<col ref="servcost" format="#,###" style="text-align:right; "/>
			<col ref="incm_clsf_nm"/>
			<col ref="chrg_posk_nm"/>
			<col ref="work_yn"/>
			<col ref="all_insr_dduc_yn" visibility="hidden"/>
			<col ref="dept_nm" visibility="hidden"/>
			<col ref="incm_clsf_cd" visibility="hidden"/>
			<col ref="addr" visibility="hidden"/>
			<col ref="draft_no" visibility="hidden"/>
			<col ref="draft_dept_cd" visibility="hidden"/>
			<col ref="bank_nm" visibility="hidden"/>
			<col ref="acct_no" visibility="hidden"/>
			<col ref="back_cd" visibility="hidden"/>
			<col ref="mang_no" visibility="hidden"/>
			<col ref="chrg_posk_cd" visibility="hidden"/>
			<col ref="thrw_pgm" visibility="hidden"/>
			<col ref="thrw_pgm2" visibility="hidden"/>
			<col ref="medi_cd" visibility="hidden"/>
			<col ref="medi_cd2" visibility="hidden"/>
			<col ref="frlc_no" visibility="hidden"/>
			<col ref="pay_cycl" visibility="hidden"/>
			<col ref="lvcmpy_dt" visibility="hidden"/>
			<col ref="dept_cd" visibility="hidden"/>
			<col ref="supr_dept_cd" visibility="hidden"/>
			<col ref="mode" visibility="hidden"/>
			<script type="javascript" ev:event="onclick">
				<![CDATA[
					model.refresh();

					var row = datagrid2.row;
					
					if(datagrid2.row == 0){
						return;
					}
					var selectValue = "";
					var selectedIdx = datagrid2.row;
					
					
					if (datagrid2.col != 1)
					{
						model1.copyNode("/root/resData/resForm" ,"/root/resData/gridData/record["+ selectedIdx +"]");
					}
					else 
					{
						var row = datagrid2.row;
						if (datagrid2.valueMatrix(row, 1) == "0" && datagrid2.rowStatus(row) == 2)
							datagrid2.rowStatus(row) = 0;
					}
                    model1.makeNode("/root/resData/resForm/mode");
					model1.makeNode("/root/resData/resForm/dept_temp2"); 
					model1.refresh(); 
				]]>
			</script>
		</datagrid>
		<group id="group_btnG1" class="gro_btn" style="left:10px; top:139px; width:926px; height:17px; "/>
		<button id="button5" class="btn02" visibility="hidden" style="left:520px; top:47px; width:52px; height:21px; ">
			<caption>수정</caption>
			<script type="javascript" ev:event="DOMActivate">
				<![CDATA[
					alert("내용 수정 후 저장버튼을 클릭해주세요.");
					input9.disabled = false;
				]]>
			</script>
		</button>
	</xhtml:body>
</xhtml:html>
