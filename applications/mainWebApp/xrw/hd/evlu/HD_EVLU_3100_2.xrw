<?xml version="1.0" encoding="EUC-KR"?>
<?xml-stylesheet type="text/css" href="../../../css/style_sheet.css" ?>
<xhtml:html xmlns:ex="http://www.comsquare.co.kr/xforms/excel" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:ms="urn:schemas-microsoft-com:xslt" xmlns:my="http://www.comsquare.co.kr/example" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://www.w3.org/2002/01/xforms" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:cs="http://www.comsquare.co.kr/xforms">
	<xhtml:head>
		<xhtml:title>정규직(EP) - 1차평가자 평가화면</xhtml:title>
		<model id="model1">
			<instance id="instance1">
				<root xmlns="">
					<initData>
						<session/>
						<comboSet>
							<evlu_cd>
								<item/>
							</evlu_cd>
							<evlu_grad_cd>
								<item/>
							</evlu_grad_cd>
						</comboSet>
						<pageInfo>
						</pageInfo>
					</initData>
					<reqData>
						<searchData>
							<evlu_cd/>
							<local_nm_korn/>
						</searchData>
						<reqForm>
							<evlu_pers_emp_no_1tms/>
							<evlu_yy/>
							<tms_clsf/>
							<evlu_grp_cd/>
							<emp_no/>
							<busn_rslt_scor/>
							<evlu_part_cd1/>
							<evlu_part_cd2/>
							<evlu_part_cd3/>
							<evlu_part_cd4/>
							<evlu_part_cd5/>
							<evlu_cmpt_opn_1tms/>
							<evlu_step_clsf>30</evlu_step_clsf>
						</reqForm>
						<multiUpDate/>
						<fwdData/>
					</reqData>
					<resData>
						<msg/>
						<resForm>
							<valid_evlu_cd/>
							<s_nops_1tms/>
							<s_nops_1tms_str/>
							<dept_nm/>
							<grp_nm1/>
							<grp_nm2/>
							<emp_no/>
							<nm_korn/>
							<emp_info/>
							<asst_cnt/>
							<nm_korn_1tms/>
							<nm_korn_2tms/>
							<evlu_cd/>
							<spc_psdo_redu_scorcnt/>
							<evlu_proc_stat_1tms/>
							<asst_evlu_opn/>
							<asst_evlu_grad_cd/>
							<evlu_cmpt_opn_1tms/>
							<!--3110에서 가져옴-->
							<act_desc1/>
							<act_desc2/>
							<act_desc3/>
							<act_desc4/>
							<act_desc5/>
							<slf_achv_desc1/>
							<slf_achv_desc2/>
							<busn_rslt_scor/>
							<evlu_part_cd1/>
							<evlu_part_cd2/>
							<evlu_part_cd3/>
							<evlu_part_cd4/>
							<evlu_part_cd5/>
							<!--3110에서 가져옴-->
							<self_evlu_proc_stat/>
							<asst_evlu_proc_stat/>
							<cmpt_scor/>
							<asst_pnt/>
							<rvis_scor_1tms/>
							<evlu_proc_stat_2tms/>
						</resForm>
						<gridData1>
							<record>
								<sel_chk/>
								<evlu_grp_nm/>
								<evlu_proc_stat_1tms/>
								<evlu_grp_cd/>
							</record>
						</gridData1>
						<gridData2>
							<record>
								<sel_chk/>
								<dept_nm/>
								<emp_no/>
								<nm_korn/>
								<dty_nm/>
								<self_evlu_proc_stat/>
								<asst_evlu_proc_stat/>
								<evlu_proc_stat_1tms/>
								<asst_pnt/>
								<spc_psdo_redu_scorcnt/>
								<tmp_grad/>
								<evlu_pers_meda_grad_1tms/>
								<evlu_grad_cd_01/>
								<evlu_grad_cd_02/>
								<evlu_grad_cd_03/>
								<evlu_grad_cd_04/>
								<evlu_grad_cd_05/>
								<evlu_pers_deci_grad_2tms/>
							</record>
						</gridData2>
						<use_chk/>
					</resData>
					<tempData/>
				</root>
			</instance>
			<script type="javascript" ev:event="xforms-ready">
				<![CDATA[
					//eip용
					// 권한관리
					/*
					var obj = htmldocument.SessionInfo;
					setProperty("ss_emp_no"   , obj.emp_no.value);					
					setProperty("ss_deptcd"   , obj.deptcd.value);
					setProperty("ss_cmpycd"   , obj.cmpycd.value);
					if(obj.emp_no.value == ""){
						alert("세션 정보가 없습니다. 다시 ESS 로그인 후 사용해주세요.");
						btnClose.dispatch("onclick");
					}
					*/				
					//테스트용 데이터
					//model1.setValue("/root/reqData/reqForm/evlu_pers_emp_no_1tms","183080");
					//model1.setValue("/root/reqData/reqForm/evlu_pers_emp_no_1tms","166001");
					//model1.setValue("/root/reqData/reqForm/evlu_pers_emp_no_1tms","172012");
					//평가구분 콤보박스 생성
					model1.send("hd_evlu_9000_l");
					model1.setValue("/root/resData/resForm/valid_evlu_cd",model1.getValue("/root/dataSet/valid_evlu_cd"));
					model1.copyNode("/root/initData/comboSet/evlu_cd", "/root/dataSet/CURLIST");
					model1.removeNode("/root/dataSet");
					//평가등급 콤보박스 생성
					model1.send("hd_evlu_3100_m");
					model1.copyNode("/root/initData/comboSet/evlu_grad_cd", "/root/dataSet/CURLIST");
					model1.removeNode("/root/dataSet");
					model1.refresh();
					//평가구분 콤보박스 자동선택
					combo1.select(0);
					//등급가능 텍스트 기본설정
					model1.setValue("/root/resData/resForm/s_nops_1tms_str","'S' 등급 가능 인원은 0 명 이내 입니다.");
					caption3.refresh();
					//datagrid2 첫행삭제
					model1.removeNode("/root/resData/gridData2/record[1]");
					model1.refresh();
					
					model1.send("hd_evlu_4001_l");
					model1.setValue("/root/resData/use_chk",model1.getValue("/root/dataSet/CURLIST/record/use_chk"));
					model1.removenode("/root/dataSet");
					model1.refresh();
					
					var use_chk = model1.getValue("/root/resData/use_chk");
					
					if(use_chk == "20") {
						button5.disabled = true;
						button6.disabled = true;
						button7.disabled = true;
						button11.disabled = true;
						button12.disabled = true;
					}
				]]>
			</script>
			<submission id="hd_evlu_9000_l" action="/servlet/hd/evlu/9000" mediatype="application/x-www-form-urlencoded" method="post" resultref="/root/tempData"/>
			<submission id="hd_evlu_3100_m" action="/servlet/hd/evlu/3100" mediatype="application/x-www-form-urlencoded" method="post" resultref="/root/tempData"/>
			<submission id="hd_evlu_3101_l" action="/servlet/hd/evlu/3101" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/reqData" resultref="/root/tempData"/>
			<submission id="hd_evlu_3102_l" action="/servlet/hd/evlu/3102" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/reqData" resultref="/root/tempData"/>
			<submission id="hd_evlu_3103_s" action="/servlet/hd/evlu/3103" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/reqData" resultref="/root/tempData"/>
			<submission id="hd_evlu_3104_u" action="/servlet/hd/evlu/3104" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/reqData" resultref="/root/tempData"/>
			<submission id="hd_evlu_3105_u" action="/servlet/hd/evlu/3105" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/reqData" resultref="/root/tempData"/>
			<submission id="hd_evlu_3106_u" action="/servlet/hd/evlu/3106" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/reqData" resultref="/root/tempData"/>
			<submission id="hd_evlu_3107_u" action="/servlet/hd/evlu/3107" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/reqData" resultref="/root/tempData"/>
			<submission id="hd_evlu_3108_u" action="/servlet/hd/evlu/3108" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/reqData" resultref="/root/tempData"/>
			<submission id="hd_evlu_4001_l" action="/servlet/hd/evlu/4001" mediatype="application/x-www-form-urlencoded" method="post" ref="/root/reqData/reqForm" resultref="/root/tempData"/>
		</model>
		<script type="javascript" src="/js/CIISComm.js"/>
		<script type="javascript" src="/js/TFCommon.js"/>
		<script type="javascript">
			<![CDATA[
				//평가그룹 목록생성
				function searchList(){
					//평가구분값 파싱
					if(model1.getValue("/root/reqData/searchData/evlu_cd") != ""){
						model1.setValue("/root/reqData/reqForm/evlu_yy", model1.getValue("/root/reqData/searchData/evlu_cd").substring(0,4));
						model1.setValue("/root/reqData/reqForm/tms_clsf", model1.getValue("/root/reqData/searchData/evlu_cd").substring(4,6));
					}
					//상태값 초기화
					model1.removeNode("/root/resData/gridData1");
					model1.makeNode("/root/resData/gridData1");
					model1.refresh();
					//데이터 생성
					model1.send("hd_evlu_3101_l");	
					model1.copyNode("/root/resData/gridData1","/root/dataSet/CURLIST");
					model1.removeNode("/root/dataSet");
					model1.refresh();
					
					//선택한 그룹번호가 있다면
					if(model1.getValue("/root/reqData/reqForm/evlu_grp_cd") != ""){
						for(var i=datagrid1.fixedRows; i<=datagrid1.rows; i++){
							if(datagrid1.valueMatrix(i,datagrid1.colRef("evlu_grp_cd")) == model1.getValue("/root/reqData/reqForm/evlu_grp_cd")){
								datagrid1.isSelected(i) = true;
								datagrid1.valueMatrix(i,datagrid1.colRef("sel_chk")) = 'true';
								datagrid1.topRow = i;
								break;
							}
						}
					}
				}
				//그룹별 피평가자 목록생성
				function searchList2(){
					//선택한 그룹코드
					model1.setValue("/root/reqData/reqForm/evlu_grp_cd",datagrid1.valueMatrix(datagrid1.row,datagrid1.colRef("evlu_grp_cd")));
					//상태값 초기화
					model1.removeNode("/root/resData/gridData2");
					model1.makeNode("/root/resData/gridData2");
					model1.refresh();
					//데이터 생성
					model1.send("hd_evlu_3102_l");	
					model1.setValue("/root/resData/resForm/s_nops_1tms",model1.getValue("/root/dataSet/s_nops_1tms"));
					model1.setValue("/root/resData/resForm/s_nops_1tms_str","'S' 등급 가능 인원은 "+model1.getValue("/root/resData/resForm/s_nops_1tms")+" 명 이내 입니다.");
					caption3.refresh();
					model1.copyNode("/root/resData/gridData2","/root/dataSet/CURLIST");
					model1.removeNode("/root/dataSet");
					model1.refresh();
					//선택한 사번이 있다면
					if(model1.getValue("/root/reqData/reqForm/emp_no") != ""){
						for(var i=datagrid2.fixedRows; i<=datagrid2.rows; i++){

							if(datagrid2.valueMatrix(i,datagrid2.colRef("emp_no")) == model1.getValue("/root/reqData/reqForm/emp_no")){
								datagrid2.isSelected(i) = true;
								datagrid2.valueMatrix(i,datagrid2.colRef("sel_chk")) = 'true';
								datagrid2.topRow = i;
								break;
							}
						}
					}
					
				    for(var k =datagrid2.fixedRows; k<=datagrid2.rows; k++){
						
						var grad = 10;
						for(grad = 10; grad <= 50 ; grad)
						{
							var evlu_grad_cd = "evlu_grad_cd_"+grad ; 
						
						    for(var l = 9; l <= 17 ; l )
							{
								if(datagrid2.valueMatrix(k,l) == grad )
								{
								     var m = l - 1 ;
									 var  img_num =  grad.toString().substring(0,1);   // grad.substring(0,1);
									datagrid2.cellstyle("background-image", k, m) =   "/images/hd/icon_score_0"+img_num+".gif";      // "C:/workspace/ciis_chosun_com/applications/mainWebApp/xrw/hd/evlu/icon_score_0"+img_num+".gif";
									//datagrid2.cellstyle("background-image", k,datagrid2.colRef("evlu_grad_cd_01")) = "C:/workspace/ciis_chosun_com/applications/mainWebApp/xrw/hd/evlu/icon_score_01.gif";
								}
								l = l + 2;
						    }
							grad = grad +10 ;
						}
				   }
					for(var i =datagrid2.fixedRows; i<=datagrid2.rows; i++){ //잠정등급 이미지보여주기
						var tmp_grad = datagrid2.valueMatrix(i,datagrid2.colRef("tmp_grad"));
						tmp_grad = tmp_grad.toLowerCase();
						datagrid2.cellstyle("background-image", i, 20) =   "/images/hd/icon_list_result_"+tmp_grad+"_01.gif"; 
						
						var meda_grad_1tms = datagrid2.valueMatrix(i,datagrid2.colRef("evlu_pers_meda_grad_1tms"));

						meda_grad_1tms = meda_grad_1tms.toLowerCase();
						datagrid2.cellstyle("background-image", i, 22) =   "/images/hd/icon_list_result_"+meda_grad_1tms+"_01.gif"; 
					}
					
				}
				//평가대상자 기본정보 생성
				function getEvluInfo(){
					//선택한 사원번호
					model1.setValue("/root/reqData/reqForm/emp_no",datagrid2.valueMatrix(datagrid2.row,datagrid2.colRef("emp_no")));
					//데이터 생성
					model1.send("hd_evlu_3103_s");
					model1.setValue("/root/resData/resForm/dept_nm",model1.getValue("/root/dataSet/dept_nm"));
					model1.setValue("/root/resData/resForm/grp_nm1",model1.getValue("/root/dataSet/grp_nm1"));
					model1.setValue("/root/resData/resForm/grp_nm2",model1.getValue("/root/dataSet/grp_nm2"));
					model1.setValue("/root/resData/resForm/emp_no",model1.getValue("/root/dataSet/emp_no"));
					model1.setValue("/root/resData/resForm/nm_korn",model1.getValue("/root/dataSet/nm_korn"));
					model1.setValue("/root/resData/resForm/emp_info",model1.getValue("/root/dataSet/emp_no")+"/"+model1.getValue("/root/dataSet/nm_korn"));
					model1.setValue("/root/resData/resForm/asst_cnt",model1.getValue("/root/dataSet/asst_cnt"));
					model1.setValue("/root/resData/resForm/nm_korn_1tms",model1.getValue("/root/dataSet/nm_korn_1tms"));
					model1.setValue("/root/resData/resForm/nm_korn_2tms",model1.getValue("/root/dataSet/nm_korn_2tms"));
					model1.setValue("/root/resData/resForm/evlu_cd",model1.getValue("/root/dataSet/evlu_cd"));
					model1.setValue("/root/resData/resForm/spc_psdo_redu_scorcnt",model1.getValue("/root/dataSet/spc_psdo_redu_scorcnt"));
					model1.setValue("/root/resData/resForm/self_evlu_proc_stat",model1.getValue("/root/dataSet/self_evlu_proc_stat"));
					model1.setValue("/root/resData/resForm/asst_evlu_proc_stat",model1.getValue("/root/dataSet/asst_evlu_proc_stat"));
					model1.setValue("/root/resData/resForm/cmpt_scor",model1.getValue("/root/dataSet/cmpt_scor"));
					model1.setValue("/root/resData/resForm/asst_pnt",model1.getValue("/root/dataSet/asst_pnt"));
				    model1.setValue("/root/resData/resForm/rvis_scor_1tms",model1.getValue("/root/dataSet/rvis_scor_1tms"));
					model1.setValue("/root/resData/resForm/evlu_proc_stat_1tms",model1.getValue("/root/dataSet/evlu_proc_stat_1tms"));
					model1.setValue("/root/resData/resForm/evlu_proc_stat_2tms",model1.getValue("/root/dataSet/evlu_proc_stat_2tms"));



					if(model1.getValue("/root/resData/resForm/self_evlu_proc_stat") != "20") 
					{
						caption53.visible = true ;
					}
					else 
					{	
						caption53.visible =  false ;
					}
					
					if(model1.getValue("/root/resData/resForm/self_evlu_proc_stat") != "20" )
					{
						img1.visible = true;
						img2.visible = false;
						img3.visible = false;
						img9.visible = false;
						img10.visible = false;
					}
					else 
					{
					
						if(model1.getValue("/root/resData/resForm/evlu_proc_stat_1tms") == "10" ) // 1차 평가중 
						{
							img1.visible = false;
							img2.visible = true;
							img3.visible = false;
							img9.visible = false;
							img10.visible = false;
						}
						else if( model1.getValue("/root/resData/resForm/evlu_proc_stat_1tms") == "30" ) // 잠정등급 중 
						{
							img1.visible = false;
							img2.visible = false;
							img3.visible = true;
							img9.visible = false;
							img10.visible = false;
						}
					    else 
						{  
						
							if(model1.getValue("/root/resData/resForm/evlu_proc_stat_2tms") != "20" ) // 2차 평가중 
							{
								img1.visible = false;
								img2.visible = false;
								img3.visible = false;
								img9.visible = true;
								img10.visible = false;
							}
							else 
							{
								img1.visible = false;
								img2.visible = false;
								img3.visible = false;
								img9.visible = false;
								img10.visible = true
							}
						}
					}
					
					if(model1.getValue("/root/resData/resForm/evlu_proc_stat_1tms") != "10" ) // 1차 평가중 
					{
							radio1.disabled = true;
							radio2.disabled = true;
							radio3.disabled = true;
							radio4.disabled = true;
							radio5.disabled = true;
							button5.disabled  = true;
						//	button11
							button7.disabled  = true;
							button6.disabled  = true;
					}
				   else 
					{  
							radio1.disabled = false;
							radio2.disabled = false;
							radio3.disabled = false;
							radio4.disabled = false;
							radio5.disabled = false;
							button5.disabled  = false;
						//	button11
							button7.disabled  = false;
							button6.disabled  = false;
					}
				
				evluTotalScore()  ;

					var nodeList = instance1.selectNodes("/root/dataSet/CURLIST1/record");
					var act_desc = "";
					for(var i=0; i<nodeList.length; i++){
						var node = nodeList.item(i);
						var childNodeList = node.childNodes;
						var childNode1 = childNodeList.item(0);
						var childNode2 = childNodeList.item(1);
						var act_desc = act_desc + "["+childNode1.value+"]" + "\n" +childNode2.value;
					}
					textarea5.value = act_desc;
					textarea4.value = model1.getValue("/root/dataSet/slf_achv_desc1");
					if(model1.getValue("/root/dataSet/busn_rslt_scor") == "0" || model1.getValue("/root/dataSet/busn_rslt_scor") == "0.0"){
						//combo3.value = model1.getValue("/root/dataSet/evlu_part_cd1");
						radio1.value = model1.getValue("/root/dataSet/evlu_part_cd1");
						//input2.value = model1.getValue("/root/dataSet/busn_rslt_scor");
						//combo3.disabled = false;
						//input2.disabled = true;
					}else{
						//input2.value = model1.getValue("/root/dataSet/busn_rslt_scor");
						//combo3.disabled = true;
						//input2.disabled = false;
					}
					nodeList = instance1.selectNodes("/root/dataSet/CURLIST2/record");
					act_desc = "";
					for(var i=0; i<nodeList.length; i++){
						var node = nodeList.item(i);
						var childNodeList = node.childNodes;
						var childNode1 = childNodeList.item(0);
						var childNode2 = childNodeList.item(1);
						var act_desc = act_desc + "["+childNode1.value+"]" + "\n" +childNode2.value;
					}
					textarea6.value = act_desc;
					textarea3.value = model1.getValue("/root/dataSet/slf_achv_desc2");
					//combo4.value = model1.getValue("/root/dataSet/evlu_part_cd2");
					radio2.value = model1.getValue("/root/dataSet/evlu_part_cd2");
					nodeList = instance1.selectNodes("/root/dataSet/CURLIST3/record");
					act_desc = "";
					for(var i=0; i<nodeList.length; i++){
						var node = nodeList.item(i);
						var childNodeList = node.childNodes;
						var childNode1 = childNodeList.item(0);
						var childNode2 = childNodeList.item(1);
						var act_desc = act_desc + "["+childNode1.value+"]" + "\n" +childNode2.value;
					}
					textarea7.value = act_desc;
					//combo5.value = model1.getValue("/root/dataSet/evlu_part_cd3");
					radio3.value = model1.getValue("/root/dataSet/evlu_part_cd3");
					nodeList = instance1.selectNodes("/root/dataSet/CURLIST4/record");
					act_desc = "";
					for(var i=0; i<nodeList.length; i++){
						var node = nodeList.item(i);
						var childNodeList = node.childNodes;
						var childNode1 = childNodeList.item(0);
						var childNode2 = childNodeList.item(1);
						var act_desc = act_desc + "["+childNode1.value+"]" + "\n" +childNode2.value;
					}
					textarea8.value = act_desc;
					//combo6.value = model1.getValue("/root/dataSet/evlu_part_cd4");
					radio4.value = model1.getValue("/root/dataSet/evlu_part_cd4");
					nodeList = instance1.selectNodes("/root/dataSet/CURLIST5/record");
					act_desc = "";
					for(var i=0; i<nodeList.length; i++){
						var node = nodeList.item(i);
						var childNodeList = node.childNodes;
						var childNode1 = childNodeList.item(0);
						var childNode2 = childNodeList.item(1);
						var act_desc = act_desc + "["+childNode1.value+"]" + "\n" +childNode2.value;
					}
					textarea9.value = act_desc;
					//combo7.value = model1.getValue("/root/dataSet/evlu_part_cd5");
					radio5.value = model1.getValue("/root/dataSet/evlu_part_cd5");
					caption39.value = "("+model1.getValue("/root/dataSet/rfl_ratio_10")+"%)";
					caption41.value = "("+model1.getValue("/root/dataSet/rfl_ratio_20")+"%)";
					caption44.value = "("+model1.getValue("/root/dataSet/rfl_ratio_30")+"%)";
					caption45.value = "("+model1.getValue("/root/dataSet/rfl_ratio_40")+"%)";
					caption46.value = "("+model1.getValue("/root/dataSet/rfl_ratio_50")+"%)";
					model1.setValue("/root/resData/resForm/evlu_proc_stat_1tms",model1.getValue("/root/dataSet/evlu_proc_stat_1tms"));
					model1.setValue("/root/resData/resForm/asst_evlu_opn",model1.getValue("/root/dataSet/asst_evlu_opn"));
					model1.setValue("/root/resData/resForm/asst_evlu_grad_cd",model1.getValue("/root/dataSet/asst_evlu_grad_cd"));
					model1.setValue("/root/resData/resForm/evlu_cmpt_opn_1tms",model1.getValue("/root/dataSet/evlu_cmpt_opn_1tms"));
					model1.removeNode("/root/dataSet");
					model1.refresh();
					/*
					//버튼토글
					if(model1.getValue("/root/resData/resForm/evlu_proc_stat_1tms") == "20"){
						button5.disabled = true;
						button6.disabled = true;
						button7.disabled = true;
					}else{
						button5.disabled = false;
						button6.disabled = false;
						button7.disabled = false;
					}
					button5.refresh();
					button6.refresh();
					button7.refresh();
					*/
					
				}
				//임시저장
				function temporarySave(){
					model1.setValue("/root/reqData/reqForm/emp_no",model1.getValue("/root/resData/resForm/emp_no"));
					//model1.setValue("/root/reqData/reqForm/busn_rslt_scor",input2.value);
					//model1.setValue("/root/reqData/reqForm/evlu_part_cd1",combo3.value);
					//model1.setValue("/root/reqData/reqForm/evlu_part_cd2",combo4.value);
					//model1.setValue("/root/reqData/reqForm/evlu_part_cd3",combo5.value);
					//model1.setValue("/root/reqData/reqForm/evlu_part_cd4",combo6.value);
					//model1.setValue("/root/reqData/reqForm/evlu_part_cd5",combo7.value);
					model1.setValue("/root/reqData/reqForm/evlu_part_cd1",radio1.value);
					model1.setValue("/root/reqData/reqForm/evlu_part_cd2",radio2.value);
					model1.setValue("/root/reqData/reqForm/evlu_part_cd3",radio3.value);
					model1.setValue("/root/reqData/reqForm/evlu_part_cd4",radio4.value);
					model1.setValue("/root/reqData/reqForm/evlu_part_cd5",radio5.value);
					model1.setValue("/root/reqData/reqForm/evlu_cmpt_opn_1tms",model1.getValue("/root/resData/resForm/evlu_cmpt_opn_1tms"));
					model1.send("hd_evlu_3104_u");
					model1.removeNode("/root/dataSet");
					model1.refresh();
					if(submit_completed()) 
					{ 
						alert("저장되었습니다.");
						searchList2();
					}
				}
				
				function Save(){
					model1.setValue("/root/reqData/reqForm/emp_no",model1.getValue("/root/resData/resForm/emp_no"));
					//model1.setValue("/root/reqData/reqForm/busn_rslt_scor",input2.value);
					//model1.setValue("/root/reqData/reqForm/evlu_part_cd1",combo3.value);
					//model1.setValue("/root/reqData/reqForm/evlu_part_cd2",combo4.value);
					//model1.setValue("/root/reqData/reqForm/evlu_part_cd3",combo5.value);
					//model1.setValue("/root/reqData/reqForm/evlu_part_cd4",combo6.value);
					//model1.setValue("/root/reqData/reqForm/evlu_part_cd5",combo7.value);
					model1.setValue("/root/reqData/reqForm/evlu_part_cd1",radio1.value);
					model1.setValue("/root/reqData/reqForm/evlu_part_cd2",radio2.value);
					model1.setValue("/root/reqData/reqForm/evlu_part_cd3",radio3.value);
					model1.setValue("/root/reqData/reqForm/evlu_part_cd4",radio4.value);
					model1.setValue("/root/reqData/reqForm/evlu_part_cd5",radio5.value);
					model1.setValue("/root/reqData/reqForm/evlu_cmpt_opn_1tms",model1.getValue("/root/resData/resForm/evlu_cmpt_opn_1tms"));
					model1.send("hd_evlu_3104_u");
					model1.removeNode("/root/dataSet");
					model1.refresh();
					if(submit_completed()) doneEvlu1tms();

				}
				//반려
				function givingback1TmsStat(){
					model1.setValue("/root/reqData/reqForm/emp_no",model1.getValue("/root/resData/resForm/emp_no"));
					model1.send("hd_evlu_3105_u");
					model1.removeNode("/root/dataSet");
					model1.refresh();
					if(submit_completed()) searchList2();
				}
				//평가완료
				function doneEvlu1tms(){
					model1.setValue("/root/reqData/reqForm/emp_no",model1.getValue("/root/resData/resForm/emp_no"));
					model1.send("hd_evlu_3106_u");
					model1.removeNode("/root/dataSet");
					model1.refresh();
					if(submit_completed())
					{ 
						getEvluInfo(); 
					    searchList();
					 }//searchList2();
				}
				//건의등급 설정
				function setGrad_1tms(evlu_pers_meda_grad_1tms){
					datagrid2.valueMatrix(datagrid2.row,datagrid2.colRef("evlu_pers_meda_grad_1tms")) = evlu_pers_meda_grad_1tms;
					searchList2();
				}
				//잠정집계등급
				function calTmpGrad(){
					model1.send("hd_evlu_3107_u");
					model1.removeNode("/root/dataSet");
					model1.refresh();
					if(submit_completed()) searchList2();
				}
				function doneEvluGrp1tms(){
					model1.send("hd_evlu_3108_u");
					model1.removeNode("/root/dataSet");
					model1.refresh();
					if(submit_completed()) searchList();
				}
				
				//평가종합의견
				function setRemk(remk){
					var preRemk = textarea2.value;
					var nxtRemk = model1.getValue("/root/reqData/fwdData/resRemk");
					textarea2.value = model1.getValue("/root/reqData/fwdData/resRemk");
				}
				function winMax()
				{	
					var child = btnMax.children;
					
					if (btnMax.attribute("_maxFlag") == "MAX") {	// 전체창 Button
						window.maximize();
						btnMax.attribute("hover.background-image") = "/images/ta_img_02.gif";
						btnMax.attribute("background-image") = "/images/ta_img_02.gif";
						
						for ( i = 0; i < child.length; i++) {
							if ( child.item(i).elementName == "xforms:hint" ) {
								child.item(i).attribute("text") = "화면 복원";
							}
						}
						
						btnMax.attribute("_maxFlag") = "MIN";
					}
					else {	// 화면 복원 Button
						window.restore();
						btnMax.attribute("hover.background-image") = "/images/ta_img_02.gif";
						btnMax.attribute("background-image") = "/images/ta_img_02.gif";
						
						for ( i = 0; i < child.length; i++) {
							if ( child.item(i).elementName == "xforms:hint" ) {
								child.item(i).attribute("text") = "최대화";
							}
						}
						
						btnMax.attribute("_maxFlag") = "MAX";
					}
				}

				function onwindowactivate()
				{
					event.propagate = "stop"
				}
				
				function evluTotalScore(){
					var total_score ;      // 최종점수 
					var cd_score_01  = 0 ;    // 계산된 개인성과 점수 
					var cd_score_02  = 0 ;  // 계산된 성과기여 점수
					var cd_score_03  = 0 ; // 계산된 직무역량 점수
					var cd_score_04  = 0 ; // 계산된 리더쉽 점수
					var cd_score_05  = 0 ; // 계산된 창의개선 점수
					
					var ck_grad_01 = radio1.label ;  
					var ck_grad_02 = radio2.label ;
					var ck_grad_03 = radio3.label ;
					var ck_grad_04 = radio4.label ;
					var ck_grad_05 = radio5.label ;
			
					
					var score_01 =0;
					var score_02 =0; 
					var score_03 =0; 
					var score_04 =0; 
					var score_05 =0;
					
					var lenght01 =  ck_grad_01.length; //개인성과 길이 
					var lenght02 =  ck_grad_02.length; //성과기여 길이
					var lenght03 =  ck_grad_03.length; //직무역량 길이
					var lenght04 =  ck_grad_04.length; //리더쉽 길이
					var lenght05 =  ck_grad_05.length; //창의개선  길이
					
					var percent01  = parseInt(caption39.value.substring(1,3)); 
					var percent02  = parseInt(caption41.value.substring(1,3)); 
					var percent03  = parseInt(caption44.value.substring(1,3)); 
					var percent04  = parseInt(caption45.value.substring(1,3)); 
					var percent05  = parseInt(caption46.value.substring(1,3)); 

			    	 if(ck_grad_01.length > 0) 
					{   
						score_01 =    parseInt( ck_grad_01.substring(lenght01-2,lenght01 )) ;
						cd_score_01 = (Number(score_01) * (Number(percent01) * 0.01)  *10 );
					}
					 if(ck_grad_02.length > 0 )
					{ 
						score_02 =    parseInt( ck_grad_02.substring(lenght02-2,lenght02 ));
						cd_score_02 = (Number(score_02) * (Number(percent02) * 0.01)  *10 );
					}
					 if(ck_grad_03.length > 0)
					{ 	
						score_03 =    parseInt( ck_grad_03.substring(lenght03-2,lenght03 ));
						cd_score_03 = (Number(score_03) * (Number(percent03) * 0.01)  *10 );
					}
					 if(ck_grad_04.length > 0)
					{ 
						score_04 =    parseInt( ck_grad_04.substring(lenght04-2,lenght04 ));
						cd_score_04 = (Number(score_04) * (Number(percent04) * 0.01)  *10 );
					}
					if(ck_grad_05.length > 0)
					{  
						score_05 =    parseInt( ck_grad_05.substring(lenght05-2,lenght05 ));
						cd_score_05 = (Number(score_05) * (Number(percent05) * 0.01)  *10 );
					}
				    var 	asst_pnt = model1.getValue("/root/resData/resForm/asst_pnt"); 
					if(asst_pnt  == "없음") 
					{
						asst_pnt =0;
					}
					
					total_score =   parseInt(cd_score_01) +  parseInt(cd_score_02) +  parseInt(cd_score_03) +  parseInt(cd_score_04)+  parseInt(cd_score_05)  +  parseInt(asst_pnt) ;
				
					caption47.value =  total_score+ "점";
					
				}
				
			]]>
		</script>
		<xhtml:style id="style1">
			<![CDATA[
				textarea.static_textarea {
					color:#303e9f;
					font-size:12px;
					font-weight:bold;
					border-style:solid;
					border-color:#aec9e9;   
					text-align:center;
					vertical-align:middle;
					background-color:#eaedfe
				}
			]]>
		</xhtml:style>
	</xhtml:head>
	<xhtml:body class="main" pagewidth="946" pageheight="765" guideline="1,9;1,943;2,745;2,671;2,202;2,205;1,444;2,383;" style="font-family:굴림; ">
		<caption id="caption53" class="list_cap01" visibility="hidden" style="left:48.10%; top:19.61%; width:51.16%; height:68.37%; background-color:#dddddd; ">자기평가가 완료 되지 않았습니다.</caption>
		<shape id="rectangle1" appearance="rectangle" ellipsewidth="20" ellipseheight="20" style="left:0.53%; top:29.15%; width:46.62%; height:69.28%; border-color:#aaaaaa; border-width:3px; "/>
		<group id="group3" style="left:48.10%; top:19.61%; width:51.16%; height:68.10%; ">
			<caption id="caption32" class="list_cap02" style="left:15.70%; top:111.52%; width:67.98%; height:14.40%; "/>
			<caption id="caption34" class="list_cap02" style="left:0.00%; top:111.52%; width:15.91%; height:14.40%; font-weight:bold; ">
				<![CDATA[리더십,
팔로우십]]>
			</caption>
			<caption id="caption15" class="list_cap02" style="left:83.47%; top:4.03%; width:13.84%; height:46.83%; "/>
			<caption id="caption36" class="list_cap02" style="left:83.47%; top:125.72%; width:13.84%; height:14.40%; "/>
			<caption id="caption37" class="list_cap02" style="left:15.70%; top:125.72%; width:67.98%; height:14.40%; "/>
			<caption id="caption9" class="list_cap01" style="left:83.47%; top:0.00%; width:13.84%; height:4.26%; ">평가</caption>
			<caption id="caption21" class="list_cap02" style="left:83.47%; top:50.67%; width:13.84%; height:46.83%; "/>
			<caption id="caption10" class="list_cap02" style="left:83.47%; top:97.31%; width:13.84%; height:14.40%; "/>
			<caption id="caption35" class="list_cap02" style="left:0.00%; top:125.72%; width:15.91%; height:14.40%; font-weight:bold; ">창의개선</caption>
			<caption id="caption33" class="list_cap02" style="left:83.47%; top:111.52%; width:13.84%; height:14.40%; "/>
			<caption id="caption30" class="list_cap02" style="left:15.70%; top:4.03%; width:67.98%; height:46.83%; "/>
			<caption id="caption20" class="list_cap01" style="left:15.66%; top:0.00%; width:68.06%; height:4.26%; ">본인성과기술 및 평가착안사항</caption>
			<caption id="caption43" style="left:47.60%; top:83.53%; width:7.31%; height:2.16%; text-align:center; "/>
			<caption id="caption14" class="list_cap02" style="left:0.00%; top:4.03%; width:15.91%; height:46.83%; font-weight:bold; ">개인성과</caption>
			<select1 id="combo3" ref="/root/reqData/reqForm/evlu_part_cd1" class="req" visibility="hidden" appearance="minimal" style="left:84.71%; top:5.23%; width:11.57%; height:18px; ">
				<choices>
					<itemset nodeset="/root/initData/comboSet/evlu_grad_cd/item">
						<label ref="evlu_grad_nm"/>
						<value ref="evlu_grad_cd"/>
					</itemset>
				</choices>
			</select1>
			<caption id="caption16" style="left:1.03%; top:34.17%; width:14.88%; height:5.37%; color:#999999; text-align:center; ">
				<![CDATA[[+크게보기]]]>
				<script type="javascript" ev:event="onclick">
					<![CDATA[
					model1.removenode("/root/reqData/fwdData");
                    model1.makeNode("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData/maintitle");
					model1.makeNode("/root/reqData/fwdData/remk");
					model1.makeNode("/root/reqData/fwdData/resRemk"); //리턴받는 임시변수
					model1.makeNode("/root/reqData/fwdData/maxlength");
					model1.makeNode("/root/reqData/fwdData/readonly");
					model1.makeNode("/root/reqData/fwdData/func_nm");
					model1.setValue("/root/reqData/fwdData/maintitle","개인성과 본인업적기술");
					model1.setValue("/root/reqData/fwdData/remk",textarea4.value);
					model1.setValue("/root/reqData/fwdData/maxlength", "");
					model1.setValue("/root/reqData/fwdData/readonly", "true");
					model1.setValue("/root/reqData/fwdData/func_nm","");
					window.load("/xrw/hd/evlu/HD_EVLU_1010.xrw","mdichild","mdi1","width:550;height:500;caption:hidden;align:center","/root/reqData/fwdData","/root/reqData/fwdData");
				]]>
				</script>
			</caption>
			<caption id="caption18" class="list_cap01" style="left:0.00%; top:0.00%; width:15.91%; height:4.26%; ">평가항목</caption>
			<textarea id="textarea4" ref="/root/resData/resForm/slf_achv_desc1" class="static_textarea" scroll="autovscroll" editable="false" style="left:16.74%; top:4.80%; width:65.70%; height:32.63%; font-weight:normal; color:#000000; text-align:left; vertical-align:top; ">
				<script type="javascript" ev:event="ondblclick">
					<![CDATA[
					model1.removenode("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData/maintitle");
					model1.makeNode("/root/reqData/fwdData/remk");
					model1.makeNode("/root/reqData/fwdData/resRemk"); //리턴받는 임시변수
					model1.makeNode("/root/reqData/fwdData/maxlength");
					model1.makeNode("/root/reqData/fwdData/readonly");
					model1.makeNode("/root/reqData/fwdData/func_nm");
					model1.setValue("/root/reqData/fwdData/maintitle","개인성과 본인업적기술");
					model1.setValue("/root/reqData/fwdData/remk",textarea4.value);
					model1.setValue("/root/reqData/fwdData/maxlength", "");
					model1.setValue("/root/reqData/fwdData/readonly", "true");
					model1.setValue("/root/reqData/fwdData/func_nm","");
					window.load("/xrw/hd/evlu/HD_EVLU_1010.xrw","mdichild","mdi1","width:550;height:500;caption:hidden;align:center","/root/reqData/fwdData","/root/reqData/fwdData");
				]]>
				</script>
			</textarea>
			<caption id="caption17" class="list_cap02" style="left:15.70%; top:50.67%; width:67.98%; height:46.83%; "/>
			<caption id="caption24" class="list_cap02" style="left:0.00%; top:50.67%; width:15.91%; height:46.83%; font-weight:bold; ">성과기여</caption>
			<select1 id="combo4" ref="/root/reqData/reqForm/evlu_part_cd2" class="req" visibility="hidden" appearance="minimal" style="left:84.71%; top:52.40%; width:11.57%; height:18px; ">
				<choices>
					<itemset nodeset="/root/initData/comboSet/evlu_grad_cd/item">
						<label ref="evlu_grad_nm"/>
						<value ref="evlu_grad_cd"/>
					</itemset>
				</choices>
			</select1>
			<caption id="caption26" style="left:1.03%; top:80.81%; width:14.88%; height:5.57%; color:#999999; text-align:center; ">
				<![CDATA[[+크게보기]]]>
				<script type="javascript" ev:event="onclick">
					<![CDATA[
					model1.removenode("/root/reqData/fwdData");
                    model1.makeNode("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData/maintitle");
					model1.makeNode("/root/reqData/fwdData/remk");
					model1.makeNode("/root/reqData/fwdData/resRemk"); //리턴받는 임시변수
					model1.makeNode("/root/reqData/fwdData/maxlength");
					model1.makeNode("/root/reqData/fwdData/readonly");
					model1.makeNode("/root/reqData/fwdData/func_nm");
					model1.setValue("/root/reqData/fwdData/maintitle","성과기여 본인업적기술");
					model1.setValue("/root/reqData/fwdData/remk",textarea3.value);
					model1.setValue("/root/reqData/fwdData/maxlength", "");
					model1.setValue("/root/reqData/fwdData/readonly", "true");
					model1.setValue("/root/reqData/fwdData/func_nm","");
					window.load("/xrw/hd/evlu/HD_EVLU_1010.xrw","mdichild","mdi1","width:550;height:500;caption:hidden;align:center","/root/reqData/fwdData","/root/reqData/fwdData");
				]]>
				</script>
			</caption>
			<textarea id="textarea3" ref="/root/resData/resForm/slf_achv_desc2" class="static_textarea" scroll="autovscroll" editable="false" style="left:16.94%; top:51.44%; width:65.70%; height:32.63%; font-weight:normal; color:#000000; text-align:left; vertical-align:top; ">
				<script type="javascript" ev:event="ondblclick">
					<![CDATA[
					model1.removenode("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData/maintitle");
					model1.makeNode("/root/reqData/fwdData/remk");
					model1.makeNode("/root/reqData/fwdData/resRemk"); //리턴받는 임시변수
					model1.makeNode("/root/reqData/fwdData/maxlength");
					model1.makeNode("/root/reqData/fwdData/readonly");
					model1.makeNode("/root/reqData/fwdData/func_nm");
					model1.setValue("/root/reqData/fwdData/maintitle","개인성과 본인업적기술");
					model1.setValue("/root/reqData/fwdData/remk",textarea4.value);
					model1.setValue("/root/reqData/fwdData/maxlength", "");
					model1.setValue("/root/reqData/fwdData/readonly", "true");
					model1.setValue("/root/reqData/fwdData/func_nm","");
					window.load("/xrw/hd/evlu/HD_EVLU_1010.xrw","mdichild","mdi1","width:550;height:500;caption:hidden;align:center","/root/reqData/fwdData","/root/reqData/fwdData");
				]]>
				</script>
			</textarea>
			<select1 id="combo5" ref="/root/reqData/reqForm/evlu_part_cd3" class="req" visibility="hidden" appearance="minimal" style="left:84.71%; top:98.46%; width:11.57%; height:18px; ">
				<choices>
					<itemset nodeset="/root/initData/comboSet/evlu_grad_cd/item">
						<label ref="evlu_grad_nm"/>
						<value ref="evlu_grad_cd"/>
					</itemset>
				</choices>
			</select1>
			<caption id="caption29" class="list_cap02" style="left:15.70%; top:97.31%; width:67.98%; height:14.40%; "/>
			<caption id="caption31" class="list_cap02" style="left:0.00%; top:97.31%; width:15.91%; height:14.40%; font-weight:bold; ">직무역량</caption>
			<select1 id="combo6" ref="/root/reqData/reqForm/evlu_part_cd4" class="req" visibility="hidden" appearance="minimal" style="left:84.50%; top:112.48%; width:11.57%; height:18px; ">
				<choices>
					<itemset nodeset="/root/initData/comboSet/evlu_grad_cd/item">
						<label ref="evlu_grad_nm"/>
						<value ref="evlu_grad_cd"/>
					</itemset>
				</choices>
			</select1>
			<select1 id="combo7" ref="/root/reqData/reqForm/evlu_part_cd5" class="req" visibility="hidden" appearance="minimal" style="left:84.71%; top:126.87%; width:11.57%; height:18px; ">
				<choices>
					<itemset nodeset="/root/initData/comboSet/evlu_grad_cd/item">
						<label ref="evlu_grad_nm"/>
						<value ref="evlu_grad_cd"/>
					</itemset>
				</choices>
			</select1>
			<group id="group4" visibility="hidden" style="left:91.23%; top:30.00%; width:5.22%; height:3.14%; ">
				<img id="img4" visibility="hidden" src="/images/hd/icon/icon_score_01.gif" style="left:0px; top:0px; width:27px; height:15px; background-stretch:stretch; "/>
				<img id="img5" visibility="hidden" src="/images/hd/icon/icon_score_02.gif" style="left:0px; top:0px; width:27px; height:15px; background-stretch:stretch; "/>
				<img id="img6" visibility="hidden" src="/images/hd/icon/icon_score_03.gif" style="left:0px; top:0px; width:27px; height:15px; background-stretch:stretch; "/>
				<img id="img7" visibility="hidden" src="/images/hd/icon/icon_score_04.gif" style="left:0px; top:0px; width:27px; height:15px; background-stretch:stretch; "/>
				<img id="img8" visibility="hidden" src="/images/hd/icon/icon_score_05.gif" style="left:0px; top:0px; width:27px; height:15px; background-stretch:stretch; "/>
			</group>
			<textarea id="textarea5" ref="/root/resData/resForm/act_desc1" class="static_textarea" scroll="autovscroll" editable="false" style="left:16.74%; top:37.81%; width:65.70%; height:12.48%; font-size:8pt; font-weight:normal; color:#000000; text-align:left; vertical-align:middle; background-color:#ffffff; border-color:#ffffff; ">
				<!--script type="javascript" ev:event="onclick">
					<![CDATA[
					model1.removenode("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData/maintitle");
					model1.makeNode("/root/reqData/fwdData/remk");
					model1.makeNode("/root/reqData/fwdData/resRemk"); //리턴받는 임시변수
					model1.makeNode("/root/reqData/fwdData/maxlength");
					model1.makeNode("/root/reqData/fwdData/readonly");
					model1.makeNode("/root/reqData/fwdData/func_nm");
					model1.setValue("/root/reqData/fwdData/maintitle","개인성과 정의");
					model1.setValue("/root/reqData/fwdData/remk",textarea1.value);
					model1.setValue("/root/reqData/fwdData/maxlength", "");
					model1.setValue("/root/reqData/fwdData/readonly", "true");
					model1.setValue("/root/reqData/fwdData/func_nm","");
					window.load("/xrw/hd/evlu/HD_EVLU_1010.xrw","mdichild","mdi1","width:455;height:400;caption:hidden;align:center","/root/reqData/fwdData","/root/reqData/fwdData");
				]]>
				</script-->
			</textarea>
			<textarea id="textarea6" ref="/root/resData/resForm/act_desc2" class="static_textarea" scroll="autovscroll" editable="false" style="left:16.94%; top:84.45%; width:65.70%; height:12.48%; font-size:8pt; font-weight:normal; color:#000000; text-align:left; vertical-align:top; background-color:#ffffff; border-color:#ffffff; ">
				<!--script type="javascript" ev:event="onclick">
					<![CDATA[
					model1.removenode("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData/maintitle");
					model1.makeNode("/root/reqData/fwdData/remk");
					model1.makeNode("/root/reqData/fwdData/resRemk"); //리턴받는 임시변수
					model1.makeNode("/root/reqData/fwdData/maxlength");
					model1.makeNode("/root/reqData/fwdData/readonly");
					model1.makeNode("/root/reqData/fwdData/func_nm");
					model1.setValue("/root/reqData/fwdData/maintitle","성과기여 정의");
					model1.setValue("/root/reqData/fwdData/remk",textarea2.value);
					model1.setValue("/root/reqData/fwdData/maxlength", "");
					model1.setValue("/root/reqData/fwdData/readonly", "true");
					model1.setValue("/root/reqData/fwdData/func_nm","");
					window.load("/xrw/hd/evlu/HD_EVLU_1010.xrw","mdichild","mdi1","width:455;height:400;caption:hidden;align:center","/root/reqData/fwdData","/root/reqData/fwdData");
				]]>
				</script-->
			</textarea>
			<textarea id="textarea7" ref="/root/resData/resForm/act_desc3" class="static_textarea" scroll="autovscroll" editable="false" style="left:16.94%; top:98.08%; width:65.70%; height:12.48%; font-size:8pt; font-weight:normal; color:#000000; text-align:left; vertical-align:top; background-color:#ffffff; border-color:#ffffff; ">
				<!--script type="javascript" ev:event="onclick">
					<![CDATA[
					model1.removenode("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData/maintitle");
					model1.makeNode("/root/reqData/fwdData/remk");
					model1.makeNode("/root/reqData/fwdData/resRemk"); //리턴받는 임시변수
					model1.makeNode("/root/reqData/fwdData/maxlength");
					model1.makeNode("/root/reqData/fwdData/readonly");
					model1.makeNode("/root/reqData/fwdData/func_nm");
					model1.setValue("/root/reqData/fwdData/maintitle","직무역량 정의");
					model1.setValue("/root/reqData/fwdData/remk",textarea5.value);
					model1.setValue("/root/reqData/fwdData/maxlength", "");
					model1.setValue("/root/reqData/fwdData/readonly", "true");
					model1.setValue("/root/reqData/fwdData/func_nm","");
					window.load("/xrw/hd/evlu/HD_EVLU_1010.xrw","mdichild","mdi1","width:455;height:400;caption:hidden;align:center","/root/reqData/fwdData","/root/reqData/fwdData");
				]]>
				</script-->
			</textarea>
			<textarea id="textarea8" ref="/root/resData/resForm/act_desc4" class="static_textarea" scroll="autovscroll" editable="false" style="left:16.94%; top:112.28%; width:65.70%; height:12.48%; font-size:8pt; font-weight:normal; color:#000000; text-align:left; vertical-align:top; background-color:#ffffff; border-color:#ffffff; ">
				<!--script type="javascript" ev:event="onclick">
					<![CDATA[
					model1.removenode("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData/maintitle");
					model1.makeNode("/root/reqData/fwdData/remk");
					model1.makeNode("/root/reqData/fwdData/resRemk"); //리턴받는 임시변수
					model1.makeNode("/root/reqData/fwdData/maxlength");
					model1.makeNode("/root/reqData/fwdData/readonly");
					model1.makeNode("/root/reqData/fwdData/func_nm");
					model1.setValue("/root/reqData/fwdData/maintitle","리더십 정의");
					model1.setValue("/root/reqData/fwdData/remk",textarea6.value);
					model1.setValue("/root/reqData/fwdData/maxlength", "");
					model1.setValue("/root/reqData/fwdData/readonly", "true");
					model1.setValue("/root/reqData/fwdData/func_nm","");
					window.load("/xrw/hd/evlu/HD_EVLU_1010.xrw","mdichild","mdi1","width:455;height:400;caption:hidden;align:center","/root/reqData/fwdData","/root/reqData/fwdData");
				]]>
				</script-->
			</textarea>
			<textarea id="textarea9" ref="/root/resData/resForm/act_desc5" class="static_textarea" scroll="autovscroll" editable="false" style="left:16.94%; top:126.68%; width:65.70%; height:12.48%; font-size:8pt; font-weight:normal; color:#000000; text-align:left; background-color:#ffffff; border-color:#ffffff; ">
				<!--script type="javascript" ev:event="onclick">
					<![CDATA[
					model1.removenode("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData/maintitle");
					model1.makeNode("/root/reqData/fwdData/remk");
					model1.makeNode("/root/reqData/fwdData/resRemk"); //리턴받는 임시변수
					model1.makeNode("/root/reqData/fwdData/maxlength");
					model1.makeNode("/root/reqData/fwdData/readonly");
					model1.makeNode("/root/reqData/fwdData/func_nm");
					model1.setValue("/root/reqData/fwdData/maintitle","창의개선 정의");
					model1.setValue("/root/reqData/fwdData/remk",textarea6.value);
					model1.setValue("/root/reqData/fwdData/maxlength", "");
					model1.setValue("/root/reqData/fwdData/readonly", "true");
					model1.setValue("/root/reqData/fwdData/func_nm","");
					window.load("/xrw/hd/evlu/HD_EVLU_1010.xrw","mdichild","mdi1","width:455;height:400;caption:hidden;align:center","/root/reqData/fwdData","/root/reqData/fwdData");
				]]>
				</script-->
			</textarea>
			<caption id="caption39" style="left:1.03%; top:27.83%; width:14.46%; height:4.80%; font-weight:bold; text-align:center; "/>
			<caption id="caption41" style="left:1.03%; top:74.47%; width:14.46%; height:4.80%; font-weight:bold; text-align:center; "/>
			<caption id="caption44" style="left:1.03%; top:104.80%; width:14.46%; height:4.80%; font-weight:bold; text-align:center; "/>
			<caption id="caption45" style="left:1.03%; top:120.15%; width:14.46%; height:4.80%; font-weight:bold; text-align:center; "/>
			<caption id="caption46" style="left:1.03%; top:133.21%; width:14.46%; height:4.80%; font-weight:bold; text-align:center; "/>
			<select1 id="radio1" ref="/root/reqData/reqForm/evlu_part_cd1" appearance="full" overflow="visible" style="left:84.50%; top:18.04%; width:4.34%; height:4.61%; border-style:none; ">
				<choices>
					<itemset nodeset="/root/initData/comboSet/evlu_grad_cd/item">
						<label ref="evlu_grad_nm"/>
						<value ref="evlu_grad_cd"/>
					</itemset>
				</choices>
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
					var grad_01 = 0 ;
					var ck_grad_01 = radio1.label ;
					var lenght = 0; 
					var percent = 0;
					var score =0; 
					
					lenght =  ck_grad_01.length;
					percent = parseInt(caption39.value.substring(1,3)); 
					score =  parseInt( ck_grad_01.substring(lenght-2,lenght )) ;
					
					 
					evluTotalScore()  ;
						//combo1.disabled = false;
					//	combo2.disabled = true;
						//model1.setValue("/root/reqData/searchData/use_flag", "");
					//	combo3.disabled = false;
					
				]]>
				</script>
			</select1>
			<select1 id="radio2" ref="/root/reqData/reqForm/evlu_part_cd2" appearance="full" overflow="visible" style="left:84.50%; top:64.30%; width:10.74%; height:4.61%; border-style:none; ">
				<choices>
					<itemset nodeset="/root/initData/comboSet/evlu_grad_cd/item">
						<label ref="evlu_grad_nm"/>
						<value ref="evlu_grad_cd"/>
					</itemset>
				</choices>
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
					var grad_01 = 0 ;
					var ck_grad_01 = radio1.label ;
					var lenght = 0; 
					var percent = 0;
					var score =0; 
					
					lenght =  ck_grad_01.length;
					percent = parseInt(caption39.value.substring(1,3)); 
					score =  parseInt( ck_grad_01.substring(lenght-2,lenght )) ;
					
					 
					evluTotalScore()  ;
						//combo1.disabled = false;
					//	combo2.disabled = true;
						//model1.setValue("/root/reqData/searchData/use_flag", "");
					//	combo3.disabled = false;
					
				]]>
				</script>
			</select1>
			<select1 id="radio3" ref="/root/reqData/reqForm/evlu_part_cd3" appearance="full" overflow="visible" style="left:84.50%; top:98.46%; width:10.74%; height:4.61%; border-style:none; ">
				<choices>
					<itemset nodeset="/root/initData/comboSet/evlu_grad_cd/item">
						<label ref="evlu_grad_nm"/>
						<value ref="evlu_grad_cd"/>
					</itemset>
				</choices>
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
					
					evluTotalScore()  ;
				]]>
				</script>
			</select1>
			<select1 id="radio4" ref="/root/reqData/reqForm/evlu_part_cd4" appearance="full" overflow="visible" style="left:84.50%; top:112.48%; width:10.74%; height:4.61%; border-style:none; ">
				<choices>
					<itemset nodeset="/root/initData/comboSet/evlu_grad_cd/item">
						<label ref="evlu_grad_nm"/>
						<value ref="evlu_grad_cd"/>
					</itemset>
				</choices>
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
					
					evluTotalScore()  ;
				]]>
				</script>
			</select1>
			<select1 id="radio5" ref="/root/reqData/reqForm/evlu_part_cd5" appearance="full" overflow="visible" style="left:84.71%; top:126.68%; width:10.74%; height:4.61%; border-style:none; ">
				<choices>
					<itemset nodeset="/root/initData/comboSet/evlu_grad_cd/item">
						<label ref="evlu_grad_nm"/>
						<value ref="evlu_grad_cd"/>
					</itemset>
				</choices>
				<script type="javascript" ev:event="xforms-value-changed">
					<![CDATA[
					
					evluTotalScore()  ;
				]]>
				</script>
			</select1>
		</group>
		<caption id="caption54" class="list_cap02" style="left:93.13%; top:88.76%; width:6.34%; height:8.89%; "/>
		<caption id="caption1" class="tit02" style="left:1.06%; top:26.67%; width:45.35%; height:20px; ">평가그룹별 피평가자 리스트</caption>
		<!-- 표준 항목. 타이틀, 기본버튼, 표시라인 -->
		<!--import id="iv_Title" src="../../../common/xrw/iv_TitleBar_hd.xrw" style="left:1.06%; top:0.65%; width:97.89%; height:3.79%; "/-->
		<!--group id="group_tit" class="gro_tit1" style="left:0.00%; top:0.00%; width:100.00%; height:29.00%; "-->
		<caption id="maintitle" ref="/root/initData/pageInfo/pageTitle" class="tit01" style="left:1.06%; top:1.96%; width:28.12%; height:27px; ">1차평가자.평가</caption>
		<!--group id="group_line" class="gro_line" style="left:0px; top:26px; width:897px; height:3px; "/-->
		<group id="group_line" style="left:1.06%; top:5.23%; width:98.20%; height:0.26%; background-color:#ececec; "/>
		<!-- 검색조건 -->
		<caption id="captoin1" class="list_cap02" visibility="visible" style="left:1.06%; top:6.01%; width:45.56%; height:3.40%; "/>
		<caption id="caption2" class="list_cap01" visibility="visible" style="left:1.06%; top:6.01%; width:10.57%; height:3.40%; ">평가구분</caption>
		<select1 id="combo1" ref="/root/reqData/searchData/evlu_cd" visibility="visible" appearance="minimal" style="left:12.16%; top:6.54%; width:10.57%; height:18px; ">
			<choices>
				<itemset nodeset="/root/initData/comboSet/evlu_cd/item">
					<label ref="evlu_cdnm"/>
					<value ref="evlu_cd"/>
				</itemset>
			</choices>
			<script type="javascript" ev:event="xforms-select">
				<![CDATA[
					searchList();
					
					model1.send("hd_evlu_4001_l");
					model1.setValue("/root/resData/use_chk",model1.getValue("/root/dataSet/CURLIST/record/use_chk"));
					model1.removenode("/root/dataSet");
					model1.refresh();
					
					var use_chk = model1.getValue("/root/resData/use_chk");
					
					if(use_chk == "20") {
						button5.disabled = true;
						button6.disabled = true;
						button7.disabled = true;
						button11.disabled = true;
						button12.disabled = true;
					} else {
						button5.disabled = false;
						button6.disabled = false;
						button7.disabled = false;
						button11.disabled = false;
						button12.disabled = false;
					}
				]]>
			</script>
		</select1>
		<!-- 평가대상자 -->
		<caption id="caption4" class="tit02" style="left:1.06%; top:10.07%; width:25.37%; height:20px; ">평가그룹</caption>
		<caption id="caption3" ref="/root/resData/resForm/s_nops_1tms_str" style="left:1.06%; top:30.33%; width:240px; height:2.61%; font-weight:bolder; color:#ff0000; text-align:left; border-left-style:none; border-top-style:none; border-right-style:none; border-bottom-style:none; ">'S' 등급 가능 인원은 0 명 이내 입니다.</caption>
		<datagrid id="datagrid2" nodeset="/root/resData/gridData2/record" allowselection="true" allowuserresize="false" caption="평가대상자^평가대상자^평가대상자^평가대상자^진행상태^진행상태^진행상태^성과부문^성과부문^성과부문^성과부문^능력부문^능력부문^능력부문^능력부문^능력부문^능력부문^보조평가^특별가감^평가결과^평가결과^평가결과^평가결과^평가결과|부서^사번^성명^직급^자기&#xA;평가^보조&#xA;평가^1차&#xA;평가^업무성과^업무성과코드^성과기여^성과지여코드^직무역량^직무역랑코드^리더쉽^리더쉽코드^창의개선^창의개선코드^보조평가^특별가감^잠정&#xA;등급^잠정&#xA;등급^조정건의^조정건의^최종&#xA;등급" colsep="#" colwidth="65, 0, 65, 0, 42, 42, 42, 40, 0, 40, 0, 40, 0, 40, 0, 40, 0, 40, 40, 42, 0, 20, 19, 42" mergecellsfixedrows="bycolrec" rowheader="seq" rowheight="20,35" rowsep="|" style="left:1.06%; top:33.46%; width:45.56%; height:64.18%; cursor:hand; ">
			<!--col ref="sel_chk" type="radio"/-->
			<col ref="dept_nm" style="text-align:left; "/>
			<col ref="emp_no" visibility="hidden"/>
			<col ref="nm_korn"/>
			<col ref="dty_nm" visibility="hidden" style="text-align:left; "/>
			<col ref="self_evlu_proc_stat"/>
			<col ref="asst_evlu_proc_stat"/>
			<col ref="evlu_proc_stat_1tms"/>
			<col ref="evlu_grad_nm_01" style="background-position:center; "/>
			<col ref="evlu_grad_cd_01"/>
			<col ref="evlu_grad_nm_02" style="background-position:center; "/>
			<col ref="evlu_grad_cd_02"/>
			<col ref="evlu_grad_nm_03" style="background-position:center; "/>
			<col ref="evlu_grad_cd_03"/>
			<col ref="evlu_grad_nm_04" style="background-position:center; "/>
			<col ref="evlu_grad_cd_04"/>
			<col ref="evlu_grad_nm_05" style="background-position:center; "/>
			<col ref="evlu_grad_cd_05"/>
			<col ref="asst_pnt" style="text-align:right; "/>
			<col ref="spc_psdo_redu_scorcnt" style="text-align:right; "/>
			<col ref="tmp_grad_01" style="background-position:center; "/>
			<col ref="tmp_grad" style="focus-rect:visible; "/>
			<col ref="evlu_pers_meda_grad_1tms_01" style="background-position:center; "/>
			<col ref="evlu_pers_meda_grad_1tms" type="inputbutton" style="left:698px; top:55px; width:42px; height:20px; "/>
			<col ref="evlu_pers_deci_grad_2tms"/>
			<script type="javascript" ev:event="onclick">
				<![CDATA[
					//if(datagrid2.valueMatrix(datagrid2.row,datagrid2.colRef("sel_chk")) == 'true'){
					//	getEvluInfo();
					//}
					getEvluInfo();
					
				]]>
			</script>
			<script type="javascript" ev:event="onbuttonclick">
				<![CDATA[
					if(datagrid2.col == datagrid2.colRef("evlu_pers_meda_grad_1tms")){
						model1.removeNodeset("/root/reqData/fwdData");
						model1.makeNode("/root/reqData/fwdData/evlu_yy");
						model1.makeNode("/root/reqData/fwdData/tms_clsf");
						model1.makeNode("/root/reqData/fwdData/emp_no");
						model1.makeNode("/root/reqData/fwdData/func_nm");
						model1.setValue("/root/reqData/fwdData/evlu_yy",model1.getValue("/root/reqData/reqForm/evlu_yy"));
						model1.setValue("/root/reqData/fwdData/tms_clsf",model1.getValue("/root/reqData/reqForm/tms_clsf"));
						model1.setValue("/root/reqData/fwdData/emp_no",datagrid2.valueMatrix(datagrid2.row,datagrid2.colRef("emp_no")));
						model1.setValue("/root/reqData/fwdData/func_nm", "setGrad_1tms");
						window.load("/xrw/hd/evlu/HD_EVLU_3200.xrw","mdichild", "hd_evlu_3100_m", "width:455;height:400;caption:hidden;align:center", "/root/reqData/fwdData", "/root/reqData/fwdData");
					}
				]]>
			</script>
		</datagrid>
		<!-- 평가대상자 기본정보 -->
		<group id="group2" style="left:47.15%; top:5.23%; width:0.26%; height:92.29%; background-color:#ececec; "/>
		<caption id="caption6" class="list_cap02" style="left:48.10%; top:8.10%; width:50.63%; height:3.40%; "/>
		<caption id="caption7" class="list_cap01" style="left:48.10%; top:8.10%; width:7.93%; height:3%; ">소속</caption>
		<input id="input1" ref="/root/resData/resForm/dept_nm" editable="false" style="left:56.45%; top:8.37%; width:13.74%; height:18px; font-weight:bold; text-align:center; "/>
		<caption id="caption11" class="list_cap02" style="left:48.10%; top:10.85%; width:50.63%; height:2.75%; "/>
		<caption id="caption12" class="list_cap01" style="left:73.36%; top:8.10%; width:7.93%; height:3%; ">사번/성명</caption>
		<input id="input4" ref="/root/resData/resForm/emp_info" editable="false" style="left:81.61%; top:8.37%; width:13.74%; height:18px; font-weight:bold; text-align:center; "/>
		<caption id="caption13" class="list_cap01" style="left:48.10%; top:10.85%; width:7.93%; height:2.75%; ">보조평가자</caption>
		<input id="input5" ref="/root/resData/resForm/asst_cnt" editable="false" inputtype="button" style="left:56.45%; top:11.11%; width:13.74%; height:18px; text-align:center; ">
			<script type="javascript" ev:event="onbuttonclick">
				<![CDATA[
						//보조평가자 팝업
						model1.removeNodeset("/root/reqData/fwdData");
						model1.makeNode("/root/reqData/fwdData/cmpy_cd");
						model1.makeNode("/root/reqData/fwdData/evlu_yy");
						model1.makeNode("/root/reqData/fwdData/tms_clsf");
						model1.makeNode("/root/reqData/fwdData/emp_no");
						model1.setValue("/root/reqData/fwdData/evlu_yy",model1.getValue("/root/reqData/reqForm/evlu_yy"));
						model1.setValue("/root/reqData/fwdData/tms_clsf",model1.getValue("/root/reqData/reqForm/tms_clsf"));
						model1.setValue("/root/reqData/fwdData/emp_no",model1.getValue("/root/resData/resForm/emp_no"));
						window.load("/xrw/hd/evlu/HD_EVLU_9003.xrw","mdichild", "hd_evlu_9003_l", "align:center; caption:hidden;", "/root/reqData/fwdData", "/root/reqData/fwdData");
				]]>
			</script>
		</input>
		<caption id="caption19" class="list_cap01" style="left:73.36%; top:10.85%; width:7.93%; height:2.75%; ">특별가감</caption>
		<input id="input9" ref="/root/resData/resForm/spc_psdo_redu_scorcnt" visibility="hidden" editable="false" inputtype="button" style="left:94.61%; top:11.11%; width:3.49%; height:18px; font-weight:bold; text-align:center; ">
			<script type="javascript" ev:event="onbuttonclick">
				<![CDATA[
					//특별가감 팝업
					model1.removeNodeset("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData/evlu_yy");
					model1.makeNode("/root/reqData/fwdData/tms_clsf");
					model1.makeNode("/root/reqData/fwdData/emp_no");
					model1.setValue("/root/reqData/fwdData/evlu_yy",model1.getValue("/root/reqData/reqForm/evlu_yy"));
					model1.setValue("/root/reqData/fwdData/tms_clsf",model1.getValue("/root/reqData/reqForm/tms_clsf"));
					model1.setValue("/root/reqData/fwdData/emp_no",model1.getValue("/root/resData/resForm/emp_no"));
					window.load("/xrw/hd/evlu/HD_EVLU_2800.xrw","mdichild", "hd_evlu_2800", "width:455;height:400;caption:hidden;align:center", "/root/reqData/fwdData", "/root/reqData/fwdData");
				]]>
			</script>
		</input>
		<!-- 1차평가자 평가 -->
		<caption id="caption22" class="tit02" style="left:47.67%; top:16.60%; width:12.58%; height:20px; ">1차평가자 평가</caption>
		<button id="button6" class="btn05" style="left:61.10%; top:16.60%; width:110px; height:21px; ">
			<caption>평가표 보완요청</caption>
			<script type="javascript" ev:event="DOMActivate">
				<![CDATA[
					if(model1.getValue("/root/resData/resForm/emp_no")==""){
						alert("피평가자를 선택하세요.");
						return;
					}
					var checkIndex = 0;
					for(var i=datagrid2.fixedRows; i<datagrid2.rows; i++){
						if(datagrid2.valueMatrix(i,datagrid2.colRef("sel_chk"))=="true") checkIndex = i;
					}
					if(datagrid2.valueMatrix(checkIndex, datagrid2.colRef("self_evlu_proc_stat"))=="진행중"){
						alert("피평가자의 자기평가가 진행중 입니다.");
						return;
					}
					 if(model1.getValue("/root/resData/resForm/evlu_proc_stat_1tms") == "20")
					{ 
						alert("평가가 완료되어 보안요청 할수 없음 ");
						return;
					}
					givingback1TmsStat();
				]]>
			</script>
		</button>
		<button id="button7" class="btn04" style="left:73.26%; top:16.60%; width:88px; height:21px; ">
			<caption>저장해두기</caption>
			<script type="javascript" ev:event="DOMActivate">
				<![CDATA[
					if(model1.getValue("/root/resData/resForm/emp_no")==""){
						alert("피평가자를 선택하세요.");
						return;
					}
					
				    if(model1.getValue("/root/resData/resForm/self_evlu_proc_stat") == "10")
					{
						alert("피평가자의 자기평가가 진행중 입니다.");
						return;
					}
					if(model1.getValue("/root/resData/resForm/evlu_proc_stat_1tms") == "20")
					{ 
						alert("이미 1차 평가 완료된 사원입니다.");
						return;
					}
				   if(model1.getValue("/root/resData/resForm/asst_evlu_proc_stat") == "10")
					{   
                       alert("보조평가자의 평가가 진행중 입니다.");
						return;
					}
					
					
					if (window.alert("임시저장 하시겠습니까?", "확인", 1) != 1) {
						return;
					};
					
					
					
					temporarySave();
				]]>
			</script>
		</button>
		<caption id="caption25" class="list_cap02" style="left:48.10%; top:13.46%; width:50.63%; height:2.75%; "/>
		<caption id="caption23" class="list_cap01" style="left:48.10%; top:13.46%; width:7.93%; height:2.75%; ">보조평가</caption>
		<textarea id="textarea1" ref="/root/resData/resForm/asst_evlu_opn" class="static_textarea" visibility="hidden" editable="false" style="left:73.47%; top:14.25%; width:6.34%; height:1.31%; text-align:left; vertical-align:top; ">
			<script type="javascript" ev:event="onclick">
				<![CDATA[
					model1.removenode("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData/maintitle");
					model1.makeNode("/root/reqData/fwdData/remk");
					model1.makeNode("/root/reqData/fwdData/resRemk"); //리턴받는 임시변수
					model1.makeNode("/root/reqData/fwdData/maxlength");
					model1.makeNode("/root/reqData/fwdData/readonly");
					model1.makeNode("/root/reqData/fwdData/func_nm");
					model1.setValue("/root/reqData/fwdData/maintitle","보조평가의견");
					model1.setValue("/root/reqData/fwdData/remk",textarea1.value);
					model1.setValue("/root/reqData/fwdData/maxlength", "500");
					model1.setValue("/root/reqData/fwdData/readonly", "true");
					model1.setValue("/root/reqData/fwdData/func_nm","setRemk");
					window.load("/xrw/hd/evlu/HD_EVLU_1010.xrw","mdichild","mdi1","width:455;height:400;caption:hidden;align:center","/root/reqData/fwdData","/root/reqData/fwdData");
				]]>
			</script>
		</textarea>
		<select1 id="combo2" ref="/root/resData/resForm/asst_evlu_grad_cd" disabled="true" visibility="hidden" appearance="minimal" style="left:81.61%; top:13.73%; width:13.74%; height:18px; font-weight:bold; ">
			<choices>
				<itemset nodeset="/root/initData/comboSet/evlu_grad_cd/item">
					<label ref="evlu_grad_nm"/>
					<value ref="evlu_grad_cd"/>
				</itemset>
			</choices>
		</select1>
		<caption id="caption27" class="list_cap02" style="left:48.10%; top:88.76%; width:39.75%; height:8.89%; "/>
		<caption id="caption28" class="list_cap01" style="left:48.10%; top:88.76%; width:8.46%; height:8.89%; text-align:center; ">평가종합의견</caption>
		<textarea id="textarea2" ref="/root/resData/resForm/evlu_cmpt_opn_1tms" class="req" editable="true" style="left:56.87%; top:89.28%; width:29.81%; height:7.84%; text-align:left; vertical-align:top; ">
			<script type="javascript" ev:event="ondblclick">
				<![CDATA[
					model1.removenode("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData/maintitle");
					model1.makeNode("/root/reqData/fwdData/remk");
					model1.makeNode("/root/reqData/fwdData/resRemk"); //리턴받는 임시변수
					model1.makeNode("/root/reqData/fwdData/maxlength");
					model1.makeNode("/root/reqData/fwdData/readonly");
					model1.makeNode("/root/reqData/fwdData/func_nm");
					model1.setValue("/root/reqData/fwdData/maintitle","평가종합의견");
					model1.setValue("/root/reqData/fwdData/remk",textarea2.value);
					model1.setValue("/root/reqData/fwdData/maxlength", "500");
					model1.setValue("/root/reqData/fwdData/func_nm","setRemk");
					window.load("/xrw/hd/evlu/HD_EVLU_1010.xrw","mdichild","mdi1","width:455;height:400;caption:hidden;align:center","/root/reqData/fwdData","/root/reqData/fwdData");
				]]>
			</script>
		</textarea>
		<!--iviewer id="iviewer1" visibility="hidden" src="/xrw/hd/evlu/HD_EVLU_3110.xrw" style="left:61.84%; top:28.10%; width:6.34%; height:1.96%; border-style:none; "/-->
		<input id="input10" ref="/root/reqData/searchData/local_nm_korn" visibility="hidden" imemode="hangul" style="left:28.86%; top:29.41%; width:10.57%; height:18px; ">
			<script type="javascript" ev:event="onkeyup">
				<![CDATA[
					if(event.keyCode == "13"){
						button3.dispatch("DOMActivate");
					}
				]]>
			</script>
		</input>
		<button id="button3" class="btn_grid04" visibility="hidden" style="left:39.85%; top:29.41%; width:6.77%; height:17px; ">
			<caption>이름검색</caption>
			<script type="javascript" ev:event="DOMActivate">
				<![CDATA[
					var raw = datagrid2.findRow(input10.currentText,0,datagrid2.colRef("nm_korn"),true,true);
					if(raw==-1){
						alert("결과내에 일치하는 평가대상자가 없습니다.");
					}else{
						datagrid2.topRow = raw;
					}
				]]>
			</script>
		</button>
		<caption id="caption8" style="left:56.34%; top:13.86%; width:8.03%; height:2.09%; color:#999999; ">
			<![CDATA[[ + 의견보기]]]>
			<script type="javascript" ev:event="onclick">
				<![CDATA[
					model1.removenode("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData/maintitle");
					model1.makeNode("/root/reqData/fwdData/remk");
					model1.makeNode("/root/reqData/fwdData/resRemk"); //리턴받는 임시변수
					model1.makeNode("/root/reqData/fwdData/maxlength");
					model1.makeNode("/root/reqData/fwdData/readonly");
					model1.makeNode("/root/reqData/fwdData/asst_pnt");
					model1.makeNode("/root/reqData/fwdData/func_nm");
					model1.setValue("/root/reqData/fwdData/maintitle","보조평가의견");
					model1.setValue("/root/reqData/fwdData/remk",textarea1.value);
					model1.setValue("/root/reqData/fwdData/maxlength", "500");
					model1.setValue("/root/reqData/fwdData/readonly", "true");
					model1.setValue("/root/reqData/fwdData/func_nm","setRemk");
					model1.setValue("/root/reqData/fwdData/asst_pnt",model1.getValue("/root/resData/resForm/asst_pnt" ) );

					
					window.load("/xrw/hd/evlu/HD_EVLU_1010.xrw","mdichild","mdi1","width:455;height:400;caption:hidden;align:center","/root/reqData/fwdData","/root/reqData/fwdData");
				]]>
			</script>
		</caption>
		<caption id="caption38" style="left:47.67%; top:44.71%; width:7.40%; height:2.09%; text-align:center; "/>
		<caption id="caption40" style="left:47.67%; top:60.78%; width:7.40%; height:2.09%; text-align:center; "/>
		<caption id="caption42" style="left:47.67%; top:77.78%; width:7.40%; height:2.09%; text-align:center; "/>
		<button id="button4" class="btn02" style="left:93.87%; top:1.96%; width:52px; height:21px; ">
			<caption>종료</caption>
			<script type="javascript" ev:event="DOMActivate">
				<![CDATA[
						window.close();		
					]]>
			</script>
		</button>
		<button id="button10" class="btn02" visibility="hidden" style="left:68.29%; top:1.96%; width:52px; height:21px; ">
			<caption>조회</caption>
			<script type="javascript" ev:event="DOMActivate">
				<![CDATA[
						searchList();
						model1.removeNode("/root/resData/gridData2");
						model1.makeNode("/root/resData/gridData2");
						model1.refresh();
					]]>
			</script>
		</button>
		<button id="button11" class="btn08" style="left:27.48%; top:30.20%; width:187px; height:21px; ">
			<caption>1차평가완료(2차평가자에게 전송)</caption>
			<script type="javascript" ev:event="DOMActivate">
				<![CDATA[
						if (window.alert("그룹평가완료 하시겠습니까?", "확인", 1) != 1) {
							return;
						};
						doneEvluGrp1tms();
					]]>
			</script>
		</button>
		<button id="button12" class="btn04" visibility="hidden" style="left:84.25%; top:1.96%; width:88px; height:21px; ">
			<caption>잠정등급집계</caption>
			<script type="javascript" ev:event="DOMActivate">
				<![CDATA[
						for(var i=datagrid2.fixedRows; i<datagrid2.rows; i++){
							if(datagrid2.valueMatrix(i,datagrid2.colRef("evlu_proc_stat_1tms"))=="진행중"){
								alert("진행중인 1차평가자가 있습니다. \n모든 평가자의 평가를 완료 후 잠정등급을 집계하시기 바랍니다.");
								return;
							}
						}
						if (window.alert("잠정등급집계 하시겠습니까?", "확인", 1) != 1) {
							return;
						};
						calTmpGrad();
					]]>
			</script>
		</button>
		<datagrid id="datagrid1" nodeset="/root/resData/gridData1/record" allowselection="true" allowuserresize="false" caption="평가그룹^진행상태^그룹코드" colsep="^" colwidth="170, 80, 5" mergecellsfixedrows="bycolrec" rowsep="|" style="left:1.06%; top:12.68%; width:430px; height:13.73%; ">
			<!--col ref="sel_chk" type="radio"/-->
			<col ref="evlu_grp_nm" format="yyyy" style="text-align:center; cursor:hand; "/>
			<col ref="evlu_proc_stat_1tms" style="text-align:center; cursor:hand; "/>
			<col ref="evlu_grp_cd" visibility="hidden"/>
			<script type="javascript" ev:event="onclick">
				<![CDATA[
					//if(datagrid1.valueMatrix(datagrid1.row,datagrid1.colRef("sel_chk")) == 'true') {
					//	searchList2();
					//}
					searchList2();
				]]>
			</script>
		</datagrid>
		<caption id="caption49" class="list_cap02" style="left:86.89%; top:88.76%; width:6.34%; height:8.89%; "/>
		<caption id="caption47" ref="/root/resData/resForm/cmpt_scor" style="left:87.32%; top:93.73%; width:5.39%; height:2.61%; text-align:right; background-color:#ffcc99; "/>
		<caption id="caption48" class="list_cap01" style="left:86.89%; top:88.76%; width:6.34%; height:3.27%; text-align:center; vertical-align:middle; ">평가총점</caption>
		<caption id="caption5" class="tit02" style="left:47.67%; top:5.49%; width:16.28%; height:20px; ">평가대상자 기본정보</caption>
		<caption id="caption50" style="left:85.10%; top:11.11%; width:8.03%; height:2.09%; color:#999999; ">
			<![CDATA[[ + 상세보기]]]>
			<script type="javascript" ev:event="onclick">
				<![CDATA[
					model1.removeNodeset("/root/reqData/fwdData");
					model1.makeNode("/root/reqData/fwdData/evlu_yy");
					model1.makeNode("/root/reqData/fwdData/tms_clsf");
					model1.makeNode("/root/reqData/fwdData/emp_no");
					model1.setValue("/root/reqData/fwdData/evlu_yy",model1.getValue("/root/reqData/reqForm/evlu_yy"));
					model1.setValue("/root/reqData/fwdData/tms_clsf",model1.getValue("/root/reqData/reqForm/tms_clsf"));
					model1.setValue("/root/reqData/fwdData/emp_no",model1.getValue("/root/resData/resForm/emp_no"));
					window.load("/xrw/hd/evlu/HD_EVLU_2800.xrw","mdichild", "hd_evlu_2800", "width:455;height:400;caption:hidden;align:center", "/root/reqData/fwdData", "/root/reqData/fwdData");
				]]>
			</script>
		</caption>
		<caption id="caption51" ref="/root/resData/resForm/spc_psdo_redu_scorcnt" style="left:82.35%; top:11.11%; width:3.17%; height:1.96%; "/>
		<group id="group1" style="left:420px; top:15px; width:365px; height:20px; ">
			<img id="img1" visibility="hidden" src="/images/hd/icon/stay_ing_01.gif" style="left:0px; top:0px; width:362px; height:19px; background-stretch:stretch; "/>
			<img id="img2" visibility="hidden" src="/images/hd/icon/stay_ing_02.gif" style="left:0px; top:0px; width:362px; height:19px; background-stretch:stretch; "/>
			<img id="img3" visibility="hidden" src="/images/hd/icon/stay_ing_03.gif" style="left:0px; top:0px; width:362px; height:19px; background-stretch:stretch; "/>
			<img id="img9" visibility="hidden" src="/images/hd/icon/stay_ing_04.gif" style="left:0px; top:0px; width:362px; height:19px; background-stretch:stretch; "/>
			<img id="img10" visibility="hidden" src="/images/hd/icon/stay_ing_05.gif" style="left:0px; top:0px; width:362px; height:19px; background-stretch:stretch; "/>
		</group>
		<caption id="caption52" ref="/root/resData/resForm/rvis_scor_1tms" style="left:93.55%; top:93.73%; width:5.39%; height:2.61%; text-align:right; background-color:#ffcc99; "/>
		<caption id="caption55" class="list_cap01" style="left:93.13%; top:88.76%; width:6.34%; height:3.27%; text-align:center; vertical-align:middle; ">보정점수</caption>
		<button id="button5" class="btn07" style="left:82.98%; top:16.60%; width:160px; height:21px; text-align:center; ">
			<caption>이 평가자에 대한 평가완료</caption>
			<script type="javascript" ev:event="DOMActivate">
				<![CDATA[
					if(model1.getValue("/root/resData/resForm/emp_no")==""){
						alert("피평가자를 선택하세요.");
						return;
					}
					if((radio1.value == "") || (radio2.value == "") || (radio3.value == "")
					 || (radio4.value == "") || (radio5.value == "") || (model1.getValue("/root/resData/resForm/evlu_cmpt_opn_1tms") == "")){
						alert("각 평가항목별 평가 및 평가종합의견을 입력해주세요.");
						return;
					}
					
					   if(model1.getValue("/root/resData/resForm/self_evlu_proc_stat") == "10")
					{
						alert("피평가자의 자기평가가 진행중 입니다.");
						return;
					}
				   if(model1.getValue("/root/resData/resForm/asst_evlu_proc_stat") == "10")
					{   
                       alert("보조평가자의 평가가 진행중 입니다.");
						return;
					}
					
					if(model1.getValue("/root/resData/resForm/evlu_proc_stat_1tms") == "20")
					{ 
						alert("이미 1차 평가 완료된 사원입니다.");
						return;
					}
					
			
					if (window.alert("평가완료 하시겠습니까?", "확인", 1) != 1) {
						return;
					};
					var checkIndex = 0;
					for(var i=datagrid2.fixedRows; i<datagrid2.rows; i++){
						if(datagrid2.valueMatrix(i,datagrid2.colRef("sel_chk"))=="true") checkIndex = i;
					}
					
					
				    Save();
					
				]]>
			</script>
		</button>
		<caption id="caption56" ref="/root/resData/resForm/asst_pnt" style="left:620px; top:105px; width:35px; height:20px; "/>
	</xhtml:body>
</xhtml:html>
